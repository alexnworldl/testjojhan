{"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _router = _interopRequireDefault(require(\"./router\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//Conexion a la base de dastos\n\n_mongoose.default.Promise = global.Promise;\nconst dbUrl = \"mongodb://localhost:27017/ecommerce_solitek\";\n_mongoose.default.connect(dbUrl, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n}).then(mongoose => console.log(\"Conectado a la base de datos en el puerto 27017\")).catch(err => console.log(err));\nconst app = (0, _express.default)();\napp.use((0, _cors.default)());\napp.use(_express.default.json());\napp.use(_express.default.urlencoded({\n  extended: true\n}));\napp.use(_express.default.static(_path.default.join(__dirname, 'public')));\napp.use('/api/', _router.default); //usa los rutas\n\napp.set('port', process.env.PORT || 3000);\napp.listen(app.get('port'), () => {\n  console.log(\"El servidor se ejecuto perfectamente en el puerto 3000\");\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NvcnMiLCJfcGF0aCIsIl9tb25nb29zZSIsIl9yb3V0ZXIiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIm1vbmdvb3NlIiwiUHJvbWlzZSIsImdsb2JhbCIsImRiVXJsIiwiY29ubmVjdCIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnIiLCJhcHAiLCJleHByZXNzIiwidXNlIiwiY29ycyIsImpzb24iLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJzdGF0aWMiLCJwYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsInJvdXRlciIsInNldCIsInByb2Nlc3MiLCJlbnYiLCJQT1JUIiwibGlzdGVuIiwiZ2V0Il0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFwiLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnXHJcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnXHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnXHJcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSdcclxuaW1wb3J0IHJvdXRlciBmcm9tIFwiLi9yb3V0ZXJcIlxyXG5cclxuLy9Db25leGlvbiBhIGxhIGJhc2UgZGUgZGFzdG9zXHJcblxyXG5tb25nb29zZS5Qcm9taXNlID0gZ2xvYmFsLlByb21pc2U7XHJcblxyXG5cclxuY29uc3QgZGJVcmwgPSBcIm1vbmdvZGI6Ly9sb2NhbGhvc3Q6MjcwMTcvZWNvbW1lcmNlX3NvbGl0ZWtcIjtcclxubW9uZ29vc2UuY29ubmVjdChkYlVybCAsIHtcclxuICAgIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSxcclxuICAgIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZVxyXG5cclxufVxyXG4pLnRoZW4obW9uZ29vc2UgPT4gY29uc29sZS5sb2coXCJDb25lY3RhZG8gYSBsYSBiYXNlIGRlIGRhdG9zIGVuIGVsIHB1ZXJ0byAyNzAxN1wiKSlcclxuLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuXHJcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcclxuYXBwLnVzZShjb3JzKCkpO1xyXG5cclxuYXBwLnVzZShleHByZXNzLmpzb24oKSk7XHJcbmFwcC51c2UoZXhwcmVzcy51cmxlbmNvZGVkKHtleHRlbmRlZDogdHJ1ZX0pKTtcclxuYXBwLnVzZShleHByZXNzLnN0YXRpYyhwYXRoLmpvaW4oX19kaXJuYW1lLCdwdWJsaWMnKSkpXHJcbmFwcC51c2UoJy9hcGkvJyxyb3V0ZXIpLy91c2EgbG9zIHJ1dGFzXHJcblxyXG5cclxuYXBwLnNldCgncG9ydCcsIHByb2Nlc3MuZW52LlBPUlQgfHwgMzAwMCk7XHJcbmFwcC5saXN0ZW4oYXBwLmdldCgncG9ydCcpLCAoKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhcIkVsIHNlcnZpZG9yIHNlIGVqZWN1dG8gcGVyZmVjdGFtZW50ZSBlbiBlbCBwdWVydG8gMzAwMFwiKTtcclxufSkiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsS0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsU0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksT0FBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQTZCLFNBQUFELHVCQUFBTSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRTdCOztBQUVBRyxpQkFBUSxDQUFDQyxPQUFPLEdBQUdDLE1BQU0sQ0FBQ0QsT0FBTztBQUdqQyxNQUFNRSxLQUFLLEdBQUcsNkNBQTZDO0FBQzNESCxpQkFBUSxDQUFDSSxPQUFPLENBQUNELEtBQUssRUFBRztFQUNyQkUsZUFBZSxFQUFFLElBQUk7RUFDckJDLGtCQUFrQixFQUFFO0FBRXhCLENBQ0EsQ0FBQyxDQUFDQyxJQUFJLENBQUNQLFFBQVEsSUFBSVEsT0FBTyxDQUFDQyxHQUFHLENBQUMsaURBQWlELENBQUMsQ0FBQyxDQUNqRkMsS0FBSyxDQUFDQyxHQUFHLElBQUlILE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRSxHQUFHLENBQUMsQ0FBQztBQUUvQixNQUFNQyxHQUFHLEdBQUcsSUFBQUMsZ0JBQU8sRUFBQyxDQUFDO0FBQ3JCRCxHQUFHLENBQUNFLEdBQUcsQ0FBQyxJQUFBQyxhQUFJLEVBQUMsQ0FBQyxDQUFDO0FBRWZILEdBQUcsQ0FBQ0UsR0FBRyxDQUFDRCxnQkFBTyxDQUFDRyxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ3ZCSixHQUFHLENBQUNFLEdBQUcsQ0FBQ0QsZ0JBQU8sQ0FBQ0ksVUFBVSxDQUFDO0VBQUNDLFFBQVEsRUFBRTtBQUFJLENBQUMsQ0FBQyxDQUFDO0FBQzdDTixHQUFHLENBQUNFLEdBQUcsQ0FBQ0QsZ0JBQU8sQ0FBQ00sTUFBTSxDQUFDQyxhQUFJLENBQUNDLElBQUksQ0FBQ0MsU0FBUyxFQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7QUFDdERWLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDLE9BQU8sRUFBQ1MsZUFBTSxDQUFDOztBQUd2QlgsR0FBRyxDQUFDWSxHQUFHLENBQUMsTUFBTSxFQUFFQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsSUFBSSxJQUFJLElBQUksQ0FBQztBQUN6Q2YsR0FBRyxDQUFDZ0IsTUFBTSxDQUFDaEIsR0FBRyxDQUFDaUIsR0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUFFLE1BQU07RUFDOUJyQixPQUFPLENBQUNDLEdBQUcsQ0FBQyx3REFBd0QsQ0FBQztBQUN6RSxDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_express","_interopRequireDefault","require","_cors","_path","_mongoose","_router","obj","__esModule","default","mongoose","Promise","global","dbUrl","connect","useNewUrlParser","useUnifiedTopology","then","console","log","catch","err","app","express","use","cors","json","urlencoded","extended","static","path","join","__dirname","router","set","process","env","PORT","listen","get"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\","sources":["index.js"],"sourcesContent":["import express from 'express'\r\nimport cors from 'cors'\r\nimport path from 'path'\r\nimport mongoose from 'mongoose'\r\nimport router from \"./router\"\r\n\r\n//Conexion a la base de dastos\r\n\r\nmongoose.Promise = global.Promise;\r\n\r\n\r\nconst dbUrl = \"mongodb://localhost:27017/ecommerce_solitek\";\r\nmongoose.connect(dbUrl , {\r\n    useNewUrlParser: true,\r\n    useUnifiedTopology: true\r\n\r\n}\r\n).then(mongoose => console.log(\"Conectado a la base de datos en el puerto 27017\"))\r\n.catch(err => console.log(err));\r\n\r\nconst app = express();\r\napp.use(cors());\r\n\r\napp.use(express.json());\r\napp.use(express.urlencoded({extended: true}));\r\napp.use(express.static(path.join(__dirname,'public')))\r\napp.use('/api/',router)//usa los rutas\r\n\r\n\r\napp.set('port', process.env.PORT || 3000);\r\napp.listen(app.get('port'), () => {\r\n    console.log(\"El servidor se ejecuto perfectamente en el puerto 3000\");\r\n})"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AAA6B,SAAAD,uBAAAM,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE7B;;AAEAG,iBAAQ,CAACC,OAAO,GAAGC,MAAM,CAACD,OAAO;AAGjC,MAAME,KAAK,GAAG,6CAA6C;AAC3DH,iBAAQ,CAACI,OAAO,CAACD,KAAK,EAAG;EACrBE,eAAe,EAAE,IAAI;EACrBC,kBAAkB,EAAE;AAExB,CACA,CAAC,CAACC,IAAI,CAACP,QAAQ,IAAIQ,OAAO,CAACC,GAAG,CAAC,iDAAiD,CAAC,CAAC,CACjFC,KAAK,CAACC,GAAG,IAAIH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC,CAAC;AAE/B,MAAMC,GAAG,GAAG,IAAAC,gBAAO,EAAC,CAAC;AACrBD,GAAG,CAACE,GAAG,CAAC,IAAAC,aAAI,EAAC,CAAC,CAAC;AAEfH,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACG,IAAI,CAAC,CAAC,CAAC;AACvBJ,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACI,UAAU,CAAC;EAACC,QAAQ,EAAE;AAAI,CAAC,CAAC,CAAC;AAC7CN,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACM,MAAM,CAACC,aAAI,CAACC,IAAI,CAACC,SAAS,EAAC,QAAQ,CAAC,CAAC,CAAC;AACtDV,GAAG,CAACE,GAAG,CAAC,OAAO,EAACS,eAAM,CAAC;;AAGvBX,GAAG,CAACY,GAAG,CAAC,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACC,IAAI,IAAI,IAAI,CAAC;AACzCf,GAAG,CAACgB,MAAM,CAAChB,GAAG,CAACiB,GAAG,CAAC,MAAM,CAAC,EAAE,MAAM;EAC9BrB,OAAO,CAACC,GAAG,CAAC,wDAAwD,CAAC;AACzE,CAAC,CAAC","ignoreList":[]}},"mtime":1716060001149},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _router = _interopRequireDefault(require(\"./router\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//Conexion a la base de dastos\n\n_mongoose.default.Promise = global.Promise;\nconst dbUrl = \"mongodb://localhost:27017/ecommerce_solitek\";\n_mongoose.default.connect(dbUrl, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n}).then(mongoose => console.log(\"Conectado a la base de datos en el puerto 27017\")).catch(err => console.log(err));\nconst app = (0, _express.default)();\napp.use((0, _cors.default)());\napp.use(_express.default.json());\napp.use(_express.default.urlencoded({\n  extended: true\n}));\napp.use(_express.default.static(_path.default.join(__dirname, 'public')));\napp.use('/api/', _router.default); //usa los rutas\n\napp.set('port', process.env.PORT || 3000);\napp.listen(app.get('port'), () => {\n  console.log(\"El servidor se ejecuto perfectamente en el puerto 3000\");\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NvcnMiLCJfcGF0aCIsIl9tb25nb29zZSIsIl9yb3V0ZXIiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIm1vbmdvb3NlIiwiUHJvbWlzZSIsImdsb2JhbCIsImRiVXJsIiwiY29ubmVjdCIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnIiLCJhcHAiLCJleHByZXNzIiwidXNlIiwiY29ycyIsImpzb24iLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJzdGF0aWMiLCJwYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsInJvdXRlciIsInNldCIsInByb2Nlc3MiLCJlbnYiLCJQT1JUIiwibGlzdGVuIiwiZ2V0Il0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFwiLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnXHJcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnXHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnXHJcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSdcclxuaW1wb3J0IHJvdXRlciBmcm9tIFwiLi9yb3V0ZXJcIlxyXG5cclxuLy9Db25leGlvbiBhIGxhIGJhc2UgZGUgZGFzdG9zXHJcblxyXG5tb25nb29zZS5Qcm9taXNlID0gZ2xvYmFsLlByb21pc2U7XHJcblxyXG5cclxuY29uc3QgZGJVcmwgPSBcIm1vbmdvZGI6Ly9sb2NhbGhvc3Q6MjcwMTcvZWNvbW1lcmNlX3NvbGl0ZWtcIjtcclxubW9uZ29vc2UuY29ubmVjdChkYlVybCAsIHtcclxuICAgIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSxcclxuICAgIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZVxyXG5cclxufVxyXG4pLnRoZW4obW9uZ29vc2UgPT4gY29uc29sZS5sb2coXCJDb25lY3RhZG8gYSBsYSBiYXNlIGRlIGRhdG9zIGVuIGVsIHB1ZXJ0byAyNzAxN1wiKSlcclxuLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuXHJcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcclxuYXBwLnVzZShjb3JzKCkpO1xyXG5cclxuYXBwLnVzZShleHByZXNzLmpzb24oKSk7XHJcbmFwcC51c2UoZXhwcmVzcy51cmxlbmNvZGVkKHtleHRlbmRlZDogdHJ1ZX0pKTtcclxuYXBwLnVzZShleHByZXNzLnN0YXRpYyhwYXRoLmpvaW4oX19kaXJuYW1lLCdwdWJsaWMnKSkpXHJcbmFwcC51c2UoJy9hcGkvJyxyb3V0ZXIpLy91c2EgbG9zIHJ1dGFzXHJcblxyXG5cclxuYXBwLnNldCgncG9ydCcsIHByb2Nlc3MuZW52LlBPUlQgfHwgMzAwMCk7XHJcbmFwcC5saXN0ZW4oYXBwLmdldCgncG9ydCcpLCAoKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhcIkVsIHNlcnZpZG9yIHNlIGVqZWN1dG8gcGVyZmVjdGFtZW50ZSBlbiBlbCBwdWVydG8gMzAwMFwiKTtcclxufSkiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsS0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsU0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksT0FBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQTZCLFNBQUFELHVCQUFBTSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRTdCOztBQUVBRyxpQkFBUSxDQUFDQyxPQUFPLEdBQUdDLE1BQU0sQ0FBQ0QsT0FBTztBQUdqQyxNQUFNRSxLQUFLLEdBQUcsNkNBQTZDO0FBQzNESCxpQkFBUSxDQUFDSSxPQUFPLENBQUNELEtBQUssRUFBRztFQUNyQkUsZUFBZSxFQUFFLElBQUk7RUFDckJDLGtCQUFrQixFQUFFO0FBRXhCLENBQ0EsQ0FBQyxDQUFDQyxJQUFJLENBQUNQLFFBQVEsSUFBSVEsT0FBTyxDQUFDQyxHQUFHLENBQUMsaURBQWlELENBQUMsQ0FBQyxDQUNqRkMsS0FBSyxDQUFDQyxHQUFHLElBQUlILE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRSxHQUFHLENBQUMsQ0FBQztBQUUvQixNQUFNQyxHQUFHLEdBQUcsSUFBQUMsZ0JBQU8sRUFBQyxDQUFDO0FBQ3JCRCxHQUFHLENBQUNFLEdBQUcsQ0FBQyxJQUFBQyxhQUFJLEVBQUMsQ0FBQyxDQUFDO0FBRWZILEdBQUcsQ0FBQ0UsR0FBRyxDQUFDRCxnQkFBTyxDQUFDRyxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ3ZCSixHQUFHLENBQUNFLEdBQUcsQ0FBQ0QsZ0JBQU8sQ0FBQ0ksVUFBVSxDQUFDO0VBQUNDLFFBQVEsRUFBRTtBQUFJLENBQUMsQ0FBQyxDQUFDO0FBQzdDTixHQUFHLENBQUNFLEdBQUcsQ0FBQ0QsZ0JBQU8sQ0FBQ00sTUFBTSxDQUFDQyxhQUFJLENBQUNDLElBQUksQ0FBQ0MsU0FBUyxFQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7QUFDdERWLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDLE9BQU8sRUFBQ1MsZUFBTSxDQUFDOztBQUd2QlgsR0FBRyxDQUFDWSxHQUFHLENBQUMsTUFBTSxFQUFFQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsSUFBSSxJQUFJLElBQUksQ0FBQztBQUN6Q2YsR0FBRyxDQUFDZ0IsTUFBTSxDQUFDaEIsR0FBRyxDQUFDaUIsR0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUFFLE1BQU07RUFDOUJyQixPQUFPLENBQUNDLEdBQUcsQ0FBQyx3REFBd0QsQ0FBQztBQUN6RSxDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_express","_interopRequireDefault","require","_cors","_path","_mongoose","_router","obj","__esModule","default","mongoose","Promise","global","dbUrl","connect","useNewUrlParser","useUnifiedTopology","then","console","log","catch","err","app","express","use","cors","json","urlencoded","extended","static","path","join","__dirname","router","set","process","env","PORT","listen","get"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\","sources":["index.js"],"sourcesContent":["import express from 'express'\r\nimport cors from 'cors'\r\nimport path from 'path'\r\nimport mongoose from 'mongoose'\r\nimport router from \"./router\"\r\n\r\n//Conexion a la base de dastos\r\n\r\nmongoose.Promise = global.Promise;\r\n\r\n\r\nconst dbUrl = \"mongodb://localhost:27017/ecommerce_solitek\";\r\nmongoose.connect(dbUrl , {\r\n    useNewUrlParser: true,\r\n    useUnifiedTopology: true\r\n\r\n}\r\n).then(mongoose => console.log(\"Conectado a la base de datos en el puerto 27017\"))\r\n.catch(err => console.log(err));\r\n\r\nconst app = express();\r\napp.use(cors());\r\n\r\napp.use(express.json());\r\napp.use(express.urlencoded({extended: true}));\r\napp.use(express.static(path.join(__dirname,'public')))\r\napp.use('/api/',router)//usa los rutas\r\n\r\n\r\napp.set('port', process.env.PORT || 3000);\r\napp.listen(app.get('port'), () => {\r\n    console.log(\"El servidor se ejecuto perfectamente en el puerto 3000\");\r\n})"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AAA6B,SAAAD,uBAAAM,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE7B;;AAEAG,iBAAQ,CAACC,OAAO,GAAGC,MAAM,CAACD,OAAO;AAGjC,MAAME,KAAK,GAAG,6CAA6C;AAC3DH,iBAAQ,CAACI,OAAO,CAACD,KAAK,EAAG;EACrBE,eAAe,EAAE,IAAI;EACrBC,kBAAkB,EAAE;AAExB,CACA,CAAC,CAACC,IAAI,CAACP,QAAQ,IAAIQ,OAAO,CAACC,GAAG,CAAC,iDAAiD,CAAC,CAAC,CACjFC,KAAK,CAACC,GAAG,IAAIH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC,CAAC;AAE/B,MAAMC,GAAG,GAAG,IAAAC,gBAAO,EAAC,CAAC;AACrBD,GAAG,CAACE,GAAG,CAAC,IAAAC,aAAI,EAAC,CAAC,CAAC;AAEfH,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACG,IAAI,CAAC,CAAC,CAAC;AACvBJ,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACI,UAAU,CAAC;EAACC,QAAQ,EAAE;AAAI,CAAC,CAAC,CAAC;AAC7CN,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACM,MAAM,CAACC,aAAI,CAACC,IAAI,CAACC,SAAS,EAAC,QAAQ,CAAC,CAAC,CAAC;AACtDV,GAAG,CAACE,GAAG,CAAC,OAAO,EAACS,eAAM,CAAC;;AAGvBX,GAAG,CAACY,GAAG,CAAC,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACC,IAAI,IAAI,IAAI,CAAC;AACzCf,GAAG,CAACgB,MAAM,CAAChB,GAAG,CAACiB,GAAG,CAAC,MAAM,CAAC,EAAE,MAAM;EAC9BrB,OAAO,CAACC,GAAG,CAAC,wDAAwD,CAAC;AACzE,CAAC,CAAC","ignoreList":[]}},"mtime":1716060001149},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.use('/users', _User.default);\nvar _default = exports.default = router; //cargando archivo de rutas de usuario\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwidXNlIiwiVXNlciIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxud29ybFxcRXNjcml0b3Jpb1xcUHJvZ3JhbWFjacOzblxcRWNvbW1lcmNlU29saXRla1xcYXBpX2Vjb21tZXJjZVxccm91dGVyXFwiLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gXCJleHByZXNzLXByb21pc2Utcm91dGVyXCJcclxuaW1wb3J0IFVzZXIgZnJvbSBcIi4vVXNlclwiXHJcblxyXG5cclxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xyXG5cclxucm91dGVyLnVzZSgnL3VzZXJzJyxVc2VyKTtcclxuXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOy8vY2FyZ2FuZG8gYXJjaGl2byBkZSBydXRhcyBkZSB1c3VhcmlvIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsS0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQXlCLFNBQUFELHVCQUFBRyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBR3pCLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFFeEJELE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLFFBQVEsRUFBQ0MsYUFBSSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFOLE9BQUEsR0FJWEMsTUFBTSxFQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_User","obj","__esModule","default","router","routerx","use","User","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\router\\","sources":["index.js"],"sourcesContent":["import routerx from \"express-promise-router\"\r\nimport User from \"./User\"\r\n\r\n\r\nconst router = routerx();\r\n\r\nrouter.use('/users',User);\r\n\r\n\r\n\r\nexport default router;//cargando archivo de rutas de usuario"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAyB,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAGzB,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,GAAG,CAAC,QAAQ,EAACC,aAAI,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAN,OAAA,GAIXC,MAAM,EAAC","ignoreList":[]}},"mtime":1716059015592},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _UserController = _interopRequireDefault(require(\"../controllers/UserController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\n//http://localhost:3000/api/users/register\n//http://localhost:3000/api/users/update\n\nrouter.post(\"/register\", _UserController.default.register);\nrouter.post(\"/register_admin\", _auth.default.verifyAdmin, _UserController.default.register_admin);\nrouter.put(\"/update\", _UserController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _UserController.default.list);\nrouter.post(\"/login\", _UserController.default.login);\nrouter.post(\"/login_admin\", _UserController.default.login_admin);\nrouter.delete(\"/delete\", _UserController.default.remove);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyQ29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsInVzZXJjb250cm9sbGVyIiwicmVnaXN0ZXIiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJyZWdpc3Rlcl9hZG1pbiIsInB1dCIsInVwZGF0ZSIsImdldCIsImxpc3QiLCJsb2dpbiIsImxvZ2luX2FkbWluIiwiZGVsZXRlIiwicmVtb3ZlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzcy1wcm9taXNlLXJvdXRlclwiXHJcbmltcG9ydCB1c2VyY29udHJvbGxlciBmcm9tIFwiLi4vY29udHJvbGxlcnMvVXNlckNvbnRyb2xsZXJcIlxyXG5pbXBvcnQgYXV0aCBmcm9tIFwiLi4vbWlkZGxld2FyZXMvYXV0aFwiO1xyXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XHJcbi8vaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2Vycy9yZWdpc3RlclxyXG4vL2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlcnMvdXBkYXRlXHJcblxyXG5cclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIix1c2VyY29udHJvbGxlci5yZWdpc3Rlcik7XHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyX2FkbWluXCIsYXV0aC52ZXJpZnlBZG1pbix1c2VyY29udHJvbGxlci5yZWdpc3Rlcl9hZG1pbik7XHJcbnJvdXRlci5wdXQoXCIvdXBkYXRlXCIsdXNlcmNvbnRyb2xsZXIudXBkYXRlKTtcclxucm91dGVyLmdldChcIi9saXN0XCIsYXV0aC52ZXJpZnlBZG1pbix1c2VyY29udHJvbGxlci5saXN0KTtcclxucm91dGVyLnBvc3QoXCIvbG9naW5cIix1c2VyY29udHJvbGxlci5sb2dpbik7XHJcbnJvdXRlci5wb3N0KFwiL2xvZ2luX2FkbWluXCIsdXNlcmNvbnRyb2xsZXIubG9naW5fYWRtaW4pO1xyXG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZVwiLHVzZXJjb250cm9sbGVyLnJlbW92ZSk7XHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxlQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBdUMsU0FBQUQsdUJBQUFJLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFDdkMsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUN4QjtBQUNBOztBQUdBRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUNDLHVCQUFjLENBQUNDLFFBQVEsQ0FBQztBQUNoREosTUFBTSxDQUFDRSxJQUFJLENBQUMsaUJBQWlCLEVBQUNHLGFBQUksQ0FBQ0MsV0FBVyxFQUFDSCx1QkFBYyxDQUFDSSxjQUFjLENBQUM7QUFDN0VQLE1BQU0sQ0FBQ1EsR0FBRyxDQUFDLFNBQVMsRUFBQ0wsdUJBQWMsQ0FBQ00sTUFBTSxDQUFDO0FBQzNDVCxNQUFNLENBQUNVLEdBQUcsQ0FBQyxPQUFPLEVBQUNMLGFBQUksQ0FBQ0MsV0FBVyxFQUFDSCx1QkFBYyxDQUFDUSxJQUFJLENBQUM7QUFDeERYLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFFBQVEsRUFBQ0MsdUJBQWMsQ0FBQ1MsS0FBSyxDQUFDO0FBQzFDWixNQUFNLENBQUNFLElBQUksQ0FBQyxjQUFjLEVBQUNDLHVCQUFjLENBQUNVLFdBQVcsQ0FBQztBQUN0RGIsTUFBTSxDQUFDYyxNQUFNLENBQUMsU0FBUyxFQUFDWCx1QkFBYyxDQUFDWSxNQUFNLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWxCLE9BQUEsR0FDaENDLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_UserController","_auth","obj","__esModule","default","router","routerx","post","usercontroller","register","auth","verifyAdmin","register_admin","put","update","get","list","login","login_admin","delete","remove","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\router\\","sources":["User.js"],"sourcesContent":["import routerx from \"express-promise-router\"\r\nimport usercontroller from \"../controllers/UserController\"\r\nimport auth from \"../middlewares/auth\";\r\nconst router = routerx();\r\n//http://localhost:3000/api/users/register\r\n//http://localhost:3000/api/users/update\r\n\r\n\r\nrouter.post(\"/register\",usercontroller.register);\r\nrouter.post(\"/register_admin\",auth.verifyAdmin,usercontroller.register_admin);\r\nrouter.put(\"/update\",usercontroller.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,usercontroller.list);\r\nrouter.post(\"/login\",usercontroller.login);\r\nrouter.post(\"/login_admin\",usercontroller.login_admin);\r\nrouter.delete(\"/delete\",usercontroller.remove);\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAuC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AACvC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxB;AACA;;AAGAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,uBAAc,CAACC,QAAQ,CAAC;AAChDJ,MAAM,CAACE,IAAI,CAAC,iBAAiB,EAACG,aAAI,CAACC,WAAW,EAACH,uBAAc,CAACI,cAAc,CAAC;AAC7EP,MAAM,CAACQ,GAAG,CAAC,SAAS,EAACL,uBAAc,CAACM,MAAM,CAAC;AAC3CT,MAAM,CAACU,GAAG,CAAC,OAAO,EAACL,aAAI,CAACC,WAAW,EAACH,uBAAc,CAACQ,IAAI,CAAC;AACxDX,MAAM,CAACE,IAAI,CAAC,QAAQ,EAACC,uBAAc,CAACS,KAAK,CAAC;AAC1CZ,MAAM,CAACE,IAAI,CAAC,cAAc,EAACC,uBAAc,CAACU,WAAW,CAAC;AACtDb,MAAM,CAACc,MAAM,CAAC,SAAS,EAACX,uBAAc,CAACY,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAlB,OAAA,GAChCC,MAAM","ignoreList":[]}},"mtime":1717647231750},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categoria = _interopRequireDefault(require(\"./Categoria\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nvar _Cupone = _interopRequireDefault(require(\"./Cupone\"));\nvar _Discount = _interopRequireDefault(require(\"./Discount\"));\nvar _Home = _interopRequireDefault(require(\"./Home\"));\nvar _Cart = _interopRequireDefault(require(\"./Cart\"));\nvar _AddressClient = _interopRequireDefault(require(\"./AddressClient\"));\nvar _Sale = _interopRequireDefault(require(\"./Sale\"));\nvar _Review = _interopRequireDefault(require(\"./Review\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.use('/users', _User.default);\nrouter.use('/categorias', _Categoria.default);\nrouter.use('/products', _Product.default);\nrouter.use('/sliders', _Slider.default);\nrouter.use('/cupones', _Cupone.default);\nrouter.use('/discount', _Discount.default);\nrouter.use('/home', _Home.default);\nrouter.use('/cart', _Cart.default);\nrouter.use('/address_client', _AddressClient.default);\nrouter.use('/sale', _Sale.default);\nrouter.use('/review', _Review.default);\n\n//ojo con home agregar bien\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyIiwiX0NhdGVnb3JpYSIsIl9Qcm9kdWN0IiwiX1NsaWRlciIsIl9DdXBvbmUiLCJfRGlzY291bnQiLCJfSG9tZSIsIl9DYXJ0IiwiX0FkZHJlc3NDbGllbnQiLCJfU2FsZSIsIl9SZXZpZXciLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsInJvdXRlcngiLCJ1c2UiLCJVc2VyIiwiQ2F0ZWdvcmlhIiwiUHJvZHVjdCIsIlNsaWRlciIsIkN1cG9uZSIsIkRpc2NvdW50IiwiSG9tZSIsIkNhcnQiLCJBZGRyZXNzQ2xpZW50IiwiU2FsZSIsIlJldmlldyIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxud29ybFxcRXNjcml0b3Jpb1xcUHJvZ3JhbWFjacOzblxcRWNvbW1lcmNlU29saXRla1xcYXBpX2Vjb21tZXJjZVxccm91dGVyXFwiLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gJ2V4cHJlc3MtcHJvbWlzZS1yb3V0ZXInXHJcbmltcG9ydCBVc2VyIGZyb20gJy4vVXNlcidcclxuaW1wb3J0IENhdGVnb3JpYSBmcm9tICcuL0NhdGVnb3JpYSdcclxuaW1wb3J0IFByb2R1Y3QgZnJvbSAnLi9Qcm9kdWN0J1xyXG5pbXBvcnQgU2xpZGVyIGZyb20gJy4vU2xpZGVyJ1xyXG5pbXBvcnQgQ3Vwb25lIGZyb20gJy4vQ3Vwb25lJ1xyXG5pbXBvcnQgRGlzY291bnQgZnJvbSAnLi9EaXNjb3VudCdcclxuaW1wb3J0IEhvbWUgZnJvbSAnLi9Ib21lJ1xyXG5pbXBvcnQgQ2FydCBmcm9tICcuL0NhcnQnXHJcbmltcG9ydCBBZGRyZXNzQ2xpZW50IGZyb20gJy4vQWRkcmVzc0NsaWVudCdcclxuaW1wb3J0IFNhbGUgZnJvbSAnLi9TYWxlJ1xyXG5pbXBvcnQgUmV2aWV3IGZyb20gJy4vUmV2aWV3J1xyXG5cclxuXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxucm91dGVyLnVzZSgnL3VzZXJzJywgVXNlcik7XHJcbnJvdXRlci51c2UoJy9jYXRlZ29yaWFzJywgQ2F0ZWdvcmlhKTtcclxucm91dGVyLnVzZSgnL3Byb2R1Y3RzJywgUHJvZHVjdCk7XHJcbnJvdXRlci51c2UoJy9zbGlkZXJzJywgU2xpZGVyKTtcclxucm91dGVyLnVzZSgnL2N1cG9uZXMnLCBDdXBvbmUpO1xyXG5yb3V0ZXIudXNlKCcvZGlzY291bnQnLCBEaXNjb3VudCk7XHJcbnJvdXRlci51c2UoJy9ob21lJywgSG9tZSk7XHJcbnJvdXRlci51c2UoJy9jYXJ0JywgQ2FydCk7XHJcbnJvdXRlci51c2UoJy9hZGRyZXNzX2NsaWVudCcsQWRkcmVzc0NsaWVudCk7XHJcbnJvdXRlci51c2UoJy9zYWxlJyxTYWxlKTtcclxuXHJcbnJvdXRlci51c2UoJy9yZXZpZXcnLFJldmlldyk7XHJcblxyXG4vL29qbyBjb24gaG9tZSBhZ3JlZ2FyIGJpZW5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxLQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxVQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxRQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSSxPQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSyxPQUFBLEdBQUFOLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBTSxTQUFBLEdBQUFQLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBTyxLQUFBLEdBQUFSLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBUSxLQUFBLEdBQUFULHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBUyxjQUFBLEdBQUFWLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBVSxLQUFBLEdBQUFYLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBVyxPQUFBLEdBQUFaLHNCQUFBLENBQUFDLE9BQUE7QUFBNkIsU0FBQUQsdUJBQUFhLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFHN0IsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUN4QkQsTUFBTSxDQUFDRSxHQUFHLENBQUMsUUFBUSxFQUFFQyxhQUFJLENBQUM7QUFDMUJILE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLGFBQWEsRUFBRUUsa0JBQVMsQ0FBQztBQUNwQ0osTUFBTSxDQUFDRSxHQUFHLENBQUMsV0FBVyxFQUFFRyxnQkFBTyxDQUFDO0FBQ2hDTCxNQUFNLENBQUNFLEdBQUcsQ0FBQyxVQUFVLEVBQUVJLGVBQU0sQ0FBQztBQUM5Qk4sTUFBTSxDQUFDRSxHQUFHLENBQUMsVUFBVSxFQUFFSyxlQUFNLENBQUM7QUFDOUJQLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLFdBQVcsRUFBRU0saUJBQVEsQ0FBQztBQUNqQ1IsTUFBTSxDQUFDRSxHQUFHLENBQUMsT0FBTyxFQUFFTyxhQUFJLENBQUM7QUFDekJULE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLE9BQU8sRUFBRVEsYUFBSSxDQUFDO0FBQ3pCVixNQUFNLENBQUNFLEdBQUcsQ0FBQyxpQkFBaUIsRUFBQ1Msc0JBQWEsQ0FBQztBQUMzQ1gsTUFBTSxDQUFDRSxHQUFHLENBQUMsT0FBTyxFQUFDVSxhQUFJLENBQUM7QUFFeEJaLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLFNBQVMsRUFBQ1csZUFBTSxDQUFDOztBQUU1QjtBQUFBLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBaEIsT0FBQSxHQUVlQyxNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_User","_Categoria","_Product","_Slider","_Cupone","_Discount","_Home","_Cart","_AddressClient","_Sale","_Review","obj","__esModule","default","router","routerx","use","User","Categoria","Product","Slider","Cupone","Discount","Home","Cart","AddressClient","Sale","Review","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\router\\","sources":["index.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport User from './User'\r\nimport Categoria from './Categoria'\r\nimport Product from './Product'\r\nimport Slider from './Slider'\r\nimport Cupone from './Cupone'\r\nimport Discount from './Discount'\r\nimport Home from './Home'\r\nimport Cart from './Cart'\r\nimport AddressClient from './AddressClient'\r\nimport Sale from './Sale'\r\nimport Review from './Review'\r\n\r\n\r\nconst router = routerx();\r\nrouter.use('/users', User);\r\nrouter.use('/categorias', Categoria);\r\nrouter.use('/products', Product);\r\nrouter.use('/sliders', Slider);\r\nrouter.use('/cupones', Cupone);\r\nrouter.use('/discount', Discount);\r\nrouter.use('/home', Home);\r\nrouter.use('/cart', Cart);\r\nrouter.use('/address_client',AddressClient);\r\nrouter.use('/sale',Sale);\r\n\r\nrouter.use('/review',Review);\r\n\r\n//ojo con home agregar bien\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,UAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,QAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,OAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,SAAA,GAAAP,sBAAA,CAAAC,OAAA;AACA,IAAAO,KAAA,GAAAR,sBAAA,CAAAC,OAAA;AACA,IAAAQ,KAAA,GAAAT,sBAAA,CAAAC,OAAA;AACA,IAAAS,cAAA,GAAAV,sBAAA,CAAAC,OAAA;AACA,IAAAU,KAAA,GAAAX,sBAAA,CAAAC,OAAA;AACA,IAAAW,OAAA,GAAAZ,sBAAA,CAAAC,OAAA;AAA6B,SAAAD,uBAAAa,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAG7B,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxBD,MAAM,CAACE,GAAG,CAAC,QAAQ,EAAEC,aAAI,CAAC;AAC1BH,MAAM,CAACE,GAAG,CAAC,aAAa,EAAEE,kBAAS,CAAC;AACpCJ,MAAM,CAACE,GAAG,CAAC,WAAW,EAAEG,gBAAO,CAAC;AAChCL,MAAM,CAACE,GAAG,CAAC,UAAU,EAAEI,eAAM,CAAC;AAC9BN,MAAM,CAACE,GAAG,CAAC,UAAU,EAAEK,eAAM,CAAC;AAC9BP,MAAM,CAACE,GAAG,CAAC,WAAW,EAAEM,iBAAQ,CAAC;AACjCR,MAAM,CAACE,GAAG,CAAC,OAAO,EAAEO,aAAI,CAAC;AACzBT,MAAM,CAACE,GAAG,CAAC,OAAO,EAAEQ,aAAI,CAAC;AACzBV,MAAM,CAACE,GAAG,CAAC,iBAAiB,EAACS,sBAAa,CAAC;AAC3CX,MAAM,CAACE,GAAG,CAAC,OAAO,EAACU,aAAI,CAAC;AAExBZ,MAAM,CAACE,GAAG,CAAC,SAAS,EAACW,eAAM,CAAC;;AAE5B;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAEeC,MAAM","ignoreList":[]}},"mtime":1718064494923},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      //name, user y password\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      const userT = await _models.default.User.create(req.body); //await para esperar\n      res.status(200).json({\n        message: \"REGISTRADO\",\n        user: userT\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register_admin: async (req, res) => {\n    try {\n      //name, user y password\n      const userV = await _models.default.User.findOne({\n        email: req.body.email\n      });\n      if (userV) {\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n      }\n      req.body.rol = \"admin\";\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      let user = await _models.default.User.create(req.body); //await para esperar\n      res.status(200).json({\n        user: _resources.default.User.user_list(user)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1\n      }); //encuentro al usuario con base al email\n      if (user) {\n        //si esta registrado en el sistema \n        let compare = await _bcryptjs.default.compare(req.body.password, user.password); //comparacion de contraseñas \n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email); //si todo esta bien se genera el token\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              _id: user.id,\n              name: user.name,\n              email: user.email,\n              subname: user.subname,\n              avatar: user.avatar\n            } //armar el cuerpo del token\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO ESTÁ REGISTRADO EN EL SISTEMA\"\n          });\n        }\n      } else {\n        //no esta registrado en el sitema\n        res.status(500).send({\n          message: \"EL USUARIO NO ESTÁ REGISTRADO EN EL SISTEMA\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login_admin: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1,\n        rol: 'admin'\n      }); //encuentro al usuario con base al email\n      if (user) {\n        //si esta registrado en el sistema \n        let compare = await _bcryptjs.default.compare(req.body.password, user.password); //comparacion de contraseñas \n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email); //si todo esta bien se genera el token\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              subname: user.subname,\n              avatar: user.avatar,\n              rol: user.rol\n            } //armar el cuerpo del token\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO ESTÁ REGISTRADO EN EL SISTEMA\"\n          });\n        }\n      } else {\n        //no esta registrado en el sitema\n        res.status(500).send({\n          message: \"EL USUARIO NO ESTÁ REGISTRADO EN EL SISTEMA\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files) {\n        var ima_path = req.files.avatar.path;\n        var name = ima_path.split('\\\\');\n        var avatar_name = name[2];\n        console.log(avatar_name);\n      }\n      if (req.body.password) {\n        req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      console.log(req.body._id);\n      await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let UserT = await _models.default.User.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n        user: _resources.default.User.user_list(UserT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Users = await _models.default.User.find({\n        $or: [{\n          \"name\": new RegExp(search, \"i\")\n        }, {\n          \"subname\": new RegExp(search, \"i\")\n        }, {\n          \"email\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Users = Users.map(user => {\n        return _resources.default.User.user_list(user);\n      });\n      res.status(200).json({\n        users: Users\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      const User = await _models.default.User.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE HA ELIMINADO\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYmNyeXB0anMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9tb2RlbHMiLCJfdG9rZW4iLCJfcmVzb3VyY2VzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImJvZHkiLCJwYXNzd29yZCIsImJjcnlwdCIsImhhc2giLCJ1c2VyVCIsIm1vZGVscyIsIlVzZXIiLCJjcmVhdGUiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInVzZXIiLCJlcnJvciIsInNlbmQiLCJjb25zb2xlIiwibG9nIiwicmVnaXN0ZXJfYWRtaW4iLCJ1c2VyViIsImZpbmRPbmUiLCJlbWFpbCIsInJvbCIsInJlc291cmNlIiwidXNlcl9saXN0IiwibG9naW4iLCJzdGF0ZSIsImNvbXBhcmUiLCJ0b2tlblQiLCJ0b2tlbiIsImVuY29kZSIsIl9pZCIsIlVTRVJfRlJPTlRFRCIsImlkIiwibmFtZSIsInN1Ym5hbWUiLCJhdmF0YXIiLCJsb2dpbl9hZG1pbiIsInVwZGF0ZSIsImZpbGVzIiwiaW1hX3BhdGgiLCJwYXRoIiwic3BsaXQiLCJhdmF0YXJfbmFtZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiVXNlclQiLCJsaXN0Iiwic2VhcmNoIiwicXVlcnkiLCJVc2VycyIsImZpbmQiLCIkb3IiLCJSZWdFeHAiLCJzb3J0IiwibWFwIiwidXNlcnMiLCJyZW1vdmUiLCJmaW5kQnlJZEFuZERlbGV0ZSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxud29ybFxcRXNjcml0b3Jpb1xcUHJvZ3JhbWFjacOzblxcRWNvbW1lcmNlU29saXRla1xcYXBpX2Vjb21tZXJjZVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiVXNlckNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcydcclxuaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnXHJcbmltcG9ydCB0b2tlbiBmcm9tICcuLi9zZXJ2aWNlcy90b2tlbidcclxuaW1wb3J0IHJlc291cmNlIGZyb20gJy4uL3Jlc291cmNlcydcclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgXHJcblxyXG5cclxuXHJcbiAgICByZWdpc3RlcjogYXN5bmMocmVxLHJlcyk9PntcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvL25hbWUsIHVzZXIgeSBwYXNzd29yZFxyXG4gICAgICAgICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKCByZXEuYm9keS5wYXNzd29yZCwxMCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXJUID0gYXdhaXQgbW9kZWxzLlVzZXIuY3JlYXRlKHJlcS5ib2R5KTsgLy9hd2FpdCBwYXJhIGVzcGVyYXJcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTpcIlJFR0lTVFJBRE9cIixcclxuICAgICAgICAgICAgICAgIHVzZXI6dXNlclRcclxuXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICBcclxuXHJcbiAgICB9LFxyXG4gICAgcmVnaXN0ZXJfYWRtaW46IGFzeW5jKHJlcSxyZXMpPT57XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy9uYW1lLCB1c2VyIHkgcGFzc3dvcmRcclxuICAgICAgICAgICAgY29uc3QgdXNlclYgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kT25lKHtlbWFpbDogcmVxLmJvZHkuZW1haWx9KTtcclxuICAgICAgICAgICAgaWYodXNlclYpe1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBZQSBFWElTVEVcIlxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVxLmJvZHkucm9sID0gXCJhZG1pblwiO1xyXG4gICAgICAgICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKCByZXEuYm9keS5wYXNzd29yZCwxMCk7XHJcbiAgICAgICAgICAgIGxldCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuY3JlYXRlKHJlcS5ib2R5KTsgLy9hd2FpdCBwYXJhIGVzcGVyYXJcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgdXNlcjogcmVzb3VyY2UuVXNlci51c2VyX2xpc3QodXNlcilcclxuXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICBcclxuXHJcbiAgICB9LFxyXG4gICAgbG9naW46IGFzeW5jKHJlcSxyZXMpPT57XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoe2VtYWlsOiByZXEuYm9keS5lbWFpbCwgc3RhdGU6MX0pOy8vZW5jdWVudHJvIGFsIHVzdWFyaW8gY29uIGJhc2UgYWwgZW1haWxcclxuICAgICAgICAgICAgaWYodXNlcil7XHJcbiAgICAgICAgICAgICAgICAvL3NpIGVzdGEgcmVnaXN0cmFkbyBlbiBlbCBzaXN0ZW1hIFxyXG4gICAgICAgICAgICAgICAgbGV0IGNvbXBhcmUgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShyZXEuYm9keS5wYXNzd29yZCx1c2VyLnBhc3N3b3JkKTsvL2NvbXBhcmFjaW9uIGRlIGNvbnRyYXNlw7FhcyBcclxuICAgICAgICAgICAgICAgIGlmKGNvbXBhcmUpe1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0b2tlblQgPSBhd2FpdCB0b2tlbi5lbmNvZGUodXNlci5faWQsdXNlci5yb2wsdXNlci5lbWFpbCk7Ly9zaSB0b2RvIGVzdGEgYmllbiBzZSBnZW5lcmEgZWwgdG9rZW5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBVU0VSX0ZST05URUQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOnRva2VuVCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcjp7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaWQ6IHVzZXIuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOnVzZXIubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOnVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJuYW1lOnVzZXIuc3VibmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2YXRhcjp1c2VyLmF2YXRhcixcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sLy9hcm1hciBlbCBjdWVycG8gZGVsIHRva2VuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVVNFUl9GUk9OVEVEOlVTRVJfRlJPTlRFRCxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVNUw4EgUkVHSVNUUkFETyBFTiBFTCBTSVNURU1BXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIC8vbm8gZXN0YSByZWdpc3RyYWRvIGVuIGVsIHNpdGVtYVxyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBOTyBFU1TDgSBSRUdJU1RSQURPIEVOIEVMIFNJU1RFTUFcIlxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0sXHJcbiAgICBsb2dpbl9hZG1pbjogYXN5bmMocmVxLHJlcyk9PntcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7ZW1haWw6IHJlcS5ib2R5LmVtYWlsLCBzdGF0ZToxLHJvbDonYWRtaW4nfSk7Ly9lbmN1ZW50cm8gYWwgdXN1YXJpbyBjb24gYmFzZSBhbCBlbWFpbFxyXG4gICAgICAgICAgICBpZih1c2VyKXtcclxuICAgICAgICAgICAgICAgIC8vc2kgZXN0YSByZWdpc3RyYWRvIGVuIGVsIHNpc3RlbWEgXHJcbiAgICAgICAgICAgICAgICBsZXQgY29tcGFyZSA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHJlcS5ib2R5LnBhc3N3b3JkLHVzZXIucGFzc3dvcmQpOy8vY29tcGFyYWNpb24gZGUgY29udHJhc2XDsWFzIFxyXG4gICAgICAgICAgICAgICAgaWYoY29tcGFyZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRva2VuVCA9IGF3YWl0IHRva2VuLmVuY29kZSh1c2VyLl9pZCx1c2VyLnJvbCx1c2VyLmVtYWlsKTsvL3NpIHRvZG8gZXN0YSBiaWVuIHNlIGdlbmVyYSBlbCB0b2tlblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFVTRVJfRlJPTlRFRCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46dG9rZW5ULFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyOntcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6dXNlci5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6dXNlci5lbWFpbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Ym5hbWU6dXNlci5zdWJuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZhdGFyOnVzZXIuYXZhdGFyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sOnVzZXIucm9sLFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwvL2FybWFyIGVsIGN1ZXJwbyBkZWwgdG9rZW5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBVU0VSX0ZST05URUQ6VVNFUl9GUk9OVEVELFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBOTyBFU1TDgSBSRUdJU1RSQURPIEVOIEVMIFNJU1RFTUFcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgLy9ubyBlc3RhIHJlZ2lzdHJhZG8gZW4gZWwgc2l0ZW1hXHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVTVMOBIFJFR0lTVFJBRE8gRU4gRUwgU0lTVEVNQVwiXHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSxcclxuICAgIHVwZGF0ZTogYXN5bmMocmVxLHJlcyk9PntcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZihyZXEuZmlsZXMpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGltYV9wYXRoID0gcmVxLmZpbGVzLmF2YXRhci5wYXRoO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBpbWFfcGF0aC5zcGxpdCgnXFxcXCcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGF2YXRhcl9uYW1lID0gbmFtZVsyXTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGF2YXRhcl9uYW1lKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYocmVxLmJvZHkucGFzc3dvcmQpe1xyXG4gICAgICAgICAgICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKCByZXEuYm9keS5wYXNzd29yZCwxMCk7XHJcbiAgICAgICAgIH1cclxuICAgICAgICAgY29uc29sZS5sb2cocmVxLmJvZHkuX2lkKTtcclxuICAgICAgICAgICAgICBhd2FpdCBtb2RlbHMuVXNlci5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiByZXEuYm9keS5faWR9LHJlcS5ib2R5KTtcclxuXHJcbiAgICAgICAgICAgIGxldCBVc2VyVCA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoe19pZDogcmVxLmJvZHkuX2lkfSk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gU0UgSEEgTU9ESUZJQ0FETyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICB1c2VyOiByZXNvdXJjZS5Vc2VyLnVzZXJfbGlzdChVc2VyVCksXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSxcclxuICAgIFxyXG4gICAgbGlzdDogYXN5bmMocmVxLHJlcyk9PntcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIHNlYXJjaCA9IHJlcS5xdWVyeS5zZWFyY2g7XHJcbiAgICAgICAgICAgIGxldCBVc2VycyA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmQoe1xyXG4gICAgICAgICAgICAgICAgJG9yOltcclxuICAgICAgICAgICAgICAgICAgICB7XCJuYW1lXCI6bmV3IFJlZ0V4cChzZWFyY2gsXCJpXCIpfSxcclxuICAgICAgICAgICAgICAgICAgICB7XCJzdWJuYW1lXCI6bmV3IFJlZ0V4cChzZWFyY2gsXCJpXCIpfSxcclxuICAgICAgICAgICAgICAgICAgICB7XCJlbWFpbFwiOm5ldyBSZWdFeHAoc2VhcmNoLFwiaVwiKX0sXHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH0pLnNvcnQoeydjcmVhdGVkQXQnOi0xfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBVc2VycyA9IFVzZXJzLm1hcCgodXNlcik9PntcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvdXJjZS5Vc2VyLnVzZXJfbGlzdCh1c2VyKTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIHVzZXJzOlVzZXJzXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgXHJcbiAgICByZW1vdmU6IGFzeW5jKHJlcSxyZXMpPT57XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICBjb25zdCBVc2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZEJ5SWRBbmREZWxldGUoe1xyXG4gICAgICAgICAgICBfaWQ6IHJlcS5xdWVyeS5faWRcclxuICAgICAgICAgICB9KTtcclxuICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBTRSBIQSBFTElNSU5BRE9cIixcclxuXHJcbiAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsTUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsVUFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQW1DLFNBQUFELHVCQUFBSyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxP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","map":{"version":3,"names":["_bcryptjs","_interopRequireDefault","require","_models","_token","_resources","obj","__esModule","default","_default","exports","register","req","res","body","password","bcrypt","hash","userT","models","User","create","status","json","message","user","error","send","console","log","register_admin","userV","findOne","email","rol","resource","user_list","login","state","compare","tokenT","token","encode","_id","USER_FRONTED","id","name","subname","avatar","login_admin","update","files","ima_path","path","split","avatar_name","findByIdAndUpdate","UserT","list","search","query","Users","find","$or","RegExp","sort","map","users","remove","findByIdAndDelete"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\controllers\\","sources":["UserController.js"],"sourcesContent":["import bcrypt from 'bcryptjs'\r\nimport models from '../models'\r\nimport token from '../services/token'\r\nimport resource from '../resources'\r\nexport default {\r\n    \r\n\r\n\r\n\r\n    register: async(req,res)=>{\r\n        try {\r\n            //name, user y password\r\n            req.body.password = await bcrypt.hash( req.body.password,10);\r\n            const userT = await models.User.create(req.body); //await para esperar\r\n            res.status(200).json({\r\n                message:\"REGISTRADO\",\r\n                user:userT\r\n\r\n\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n                \r\n            });\r\n            console.log(error);\r\n        }\r\n\r\n       \r\n\r\n    },\r\n    register_admin: async(req,res)=>{\r\n        try {\r\n            //name, user y password\r\n            const userV = await models.User.findOne({email: req.body.email});\r\n            if(userV){\r\n                res.status(500).send({\r\n                    message: \"EL USUARIO YA EXISTE\"\r\n                    \r\n                });\r\n            }\r\n            req.body.rol = \"admin\";\r\n            req.body.password = await bcrypt.hash( req.body.password,10);\r\n            let user = await models.User.create(req.body); //await para esperar\r\n            res.status(200).json({\r\n                user: resource.User.user_list(user)\r\n\r\n\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n                \r\n            });\r\n            console.log(error);\r\n        }\r\n\r\n       \r\n\r\n    },\r\n    login: async(req,res)=>{\r\n        try {\r\n            const user = await models.User.findOne({email: req.body.email, state:1});//encuentro al usuario con base al email\r\n            if(user){\r\n                //si esta registrado en el sistema \r\n                let compare = await bcrypt.compare(req.body.password,user.password);//comparacion de contraseñas \r\n                if(compare){\r\n                    let tokenT = await token.encode(user._id,user.rol,user.email);//si todo esta bien se genera el token\r\n                    const USER_FRONTED = {\r\n                        token:tokenT,\r\n                        user:{\r\n                            _id: user.id,\r\n                            name:user.name,\r\n                            email:user.email,\r\n                            subname:user.subname,\r\n                            avatar:user.avatar,\r\n\r\n                        },//armar el cuerpo del token\r\n                    }\r\n                    res.status(200).json({\r\n                        USER_FRONTED:USER_FRONTED,\r\n                    });\r\n\r\n\r\n                }else{\r\n                    res.status(500).send({\r\n                        message: \"EL USUARIO NO ESTÁ REGISTRADO EN EL SISTEMA\"\r\n                        \r\n                    });\r\n\r\n                }\r\n            }else{\r\n                //no esta registrado en el sitema\r\n                res.status(500).send({\r\n                    message: \"EL USUARIO NO ESTÁ REGISTRADO EN EL SISTEMA\"\r\n                    \r\n                });\r\n            }\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n                \r\n            });\r\n            console.log(error);\r\n        }\r\n\r\n    },\r\n    login_admin: async(req,res)=>{\r\n        try {\r\n            const user = await models.User.findOne({email: req.body.email, state:1,rol:'admin'});//encuentro al usuario con base al email\r\n            if(user){\r\n                //si esta registrado en el sistema \r\n                let compare = await bcrypt.compare(req.body.password,user.password);//comparacion de contraseñas \r\n                if(compare){\r\n                    let tokenT = await token.encode(user._id,user.rol,user.email);//si todo esta bien se genera el token\r\n                    const USER_FRONTED = {\r\n                        token:tokenT,\r\n                        user:{\r\n                            name:user.name,\r\n                            email:user.email,\r\n                            subname:user.subname,\r\n                            avatar:user.avatar,\r\n                            rol:user.rol,\r\n\r\n                        },//armar el cuerpo del token\r\n                    }\r\n                    res.status(200).json({\r\n                        USER_FRONTED:USER_FRONTED,\r\n                    });\r\n\r\n\r\n                }else{\r\n                    res.status(500).send({\r\n                        message: \"EL USUARIO NO ESTÁ REGISTRADO EN EL SISTEMA\"\r\n                        \r\n                    });\r\n\r\n                }\r\n            }else{\r\n                //no esta registrado en el sitema\r\n                res.status(500).send({\r\n                    message: \"EL USUARIO NO ESTÁ REGISTRADO EN EL SISTEMA\"\r\n                    \r\n                });\r\n            }\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n                \r\n            });\r\n            console.log(error);\r\n        }\r\n\r\n    },\r\n    update: async(req,res)=>{\r\n        try {\r\n            if(req.files){\r\n                var ima_path = req.files.avatar.path;\r\n                var name = ima_path.split('\\\\');\r\n                var avatar_name = name[2];\r\n                console.log(avatar_name);\r\n\r\n            }\r\n            if(req.body.password){\r\n               req.body.password = await bcrypt.hash( req.body.password,10);\r\n         }\r\n         console.log(req.body._id);\r\n              await models.User.findByIdAndUpdate({_id: req.body._id},req.body);\r\n\r\n            let UserT = await models.User.findOne({_id: req.body._id});\r\n\r\n            res.status(200).json({\r\n                message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\r\n                user: resource.User.user_list(UserT),\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n                \r\n            });\r\n            console.log(error);\r\n        }\r\n\r\n    },\r\n    \r\n    list: async(req,res)=>{\r\n\r\n        try {\r\n            var search = req.query.search;\r\n            let Users = await models.User.find({\r\n                $or:[\r\n                    {\"name\":new RegExp(search,\"i\")},\r\n                    {\"subname\":new RegExp(search,\"i\")},\r\n                    {\"email\":new RegExp(search,\"i\")},\r\n                ]\r\n            }).sort({'createdAt':-1});\r\n            \r\n            Users = Users.map((user)=>{\r\n                return resource.User.user_list(user);\r\n            })\r\n\r\n            res.status(200).json({\r\n                users:Users\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n                \r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    \r\n    remove: async(req,res)=>{\r\n        try {\r\n           const User = await models.User.findByIdAndDelete({\r\n            _id: req.query._id\r\n           });\r\n           res.status(200).json({\r\n            message: \"EL USUARIO SE HA ELIMINADO\",\r\n\r\n           });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n                \r\n            });\r\n            console.log(error);\r\n        }\r\n    }\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1718042245991},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categoria = _interopRequireDefault(require(\"./Categoria\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Variedad = _interopRequireDefault(require(\"./Variedad\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nvar _Cupone = _interopRequireDefault(require(\"./Cupone\"));\nvar _Discount = _interopRequireDefault(require(\"./Discount\"));\nvar _Cart = _interopRequireDefault(require(\"./Cart\"));\nvar _AddressClient = _interopRequireDefault(require(\"./AddressClient\"));\nvar _Sale = _interopRequireDefault(require(\"./Sale\"));\nvar _SaleDetail = _interopRequireDefault(require(\"./SaleDetail\"));\nvar _SaleAddress = _interopRequireDefault(require(\"./SaleAddress\"));\nvar _Review = _interopRequireDefault(require(\"./Review\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  User: _User.default,\n  Categoria: _Categoria.default,\n  Product: _Product.default,\n  Variedad: _Variedad.default,\n  Slider: _Slider.default,\n  Cupone: _Cupone.default,\n  Discount: _Discount.default,\n  Cart: _Cart.default,\n  AddressClient: _AddressClient.default,\n  Sale: _Sale.default,\n  SaleDetail: _SaleDetail.default,\n  SaleAddress: _SaleAddress.default,\n  Review: _Review.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfVXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0NhdGVnb3JpYSIsIl9Qcm9kdWN0IiwiX1ZhcmllZGFkIiwiX1NsaWRlciIsIl9DdXBvbmUiLCJfRGlzY291bnQiLCJfQ2FydCIsIl9BZGRyZXNzQ2xpZW50IiwiX1NhbGUiLCJfU2FsZURldGFpbCIsIl9TYWxlQWRkcmVzcyIsIl9SZXZpZXciLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsIlVzZXIiLCJDYXRlZ29yaWEiLCJQcm9kdWN0IiwiVmFyaWVkYWQiLCJTbGlkZXIiLCJDdXBvbmUiLCJEaXNjb3VudCIsIkNhcnQiLCJBZGRyZXNzQ2xpZW50IiwiU2FsZSIsIlNhbGVEZXRhaWwiLCJTYWxlQWRkcmVzcyIsIlJldmlldyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxud29ybFxcRXNjcml0b3Jpb1xcUHJvZ3JhbWFjacOzblxcRWNvbW1lcmNlU29saXRla1xcYXBpX2Vjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVc2VyIGZyb20gJy4vVXNlcidcclxuaW1wb3J0IENhdGVnb3JpYSBmcm9tICcuL0NhdGVnb3JpYSdcclxuaW1wb3J0IFByb2R1Y3QgZnJvbSAnLi9Qcm9kdWN0J1xyXG5pbXBvcnQgVmFyaWVkYWQgZnJvbSAnLi9WYXJpZWRhZCdcclxuaW1wb3J0IFNsaWRlciBmcm9tICcuL1NsaWRlcidcclxuaW1wb3J0IEN1cG9uZSBmcm9tICcuL0N1cG9uZSdcclxuaW1wb3J0IERpc2NvdW50IGZyb20gJy4vRGlzY291bnQnXHJcbmltcG9ydCBDYXJ0IGZyb20gJy4vQ2FydCdcclxuaW1wb3J0ICBBZGRyZXNzQ2xpZW50IGZyb20gJy4vQWRkcmVzc0NsaWVudCdcclxuXHJcbmltcG9ydCBTYWxlIGZyb20gJy4vU2FsZSdcclxuaW1wb3J0IFNhbGVEZXRhaWwgZnJvbSAnLi9TYWxlRGV0YWlsJ1xyXG5pbXBvcnQgU2FsZUFkZHJlc3MgZnJvbSAnLi9TYWxlQWRkcmVzcydcclxuXHJcbmltcG9ydCBSZXZpZXcgZnJvbSAnLi9SZXZpZXcnXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgVXNlcixcclxuICAgIENhdGVnb3JpYSxcclxuICAgIFByb2R1Y3QsXHJcbiAgICBWYXJpZWRhZCxcclxuICAgIFNsaWRlcixcclxuICAgIEN1cG9uZSxcclxuICAgIERpc2NvdW50LFxyXG4gICAgQ2FydCxcclxuICAgIEFkZHJlc3NDbGllbnQsXHJcbiAgICBTYWxlLFxyXG4gICAgU2FsZURldGFpbCxcclxuICAgIFNhbGVBZGRyZXNzLFxyXG4gICAgUmV2aWV3LFxyXG4gICAgXHJcblxyXG4gICBcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsS0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsVUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsUUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsU0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksT0FBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUssT0FBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU0sU0FBQSxHQUFBUCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU8sS0FBQSxHQUFBUixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVEsY0FBQSxHQUFBVCxzQkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBQVMsS0FBQSxHQUFBVixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVUsV0FBQSxHQUFBWCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVcsWUFBQSxHQUFBWixzQkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBQVksT0FBQSxHQUFBYixzQkFBQSxDQUFBQyxPQUFBO0FBQTZCLFNBQUFELHVCQUFBYyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FHZDtFQUNYRyxJQUFJLEVBQUpBLGFBQUk7RUFDSkMsU0FBUyxFQUFUQSxrQkFBUztFQUNUQyxPQUFPLEVBQVBBLGdCQUFPO0VBQ1BDLFFBQVEsRUFBUkEsaUJBQVE7RUFDUkMsTUFBTSxFQUFOQSxlQUFNO0VBQ05DLE1BQU0sRUFBTkEsZUFBTTtFQUNOQyxRQUFRLEVBQVJBLGlCQUFRO0VBQ1JDLElBQUksRUFBSkEsYUFBSTtFQUNKQyxhQUFhLEVBQWJBLHNCQUFhO0VBQ2JDLElBQUksRUFBSkEsYUFBSTtFQUNKQyxVQUFVLEVBQVZBLG1CQUFVO0VBQ1ZDLFdBQVcsRUFBWEEsb0JBQVc7RUFDWEMsTUFBTSxFQUFOQTtBQUlKLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_User","_interopRequireDefault","require","_Categoria","_Product","_Variedad","_Slider","_Cupone","_Discount","_Cart","_AddressClient","_Sale","_SaleDetail","_SaleAddress","_Review","obj","__esModule","default","_default","exports","User","Categoria","Product","Variedad","Slider","Cupone","Discount","Cart","AddressClient","Sale","SaleDetail","SaleAddress","Review"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\models\\","sources":["index.js"],"sourcesContent":["import User from './User'\r\nimport Categoria from './Categoria'\r\nimport Product from './Product'\r\nimport Variedad from './Variedad'\r\nimport Slider from './Slider'\r\nimport Cupone from './Cupone'\r\nimport Discount from './Discount'\r\nimport Cart from './Cart'\r\nimport  AddressClient from './AddressClient'\r\n\r\nimport Sale from './Sale'\r\nimport SaleDetail from './SaleDetail'\r\nimport SaleAddress from './SaleAddress'\r\n\r\nimport Review from './Review'\r\n\r\n\r\nexport default {\r\n    User,\r\n    Categoria,\r\n    Product,\r\n    Variedad,\r\n    Slider,\r\n    Cupone,\r\n    Discount,\r\n    Cart,\r\n    AddressClient,\r\n    Sale,\r\n    SaleDetail,\r\n    SaleAddress,\r\n    Review,\r\n    \r\n\r\n   \r\n}"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,QAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,OAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,SAAA,GAAAP,sBAAA,CAAAC,OAAA;AACA,IAAAO,KAAA,GAAAR,sBAAA,CAAAC,OAAA;AACA,IAAAQ,cAAA,GAAAT,sBAAA,CAAAC,OAAA;AAEA,IAAAS,KAAA,GAAAV,sBAAA,CAAAC,OAAA;AACA,IAAAU,WAAA,GAAAX,sBAAA,CAAAC,OAAA;AACA,IAAAW,YAAA,GAAAZ,sBAAA,CAAAC,OAAA;AAEA,IAAAY,OAAA,GAAAb,sBAAA,CAAAC,OAAA;AAA6B,SAAAD,uBAAAc,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAGd;EACXG,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA,kBAAS;EACTC,OAAO,EAAPA,gBAAO;EACPC,QAAQ,EAARA,iBAAQ;EACRC,MAAM,EAANA,eAAM;EACNC,MAAM,EAANA,eAAM;EACNC,QAAQ,EAARA,iBAAQ;EACRC,IAAI,EAAJA,aAAI;EACJC,aAAa,EAAbA,sBAAa;EACbC,IAAI,EAAJA,aAAI;EACJC,UAAU,EAAVA,mBAAU;EACVC,WAAW,EAAXA,oBAAW;EACXC,MAAM,EAANA;AAIJ,CAAC","ignoreList":[]}},"mtime":1718064486733},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\n//todas las caracteristicas del modelo\n\nconst UserSchema = new _mongoose.Schema({\n  rol: {\n    type: String,\n    maxlength: 30,\n    required: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  subname: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    required: true,\n    unique: true\n  },\n  //campo unico\n  password: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  avatar: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  state: {\n    type: Number,\n    default: 1\n  },\n  // 1 es activo y 2 es desactivo\n  phone: {\n    type: String,\n    maxlength: 20,\n    required: false\n  },\n  birthday: {\n    type: String,\n    maxlength: 20,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst User = _mongoose.default.model(\"user\", UserSchema);\nvar _default = exports.default = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJVc2VyU2NoZW1hIiwiU2NoZW1hIiwicm9sIiwidHlwZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsInJlcXVpcmVkIiwibmFtZSIsInN1Ym5hbWUiLCJlbWFpbCIsInVuaXF1ZSIsInBhc3N3b3JkIiwiYXZhdGFyIiwic3RhdGUiLCJOdW1iZXIiLCJwaG9uZSIsImJpcnRoZGF5IiwidGltZXN0YW1wcyIsIlVzZXIiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvL3RvZGFzIGxhcyBjYXJhY3RlcmlzdGljYXMgZGVsIG1vZGVsb1xyXG5pbXBvcnQgbW9uZ29vc2Use1NjaGVtYX0gZnJvbSAnbW9uZ29vc2UnO1xyXG5cclxuY29uc3QgVXNlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgcm9sOnt0eXBlOiBTdHJpbmcsbWF4bGVuZ3RoOjMwLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgbmFtZTp7dHlwZTogU3RyaW5nLG1heGxlbmd0aDoyNTAscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBzdWJuYW1lOnt0eXBlOiBTdHJpbmcsbWF4bGVuZ3RoOjI1MCxyZXF1aXJlZDpmYWxzZX0sXHJcbiAgICBlbWFpbDp7dHlwZTogU3RyaW5nLG1heGxlbmd0aDoyNTAscmVxdWlyZWQ6dHJ1ZSx1bmlxdWU6dHJ1ZX0sLy9jYW1wbyB1bmljb1xyXG4gICAgcGFzc3dvcmQ6e3R5cGU6IFN0cmluZyxtYXhsZW5ndGg6MjUwLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgYXZhdGFyOnt0eXBlOiBTdHJpbmcsbWF4bGVuZ3RoOjI1MCxyZXF1aXJlZDpmYWxzZX0sXHJcbiAgICBzdGF0ZTp7dHlwZTogTnVtYmVyLGRlZmF1bHQ6MX0sLy8gMSBlcyBhY3Rpdm8geSAyIGVzIGRlc2FjdGl2b1xyXG4gICAgcGhvbmU6e3R5cGU6IFN0cmluZyxtYXhsZW5ndGg6MjAscmVxdWlyZWQ6ZmFsc2V9LFxyXG4gICAgYmlydGhkYXk6e3R5cGU6IFN0cmluZyxtYXhsZW5ndGg6MjAscmVxdWlyZWQ6ZmFsc2V9LFxyXG5cclxuXHJcblxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6IHRydWVcclxufSk7XHJcblxyXG5jb25zdCBVc2VyID0gbW9uZ29vc2UubW9kZWwoXCJ1c2VyXCIsVXNlclNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IFVzZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFDQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBeUMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxLQUFBRixDQUFBO0FBQUEsU0FBQUgsd0JBQUFHLENBQUEsRUFBQUUsQ0FBQSxTQUFBQSxDQUFBLElBQUFGLENBQUEsSUFBQUEsQ0FBQSxDQUFBSSxVQUFBLFNBQUFKLENBQUEsZUFBQUEsQ0FBQSx1QkFBQUEsQ0FBQSx5QkFBQUEsQ0FBQSxXQUFBSyxPQUFBLEVBQUFMLENBQUEsUUFB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","UserSchema","Schema","rol","type","String","maxlength","required","name","subname","email","unique","password","avatar","state","Number","phone","birthday","timestamps","User","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\models\\","sources":["User.js"],"sourcesContent":["//todas las caracteristicas del modelo\r\nimport mongoose,{Schema} from 'mongoose';\r\n\r\nconst UserSchema = new Schema({\r\n    rol:{type: String,maxlength:30,required:true},\r\n    name:{type: String,maxlength:250,required:true},\r\n    subname:{type: String,maxlength:250,required:false},\r\n    email:{type: String,maxlength:250,required:true,unique:true},//campo unico\r\n    password:{type: String,maxlength:250,required:true},\r\n    avatar:{type: String,maxlength:250,required:false},\r\n    state:{type: Number,default:1},// 1 es activo y 2 es desactivo\r\n    phone:{type: String,maxlength:20,required:false},\r\n    birthday:{type: String,maxlength:20,required:false},\r\n\r\n\r\n\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst User = mongoose.model(\"user\",UserSchema);\r\nexport default User;"],"mappings":";;;;;;AACA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AADzC;;AAGA,MAAMW,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC1BC,GAAG,EAAC;IAACC,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC7CC,IAAI,EAAC;IAACJ,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC/CE,OAAO,EAAC;IAACL,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAK,CAAC;EACnDG,KAAK,EAAC;IAACN,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC,IAAI;IAACI,MAAM,EAAC;EAAI,CAAC;EAAC;EAC7DC,QAAQ,EAAC;IAACR,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EACnDM,MAAM,EAAC;IAACT,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAK,CAAC;EAClDO,KAAK,EAAC;IAACV,IAAI,EAAEW,MAAM;IAAC5B,OAAO,EAAC;EAAC,CAAC;EAAC;EAC/B6B,KAAK,EAAC;IAACZ,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAK,CAAC;EAChDU,QAAQ,EAAC;IAACb,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAK;AAItD,CAAC,EAAC;EACEW,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAACpB,UAAU,CAAC;AAAC,IAAAqB,QAAA,GAAAC,OAAA,CAAApC,OAAA,GAChCgC,IAAI","ignoreList":[]}},"mtime":1718063409934},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\services\\\\token.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  encode: async (_id, rol, email) => {\n    const token = _jsonwebtoken.default.sign({\n      _id: _id,\n      rol: rol,\n      email: email\n    }, 'ecommerce_solitek', {\n      expiresIn: '1d'\n    });\n    return token;\n  },\n  decode: async token => {\n    try {\n      const {\n        _id\n      } = await _jsonwebtoken.default.verify(token, 'ecommerce_solitek');\n      const user = _models.default.User.findOne({\n        _id: _id,\n        state: 1\n      });\n      if (user) {\n        return user;\n      }\n      return false;\n\n      //verificar si es auntetico\n    } catch (error) {\n      console.log(error);\n      return false;\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfbW9kZWxzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJlbmNvZGUiLCJfaWQiLCJyb2wiLCJlbWFpbCIsInRva2VuIiwiand0Iiwic2lnbiIsImV4cGlyZXNJbiIsImRlY29kZSIsInZlcmlmeSIsInVzZXIiLCJtb2RlbHMiLCJVc2VyIiwiZmluZE9uZSIsInN0YXRlIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxzZXJ2aWNlc1xcIiwic291cmNlcyI6WyJ0b2tlbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbidcclxuaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCJcclxuXHJcblxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0e1xyXG4gICAgZW5jb2RlOiBhc3luYyhfaWQscm9sLGVtYWlsKT0+e1xyXG5cclxuICAgICAgICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKHsgX2lkOl9pZCxyb2w6cm9sLGVtYWlsOmVtYWlsICB9LCdlY29tbWVyY2Vfc29saXRlaycse2V4cGlyZXNJbjonMWQnfSk7XHJcbiAgICAgICAgcmV0dXJuIHRva2VuO1xyXG5cclxuXHJcbiAgICB9LFxyXG4gICAgZGVjb2RlOiBhc3luYyh0b2tlbik9PntcclxuICAgICAgICB0cnl7XHJcblxyXG4gICAgICAgICAgICBjb25zdCB7X2lkfSA9IGF3YWl0IGp3dC52ZXJpZnkodG9rZW4sJ2Vjb21tZXJjZV9zb2xpdGVrJyk7IFxyXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gbW9kZWxzLlVzZXIuZmluZE9uZSh7X2lkOl9pZCxzdGF0ZTogMX0pO1xyXG4gICAgICAgICAgICBpZih1c2VyKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiB1c2VyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgIFxyXG4gICAgICAgICAgICAvL3ZlcmlmaWNhciBzaSBlcyBhdW50ZXRpY29cclxuXHJcbiAgICAgICAgfWNhdGNoKGVycm9yKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLGFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLE9BQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUE4QixTQUFBRCx1QkFBQUcsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBS2hCO0VBQ1ZHLE1BQU0sRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUNDLEdBQUcsRUFBQ0MsS0FBSyxLQUFHO0lBRTFCLE1BQU1DLEtBQUssR0FBR0MscUJBQUcsQ0FBQ0MsSUFBSSxDQUFDO01BQUVMLEdBQUcsRUFBQ0EsR0FBRztNQUFDQyxHQUFHLEVBQUNBLEdBQUc7TUFBQ0MsS0FBSyxFQUFDQTtJQUFPLENBQUMsRUFBQyxtQkFBbUIsRUFBQztNQUFDSSxTQUFTLEVBQUM7SUFBSSxDQUFDLENBQUM7SUFDN0YsT0FBT0gsS0FBSztFQUdoQixDQUFDO0VBQ0RJLE1BQU0sRUFBRSxNQUFNSixLQUFLLElBQUc7SUFDbEIsSUFBRztNQUVDLE1BQU07UUFBQ0g7TUFBRyxDQUFDLEdBQUcsTUFBTUkscUJBQUcsQ0FBQ0ksTUFBTSxDQUFDTCxLQUFLLEVBQUMsbUJBQW1CLENBQUM7TUFDekQsTUFBTU0sSUFBSSxHQUFHQyxlQUFNLENBQUNDLElBQUksQ0FBQ0MsT0FBTyxDQUFDO1FBQUNaLEdBQUcsRUFBQ0EsR0FBRztRQUFDYSxLQUFLLEVBQUU7TUFBQyxDQUFDLENBQUM7TUFDcEQsSUFBR0osSUFBSSxFQUFDO1FBQ0osT0FBT0EsSUFBSTtNQUNmO01BQ0EsT0FBTyxLQUFLOztNQUlaO0lBRUosQ0FBQyxRQUFNSyxLQUFLLEVBQUM7TUFDVEMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEtBQUssQ0FBQztNQUNsQixPQUFPLEtBQUs7SUFFaEI7RUFFSjtBQUNKLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_models","obj","__esModule","default","_default","exports","encode","_id","rol","email","token","jwt","sign","expiresIn","decode","verify","user","models","User","findOne","state","error","console","log"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\services\\","sources":["token.js"],"sourcesContent":["import jwt from 'jsonwebtoken'\r\nimport models from \"../models\"\r\n\r\n\r\n\r\n\r\nexport default{\r\n    encode: async(_id,rol,email)=>{\r\n\r\n        const token = jwt.sign({ _id:_id,rol:rol,email:email  },'ecommerce_solitek',{expiresIn:'1d'});\r\n        return token;\r\n\r\n\r\n    },\r\n    decode: async(token)=>{\r\n        try{\r\n\r\n            const {_id} = await jwt.verify(token,'ecommerce_solitek'); \r\n            const user = models.User.findOne({_id:_id,state: 1});\r\n            if(user){\r\n                return user;\r\n            }\r\n            return false;\r\n            \r\n            \r\n           \r\n            //verificar si es auntetico\r\n\r\n        }catch(error){\r\n            console.log(error);\r\n            return false;\r\n\r\n        }\r\n\r\n    }\r\n}"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA8B,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAKhB;EACVG,MAAM,EAAE,MAAAA,CAAMC,GAAG,EAACC,GAAG,EAACC,KAAK,KAAG;IAE1B,MAAMC,KAAK,GAAGC,qBAAG,CAACC,IAAI,CAAC;MAAEL,GAAG,EAACA,GAAG;MAACC,GAAG,EAACA,GAAG;MAACC,KAAK,EAACA;IAAO,CAAC,EAAC,mBAAmB,EAAC;MAACI,SAAS,EAAC;IAAI,CAAC,CAAC;IAC7F,OAAOH,KAAK;EAGhB,CAAC;EACDI,MAAM,EAAE,MAAMJ,KAAK,IAAG;IAClB,IAAG;MAEC,MAAM;QAACH;MAAG,CAAC,GAAG,MAAMI,qBAAG,CAACI,MAAM,CAACL,KAAK,EAAC,mBAAmB,CAAC;MACzD,MAAMM,IAAI,GAAGC,eAAM,CAACC,IAAI,CAACC,OAAO,CAAC;QAACZ,GAAG,EAACA,GAAG;QAACa,KAAK,EAAE;MAAC,CAAC,CAAC;MACpD,IAAGJ,IAAI,EAAC;QACJ,OAAOA,IAAI;MACf;MACA,OAAO,KAAK;;MAIZ;IAEJ,CAAC,QAAMK,KAAK,EAAC;MACTC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClB,OAAO,KAAK;IAEhB;EAEJ;AACJ,CAAC","ignoreList":[]}},"mtime":1716752597829},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _UserController = _interopRequireDefault(require(\"../controllers/UserController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\n//http://localhost:3000/api/users/register\n//http://localhost:3000/api/users/update\n\nrouter.post(\"/register\", _UserController.default.register);\nrouter.post(\"/register_admin\", _auth.default.verifyAdmin, _UserController.default.register_admin);\nrouter.put(\"/update\", _UserController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _UserController.default.list);\nrouter.post(\"/login\", _UserController.default.login);\nrouter.post(\"/login_admin\", _UserController.default.login_admin);\nrouter.delete(\"/delete\", _UserController.default.remove);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyQ29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsInVzZXJjb250cm9sbGVyIiwicmVnaXN0ZXIiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJyZWdpc3Rlcl9hZG1pbiIsInB1dCIsInVwZGF0ZSIsImdldCIsImxpc3QiLCJsb2dpbiIsImxvZ2luX2FkbWluIiwiZGVsZXRlIiwicmVtb3ZlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzcy1wcm9taXNlLXJvdXRlclwiXHJcbmltcG9ydCB1c2VyY29udHJvbGxlciBmcm9tIFwiLi4vY29udHJvbGxlcnMvVXNlckNvbnRyb2xsZXJcIlxyXG5pbXBvcnQgYXV0aCBmcm9tIFwiLi4vbWlkZGxld2FyZXMvYXV0aFwiO1xyXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XHJcbi8vaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2Vycy9yZWdpc3RlclxyXG4vL2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlcnMvdXBkYXRlXHJcblxyXG5cclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIix1c2VyY29udHJvbGxlci5yZWdpc3Rlcik7XHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyX2FkbWluXCIsYXV0aC52ZXJpZnlBZG1pbix1c2VyY29udHJvbGxlci5yZWdpc3Rlcl9hZG1pbik7XHJcbnJvdXRlci5wdXQoXCIvdXBkYXRlXCIsdXNlcmNvbnRyb2xsZXIudXBkYXRlKTtcclxucm91dGVyLmdldChcIi9saXN0XCIsYXV0aC52ZXJpZnlBZG1pbix1c2VyY29udHJvbGxlci5saXN0KTtcclxucm91dGVyLnBvc3QoXCIvbG9naW5cIix1c2VyY29udHJvbGxlci5sb2dpbik7XHJcbnJvdXRlci5wb3N0KFwiL2xvZ2luX2FkbWluXCIsdXNlcmNvbnRyb2xsZXIubG9naW5fYWRtaW4pO1xyXG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZVwiLHVzZXJjb250cm9sbGVyLnJlbW92ZSk7XHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxlQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBdUMsU0FBQUQsdUJBQUFJLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFDdkMsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUN4QjtBQUNBOztBQUdBRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUNDLHVCQUFjLENBQUNDLFFBQVEsQ0FBQztBQUNoREosTUFBTSxDQUFDRSxJQUFJLENBQUMsaUJBQWlCLEVBQUNHLGFBQUksQ0FBQ0MsV0FBVyxFQUFDSCx1QkFBYyxDQUFDSSxjQUFjLENBQUM7QUFDN0VQLE1BQU0sQ0FBQ1EsR0FBRyxDQUFDLFNBQVMsRUFBQ0wsdUJBQWMsQ0FBQ00sTUFBTSxDQUFDO0FBQzNDVCxNQUFNLENBQUNVLEdBQUcsQ0FBQyxPQUFPLEVBQUNMLGFBQUksQ0FBQ0MsV0FBVyxFQUFDSCx1QkFBYyxDQUFDUSxJQUFJLENBQUM7QUFDeERYLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFFBQVEsRUFBQ0MsdUJBQWMsQ0FBQ1MsS0FBSyxDQUFDO0FBQzFDWixNQUFNLENBQUNFLElBQUksQ0FBQyxjQUFjLEVBQUNDLHVCQUFjLENBQUNVLFdBQVcsQ0FBQztBQUN0RGIsTUFBTSxDQUFDYyxNQUFNLENBQUMsU0FBUyxFQUFDWCx1QkFBYyxDQUFDWSxNQUFNLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWxCLE9BQUEsR0FDaENDLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_UserController","_auth","obj","__esModule","default","router","routerx","post","usercontroller","register","auth","verifyAdmin","register_admin","put","update","get","list","login","login_admin","delete","remove","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\router\\","sources":["User.js"],"sourcesContent":["import routerx from \"express-promise-router\"\r\nimport usercontroller from \"../controllers/UserController\"\r\nimport auth from \"../middlewares/auth\";\r\nconst router = routerx();\r\n//http://localhost:3000/api/users/register\r\n//http://localhost:3000/api/users/update\r\n\r\n\r\nrouter.post(\"/register\",usercontroller.register);\r\nrouter.post(\"/register_admin\",auth.verifyAdmin,usercontroller.register_admin);\r\nrouter.put(\"/update\",usercontroller.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,usercontroller.list);\r\nrouter.post(\"/login\",usercontroller.login);\r\nrouter.post(\"/login_admin\",usercontroller.login_admin);\r\nrouter.delete(\"/delete\",usercontroller.remove);\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAuC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AACvC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxB;AACA;;AAGAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,uBAAc,CAACC,QAAQ,CAAC;AAChDJ,MAAM,CAACE,IAAI,CAAC,iBAAiB,EAACG,aAAI,CAACC,WAAW,EAACH,uBAAc,CAACI,cAAc,CAAC;AAC7EP,MAAM,CAACQ,GAAG,CAAC,SAAS,EAACL,uBAAc,CAACM,MAAM,CAAC;AAC3CT,MAAM,CAACU,GAAG,CAAC,OAAO,EAACL,aAAI,CAACC,WAAW,EAACH,uBAAc,CAACQ,IAAI,CAAC;AACxDX,MAAM,CAACE,IAAI,CAAC,QAAQ,EAACC,uBAAc,CAACS,KAAK,CAAC;AAC1CZ,MAAM,CAACE,IAAI,CAAC,cAAc,EAACC,uBAAc,CAACU,WAAW,CAAC;AACtDb,MAAM,CAACc,MAAM,CAAC,SAAS,EAACX,uBAAc,CAACY,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAlB,OAAA,GAChCC,MAAM","ignoreList":[]}},"mtime":1717647231750},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      //name, user y password\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      const userT = await _models.default.User.create(req.body); //await para esperar\n      res.status(200).json({\n        message: \"REGISTRADO\",\n        user: userT\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register_admin: async (req, res) => {\n    try {\n      //name, user y password\n      const userV = await _models.default.User.findOne({\n        email: req.body.email\n      });\n      if (userV) {\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n      }\n      req.body.rol = \"admin\";\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      let user = await _models.default.User.create(req.body); //await para esperar\n      res.status(200).json({\n        user: _resources.default.User.user_list(user)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1\n      }); //encuentro al usuario con base al email\n      if (user) {\n        //si esta registrado en el sistema \n        let compare = await _bcryptjs.default.compare(req.body.password, user.password); //comparacion de contraseñas \n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email); //si todo esta bien se genera el token\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              _id: user.id,\n              name: user.name,\n              email: user.email,\n              subname: user.subname,\n              avatar: user.avatar\n            } //armar el cuerpo del token\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO ESTÁ REGISTRADO EN EL SISTEMA\"\n          });\n        }\n      } else {\n        //no esta registrado en el sitema\n        res.status(500).send({\n          message: \"EL USUARIO NO ESTÁ REGISTRADO EN EL SISTEMA\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login_admin: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1,\n        rol: 'admin'\n      }); //encuentro al usuario con base al email\n      if (user) {\n        //si esta registrado en el sistema \n        let compare = await _bcryptjs.default.compare(req.body.password, user.password); //comparacion de contraseñas \n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email); //si todo esta bien se genera el token\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              subname: user.subname,\n              avatar: user.avatar,\n              rol: user.rol\n            } //armar el cuerpo del token\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO ESTÁ REGISTRADO EN EL SISTEMA\"\n          });\n        }\n      } else {\n        //no esta registrado en el sitema\n        res.status(500).send({\n          message: \"EL USUARIO NO ESTÁ REGISTRADO EN EL SISTEMA\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files) {\n        var ima_path = req.files.avatar.path;\n        var name = ima_path.split('\\\\');\n        var avatar_name = name[2];\n        console.log(avatar_name);\n      }\n      if (req.body.password) {\n        req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      console.log(req.body._id);\n      await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let UserT = await _models.default.User.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n        user: _resources.default.User.user_list(UserT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Users = await _models.default.User.find({\n        $or: [{\n          \"name\": new RegExp(search, \"i\")\n        }, {\n          \"subname\": new RegExp(search, \"i\")\n        }, {\n          \"email\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Users = Users.map(user => {\n        return _resources.default.User.user_list(user);\n      });\n      res.status(200).json({\n        users: Users\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      const User = await _models.default.User.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE HA ELIMINADO\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYmNyeXB0anMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9tb2RlbHMiLCJfdG9rZW4iLCJfcmVzb3VyY2VzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImJvZHkiLCJwYXNzd29yZCIsImJjcnlwdCIsImhhc2giLCJ1c2VyVCIsIm1vZGVscyIsIlVzZXIiLCJjcmVhdGUiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInVzZXIiLCJlcnJvciIsInNlbmQiLCJjb25zb2xlIiwibG9nIiwicmVnaXN0ZXJfYWRtaW4iLCJ1c2VyViIsImZpbmRPbmUiLCJlbWFpbCIsInJvbCIsInJlc291cmNlIiwidXNlcl9saXN0IiwibG9naW4iLCJzdGF0ZSIsImNvbXBhcmUiLCJ0b2tlblQiLCJ0b2tlbiIsImVuY29kZSIsIl9pZCIsIlVTRVJfRlJPTlRFRCIsImlkIiwibmFtZSIsInN1Ym5hbWUiLCJhdmF0YXIiLCJsb2dpbl9hZG1pbiIsInVwZGF0ZSIsImZpbGVzIiwiaW1hX3BhdGgiLCJwYXRoIiwic3BsaXQiLCJhdmF0YXJfbmFtZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiVXNlclQiLCJsaXN0Iiwic2VhcmNoIiwicXVlcnkiLCJVc2VycyIsImZpbmQiLCIkb3IiLCJSZWdFeHAiLCJzb3J0IiwibWFwIiwidXNlcnMiLCJyZW1vdmUiLCJmaW5kQnlJZEFuZERlbGV0ZSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxud29ybFxcRXNjcml0b3Jpb1xcUHJvZ3JhbWFjacOzblxcRWNvbW1lcmNlU29saXRla1xcYXBpX2Vjb21tZXJjZVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiVXNlckNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcydcclxuaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnXHJcbmltcG9ydCB0b2tlbiBmcm9tICcuLi9zZXJ2aWNlcy90b2tlbidcclxuaW1wb3J0IHJlc291cmNlIGZyb20gJy4uL3Jlc291cmNlcydcclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgXHJcblxyXG5cclxuXHJcbiAgICByZWdpc3RlcjogYXN5bmMocmVxLHJlcyk9PntcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvL25hbWUsIHVzZXIgeSBwYXNzd29yZFxyXG4gICAgICAgICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKCByZXEuYm9keS5wYXNzd29yZCwxMCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXJUID0gYXdhaXQgbW9kZWxzLlVzZXIuY3JlYXRlKHJlcS5ib2R5KTsgLy9hd2FpdCBwYXJhIGVzcGVyYXJcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTpcIlJFR0lTVFJBRE9cIixcclxuICAgICAgICAgICAgICAgIHVzZXI6dXNlclRcclxuXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICBcclxuXHJcbiAgICB9LFxyXG4gICAgcmVnaXN0ZXJfYWRtaW46IGFzeW5jKHJlcSxyZXMpPT57XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy9uYW1lLCB1c2VyIHkgcGFzc3dvcmRcclxuICAgICAgICAgICAgY29uc3QgdXNlclYgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kT25lKHtlbWFpbDogcmVxLmJvZHkuZW1haWx9KTtcclxuICAgICAgICAgICAgaWYodXNlclYpe1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBZQSBFWElTVEVcIlxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVxLmJvZHkucm9sID0gXCJhZG1pblwiO1xyXG4gICAgICAgICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKCByZXEuYm9keS5wYXNzd29yZCwxMCk7XHJcbiAgICAgICAgICAgIGxldCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuY3JlYXRlKHJlcS5ib2R5KTsgLy9hd2FpdCBwYXJhIGVzcGVyYXJcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgdXNlcjogcmVzb3VyY2UuVXNlci51c2VyX2xpc3QodXNlcilcclxuXHJcblxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICBcclxuXHJcbiAgICB9LFxyXG4gICAgbG9naW46IGFzeW5jKHJlcSxyZXMpPT57XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoe2VtYWlsOiByZXEuYm9keS5lbWFpbCwgc3RhdGU6MX0pOy8vZW5jdWVudHJvIGFsIHVzdWFyaW8gY29uIGJhc2UgYWwgZW1haWxcclxuICAgICAgICAgICAgaWYodXNlcil7XHJcbiAgICAgICAgICAgICAgICAvL3NpIGVzdGEgcmVnaXN0cmFkbyBlbiBlbCBzaXN0ZW1hIFxyXG4gICAgICAgICAgICAgICAgbGV0IGNvbXBhcmUgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShyZXEuYm9keS5wYXNzd29yZCx1c2VyLnBhc3N3b3JkKTsvL2NvbXBhcmFjaW9uIGRlIGNvbnRyYXNlw7FhcyBcclxuICAgICAgICAgICAgICAgIGlmKGNvbXBhcmUpe1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0b2tlblQgPSBhd2FpdCB0b2tlbi5lbmNvZGUodXNlci5faWQsdXNlci5yb2wsdXNlci5lbWFpbCk7Ly9zaSB0b2RvIGVzdGEgYmllbiBzZSBnZW5lcmEgZWwgdG9rZW5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBVU0VSX0ZST05URUQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOnRva2VuVCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcjp7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaWQ6IHVzZXIuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOnVzZXIubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOnVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJuYW1lOnVzZXIuc3VibmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2YXRhcjp1c2VyLmF2YXRhcixcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sLy9hcm1hciBlbCBjdWVycG8gZGVsIHRva2VuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVVNFUl9GUk9OVEVEOlVTRVJfRlJPTlRFRCxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVNUw4EgUkVHSVNUUkFETyBFTiBFTCBTSVNURU1BXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIC8vbm8gZXN0YSByZWdpc3RyYWRvIGVuIGVsIHNpdGVtYVxyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBOTyBFU1TDgSBSRUdJU1RSQURPIEVOIEVMIFNJU1RFTUFcIlxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0sXHJcbiAgICBsb2dpbl9hZG1pbjogYXN5bmMocmVxLHJlcyk9PntcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7ZW1haWw6IHJlcS5ib2R5LmVtYWlsLCBzdGF0ZToxLHJvbDonYWRtaW4nfSk7Ly9lbmN1ZW50cm8gYWwgdXN1YXJpbyBjb24gYmFzZSBhbCBlbWFpbFxyXG4gICAgICAgICAgICBpZih1c2VyKXtcclxuICAgICAgICAgICAgICAgIC8vc2kgZXN0YSByZWdpc3RyYWRvIGVuIGVsIHNpc3RlbWEgXHJcbiAgICAgICAgICAgICAgICBsZXQgY29tcGFyZSA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHJlcS5ib2R5LnBhc3N3b3JkLHVzZXIucGFzc3dvcmQpOy8vY29tcGFyYWNpb24gZGUgY29udHJhc2XDsWFzIFxyXG4gICAgICAgICAgICAgICAgaWYoY29tcGFyZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRva2VuVCA9IGF3YWl0IHRva2VuLmVuY29kZSh1c2VyLl9pZCx1c2VyLnJvbCx1c2VyLmVtYWlsKTsvL3NpIHRvZG8gZXN0YSBiaWVuIHNlIGdlbmVyYSBlbCB0b2tlblxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IFVTRVJfRlJPTlRFRCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW46dG9rZW5ULFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyOntcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6dXNlci5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1haWw6dXNlci5lbWFpbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Ym5hbWU6dXNlci5zdWJuYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZhdGFyOnVzZXIuYXZhdGFyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sOnVzZXIucm9sLFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwvL2FybWFyIGVsIGN1ZXJwbyBkZWwgdG9rZW5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBVU0VSX0ZST05URUQ6VVNFUl9GUk9OVEVELFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBOTyBFU1TDgSBSRUdJU1RSQURPIEVOIEVMIFNJU1RFTUFcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgLy9ubyBlc3RhIHJlZ2lzdHJhZG8gZW4gZWwgc2l0ZW1hXHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVTVMOBIFJFR0lTVFJBRE8gRU4gRUwgU0lTVEVNQVwiXHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSxcclxuICAgIHVwZGF0ZTogYXN5bmMocmVxLHJlcyk9PntcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZihyZXEuZmlsZXMpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGltYV9wYXRoID0gcmVxLmZpbGVzLmF2YXRhci5wYXRoO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBpbWFfcGF0aC5zcGxpdCgnXFxcXCcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGF2YXRhcl9uYW1lID0gbmFtZVsyXTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGF2YXRhcl9uYW1lKTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYocmVxLmJvZHkucGFzc3dvcmQpe1xyXG4gICAgICAgICAgICAgICByZXEuYm9keS5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKCByZXEuYm9keS5wYXNzd29yZCwxMCk7XHJcbiAgICAgICAgIH1cclxuICAgICAgICAgY29uc29sZS5sb2cocmVxLmJvZHkuX2lkKTtcclxuICAgICAgICAgICAgICBhd2FpdCBtb2RlbHMuVXNlci5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOiByZXEuYm9keS5faWR9LHJlcS5ib2R5KTtcclxuXHJcbiAgICAgICAgICAgIGxldCBVc2VyVCA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoe19pZDogcmVxLmJvZHkuX2lkfSk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gU0UgSEEgTU9ESUZJQ0FETyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICB1c2VyOiByZXNvdXJjZS5Vc2VyLnVzZXJfbGlzdChVc2VyVCksXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSxcclxuICAgIFxyXG4gICAgbGlzdDogYXN5bmMocmVxLHJlcyk9PntcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIHNlYXJjaCA9IHJlcS5xdWVyeS5zZWFyY2g7XHJcbiAgICAgICAgICAgIGxldCBVc2VycyA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmQoe1xyXG4gICAgICAgICAgICAgICAgJG9yOltcclxuICAgICAgICAgICAgICAgICAgICB7XCJuYW1lXCI6bmV3IFJlZ0V4cChzZWFyY2gsXCJpXCIpfSxcclxuICAgICAgICAgICAgICAgICAgICB7XCJzdWJuYW1lXCI6bmV3IFJlZ0V4cChzZWFyY2gsXCJpXCIpfSxcclxuICAgICAgICAgICAgICAgICAgICB7XCJlbWFpbFwiOm5ldyBSZWdFeHAoc2VhcmNoLFwiaVwiKX0sXHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH0pLnNvcnQoeydjcmVhdGVkQXQnOi0xfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBVc2VycyA9IFVzZXJzLm1hcCgodXNlcik9PntcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvdXJjZS5Vc2VyLnVzZXJfbGlzdCh1c2VyKTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIHVzZXJzOlVzZXJzXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgXHJcbiAgICByZW1vdmU6IGFzeW5jKHJlcSxyZXMpPT57XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICBjb25zdCBVc2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZEJ5SWRBbmREZWxldGUoe1xyXG4gICAgICAgICAgICBfaWQ6IHJlcS5xdWVyeS5faWRcclxuICAgICAgICAgICB9KTtcclxuICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBTRSBIQSBFTElNSU5BRE9cIixcclxuXHJcbiAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsTUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsVUFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQW1DLFNBQUFELHVCQUFBSyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxP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","map":{"version":3,"names":["_bcryptjs","_interopRequireDefault","require","_models","_token","_resources","obj","__esModule","default","_default","exports","register","req","res","body","password","bcrypt","hash","userT","models","User","create","status","json","message","user","error","send","console","log","register_admin","userV","findOne","email","rol","resource","user_list","login","state","compare","tokenT","token","encode","_id","USER_FRONTED","id","name","subname","avatar","login_admin","update","files","ima_path","path","split","avatar_name","findByIdAndUpdate","UserT","list","search","query","Users","find","$or","RegExp","sort","map","users","remove","findByIdAndDelete"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\controllers\\","sources":["UserController.js"],"sourcesContent":["import bcrypt from 'bcryptjs'\r\nimport models from '../models'\r\nimport token from '../services/token'\r\nimport resource from '../resources'\r\nexport default {\r\n    \r\n\r\n\r\n\r\n    register: async(req,res)=>{\r\n        try {\r\n            //name, user y password\r\n            req.body.password = await bcrypt.hash( req.body.password,10);\r\n            const userT = await models.User.create(req.body); //await para esperar\r\n            res.status(200).json({\r\n                message:\"REGISTRADO\",\r\n                user:userT\r\n\r\n\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n                \r\n            });\r\n            console.log(error);\r\n        }\r\n\r\n       \r\n\r\n    },\r\n    register_admin: async(req,res)=>{\r\n        try {\r\n            //name, user y password\r\n            const userV = await models.User.findOne({email: req.body.email});\r\n            if(userV){\r\n                res.status(500).send({\r\n                    message: \"EL USUARIO YA EXISTE\"\r\n                    \r\n                });\r\n            }\r\n            req.body.rol = \"admin\";\r\n            req.body.password = await bcrypt.hash( req.body.password,10);\r\n            let user = await models.User.create(req.body); //await para esperar\r\n            res.status(200).json({\r\n                user: resource.User.user_list(user)\r\n\r\n\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n                \r\n            });\r\n            console.log(error);\r\n        }\r\n\r\n       \r\n\r\n    },\r\n    login: async(req,res)=>{\r\n        try {\r\n            const user = await models.User.findOne({email: req.body.email, state:1});//encuentro al usuario con base al email\r\n            if(user){\r\n                //si esta registrado en el sistema \r\n                let compare = await bcrypt.compare(req.body.password,user.password);//comparacion de contraseñas \r\n                if(compare){\r\n                    let tokenT = await token.encode(user._id,user.rol,user.email);//si todo esta bien se genera el token\r\n                    const USER_FRONTED = {\r\n                        token:tokenT,\r\n                        user:{\r\n                            _id: user.id,\r\n                            name:user.name,\r\n                            email:user.email,\r\n                            subname:user.subname,\r\n                            avatar:user.avatar,\r\n\r\n                        },//armar el cuerpo del token\r\n                    }\r\n                    res.status(200).json({\r\n                        USER_FRONTED:USER_FRONTED,\r\n                    });\r\n\r\n\r\n                }else{\r\n                    res.status(500).send({\r\n                        message: \"EL USUARIO NO ESTÁ REGISTRADO EN EL SISTEMA\"\r\n                        \r\n                    });\r\n\r\n                }\r\n            }else{\r\n                //no esta registrado en el sitema\r\n                res.status(500).send({\r\n                    message: \"EL USUARIO NO ESTÁ REGISTRADO EN EL SISTEMA\"\r\n                    \r\n                });\r\n            }\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n                \r\n            });\r\n            console.log(error);\r\n        }\r\n\r\n    },\r\n    login_admin: async(req,res)=>{\r\n        try {\r\n            const user = await models.User.findOne({email: req.body.email, state:1,rol:'admin'});//encuentro al usuario con base al email\r\n            if(user){\r\n                //si esta registrado en el sistema \r\n                let compare = await bcrypt.compare(req.body.password,user.password);//comparacion de contraseñas \r\n                if(compare){\r\n                    let tokenT = await token.encode(user._id,user.rol,user.email);//si todo esta bien se genera el token\r\n                    const USER_FRONTED = {\r\n                        token:tokenT,\r\n                        user:{\r\n                            name:user.name,\r\n                            email:user.email,\r\n                            subname:user.subname,\r\n                            avatar:user.avatar,\r\n                            rol:user.rol,\r\n\r\n                        },//armar el cuerpo del token\r\n                    }\r\n                    res.status(200).json({\r\n                        USER_FRONTED:USER_FRONTED,\r\n                    });\r\n\r\n\r\n                }else{\r\n                    res.status(500).send({\r\n                        message: \"EL USUARIO NO ESTÁ REGISTRADO EN EL SISTEMA\"\r\n                        \r\n                    });\r\n\r\n                }\r\n            }else{\r\n                //no esta registrado en el sitema\r\n                res.status(500).send({\r\n                    message: \"EL USUARIO NO ESTÁ REGISTRADO EN EL SISTEMA\"\r\n                    \r\n                });\r\n            }\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n                \r\n            });\r\n            console.log(error);\r\n        }\r\n\r\n    },\r\n    update: async(req,res)=>{\r\n        try {\r\n            if(req.files){\r\n                var ima_path = req.files.avatar.path;\r\n                var name = ima_path.split('\\\\');\r\n                var avatar_name = name[2];\r\n                console.log(avatar_name);\r\n\r\n            }\r\n            if(req.body.password){\r\n               req.body.password = await bcrypt.hash( req.body.password,10);\r\n         }\r\n         console.log(req.body._id);\r\n              await models.User.findByIdAndUpdate({_id: req.body._id},req.body);\r\n\r\n            let UserT = await models.User.findOne({_id: req.body._id});\r\n\r\n            res.status(200).json({\r\n                message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\r\n                user: resource.User.user_list(UserT),\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n                \r\n            });\r\n            console.log(error);\r\n        }\r\n\r\n    },\r\n    \r\n    list: async(req,res)=>{\r\n\r\n        try {\r\n            var search = req.query.search;\r\n            let Users = await models.User.find({\r\n                $or:[\r\n                    {\"name\":new RegExp(search,\"i\")},\r\n                    {\"subname\":new RegExp(search,\"i\")},\r\n                    {\"email\":new RegExp(search,\"i\")},\r\n                ]\r\n            }).sort({'createdAt':-1});\r\n            \r\n            Users = Users.map((user)=>{\r\n                return resource.User.user_list(user);\r\n            })\r\n\r\n            res.status(200).json({\r\n                users:Users\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n                \r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    \r\n    remove: async(req,res)=>{\r\n        try {\r\n           const User = await models.User.findByIdAndDelete({\r\n            _id: req.query._id\r\n           });\r\n           res.status(200).json({\r\n            message: \"EL USUARIO SE HA ELIMINADO\",\r\n\r\n           });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n                \r\n            });\r\n            console.log(error);\r\n        }\r\n    }\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1718042245991},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\middlewares\\\\auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  //next para avanzar con la ejecucion de la peticion\n  verifyEcommerce: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(404).send({\n        message: \"NO SE ENVIO EL TOKEN\"\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"client\" || response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(403).send({\n          message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\n        });\n      }\n    } else {\n      res.status(403).send({\n        message: \"EL TOKEN NO ES VALIDO\"\n      });\n    }\n  },\n  verifyAdmin: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(404).send({\n        message: \"NO SE ENVIO EL TOKEN\"\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(403).send({\n          message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\n        });\n      }\n    } else {\n      res.status(403).send({\n        message: \"EL TOKEN NO ES VALIDO\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdG9rZW4iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwidmVyaWZ5RWNvbW1lcmNlIiwicmVxIiwicmVzIiwibmV4dCIsImhlYWRlcnMiLCJ0b2tlbiIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIiwicmVzcG9uc2UiLCJkZWNvZGUiLCJyb2wiLCJ2ZXJpZnlBZG1pbiJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxud29ybFxcRXNjcml0b3Jpb1xcUHJvZ3JhbWFjacOzblxcRWNvbW1lcmNlU29saXRla1xcYXBpX2Vjb21tZXJjZVxcbWlkZGxld2FyZXNcXCIsInNvdXJjZXMiOlsiYXV0aC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdG9rZW4gZnJvbSBcIi4uL3NlcnZpY2VzL3Rva2VuXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0e1xyXG5cclxuXHJcbiAgICAvL25leHQgcGFyYSBhdmFuemFyIGNvbiBsYSBlamVjdWNpb24gZGUgbGEgcGV0aWNpb25cclxuICAgIHZlcmlmeUVjb21tZXJjZTphc3luYyhyZXEscmVzLG5leHQpID0+IHtcclxuICAgICAgICBpZighcmVxLmhlYWRlcnMudG9rZW4pe1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5PIFNFIEVOVklPIEVMIFRPS0VOXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdG9rZW4uZGVjb2RlKHJlcS5oZWFkZXJzLnRva2VuKTtcclxuICAgICAgICBpZihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgIGlmKHJlc3BvbnNlLnJvbCA9PSBcImNsaWVudFwiIHx8IHJlc3BvbnNlLnJvbCA9PSBcImFkbWluXCIpe1xyXG4gICAgICAgICAgICAgICAgbmV4dCgpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAzKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5PIEVTVEEgUEVSTUlUSURPIFZJU0lUQVIgRVNUQSBSVVRBXCJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMykuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFRPS0VOIE5PIEVTIFZBTElET1wiXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICB9LFxyXG4gICAgdmVyaWZ5QWRtaW46YXN5bmMocmVxLHJlcyxuZXh0KSA9PiB7XHJcbiAgICAgICAgaWYoIXJlcS5oZWFkZXJzLnRva2VuKXtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOTyBTRSBFTlZJTyBFTCBUT0tFTlwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRva2VuLmRlY29kZShyZXEuaGVhZGVycy50b2tlbik7XHJcbiAgICAgICAgaWYocmVzcG9uc2Upe1xyXG4gICAgICAgICAgICBpZihyZXNwb25zZS5yb2wgPT0gXCJhZG1pblwiKXtcclxuICAgICAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMykuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOTyBFU1RBIFBFUk1JVElETyBWSVNJVEFSIEVTVEEgUlVUQVwiXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDMpLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBUT0tFTiBOTyBFUyBWQUxJRE9cIlxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG5cclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsTUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQXFDLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FFdkI7RUFHVjtFQUNBRyxlQUFlLEVBQUMsTUFBQUEsQ0FBTUMsR0FBRyxFQUFDQyxHQUFHLEVBQUNDLElBQUksS0FBSztJQUNuQyxJQUFHLENBQUNGLEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLEVBQUM7TUFDbEJILEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztJQUNOO0lBQ0EsTUFBTUMsUUFBUSxHQUFHLE1BQU1KLGNBQUssQ0FBQ0ssTUFBTSxDQUFDVCxHQUFHLENBQUNHLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDO0lBQ3RELElBQUdJLFFBQVEsRUFBQztNQUNSLElBQUdBLFFBQVEsQ0FBQ0UsR0FBRyxJQUFJLFFBQVEsSUFBSUYsUUFBUSxDQUFDRSxHQUFHLElBQUksT0FBTyxFQUFDO1FBQ25EUixJQUFJLENBQUMsQ0FBQztNQUNWLENBQUMsTUFBSTtRQUNERCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQ2pCQyxPQUFPLEVBQUU7UUFDYixDQUFDLENBQUM7TUFDTjtJQUVKLENBQUMsTUFBSTtNQUNETixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFFTjtFQUlKLENBQUM7RUFDREksV0FBVyxFQUFDLE1BQUFBLENBQU1YLEdBQUcsRUFBQ0MsR0FBRyxFQUFDQyxJQUFJLEtBQUs7SUFDL0IsSUFBRyxDQUFDRixHQUFHLENBQUNHLE9BQU8sQ0FBQ0MsS0FBSyxFQUFDO01BQ2xCSCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtJQUNBLE1BQU1DLFFBQVEsR0FBRyxNQUFNSixjQUFLLENBQUNLLE1BQU0sQ0FBQ1QsR0FBRyxDQUFDRyxPQUFPLENBQUNDLEtBQUssQ0FBQztJQUN0RCxJQUFHSSxRQUFRLEVBQUM7TUFDUixJQUFHQSxRQUFRLENBQUNFLEdBQUcsSUFBSSxPQUFPLEVBQUM7UUFDdkJSLElBQUksQ0FBQyxDQUFDO01BQ1YsQ0FBQyxNQUFJO1FBQ0RELEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7VUFDakJDLE9BQU8sRUFBRTtRQUNiLENBQUMsQ0FBQztNQUNOO0lBRUosQ0FBQyxNQUFJO01BQ0ROLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztJQUVOO0VBS0o7QUFDSixDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_token","_interopRequireDefault","require","obj","__esModule","default","_default","exports","verifyEcommerce","req","res","next","headers","token","status","send","message","response","decode","rol","verifyAdmin"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\middlewares\\","sources":["auth.js"],"sourcesContent":["import token from \"../services/token\"\r\n\r\nexport default{\r\n\r\n\r\n    //next para avanzar con la ejecucion de la peticion\r\n    verifyEcommerce:async(req,res,next) => {\r\n        if(!req.headers.token){\r\n            res.status(404).send({\r\n                message: \"NO SE ENVIO EL TOKEN\"\r\n            });\r\n        }\r\n        const response = await token.decode(req.headers.token);\r\n        if(response){\r\n            if(response.rol == \"client\" || response.rol == \"admin\"){\r\n                next();\r\n            }else{\r\n                res.status(403).send({\r\n                    message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\r\n                });\r\n            }\r\n\r\n        }else{\r\n            res.status(403).send({\r\n                message: \"EL TOKEN NO ES VALIDO\"\r\n            });\r\n\r\n        }\r\n\r\n\r\n\r\n    },\r\n    verifyAdmin:async(req,res,next) => {\r\n        if(!req.headers.token){\r\n            res.status(404).send({\r\n                message: \"NO SE ENVIO EL TOKEN\"\r\n            });\r\n        }\r\n        const response = await token.decode(req.headers.token);\r\n        if(response){\r\n            if(response.rol == \"admin\"){\r\n                next();\r\n            }else{\r\n                res.status(403).send({\r\n                    message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\r\n                });\r\n            }\r\n\r\n        }else{\r\n            res.status(403).send({\r\n                message: \"EL TOKEN NO ES VALIDO\"\r\n            });\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n    }\r\n}"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAqC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEvB;EAGV;EACAG,eAAe,EAAC,MAAAA,CAAMC,GAAG,EAACC,GAAG,EAACC,IAAI,KAAK;IACnC,IAAG,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAC;MAClBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAGI,QAAQ,EAAC;MACR,IAAGA,QAAQ,CAACE,GAAG,IAAI,QAAQ,IAAIF,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAC;QACnDR,IAAI,CAAC,CAAC;MACV,CAAC,MAAI;QACDD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IAEJ,CAAC,MAAI;MACDN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IAEN;EAIJ,CAAC;EACDI,WAAW,EAAC,MAAAA,CAAMX,GAAG,EAACC,GAAG,EAACC,IAAI,KAAK;IAC/B,IAAG,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAC;MAClBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAGI,QAAQ,EAAC;MACR,IAAGA,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAC;QACvBR,IAAI,CAAC,CAAC;MACV,CAAC,MAAI;QACDD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IAEJ,CAAC,MAAI;MACDN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IAEN;EAKJ;AACJ,CAAC","ignoreList":[]}},"mtime":1717647362665},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categoria = _interopRequireDefault(require(\"./Categoria\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Variedad = _interopRequireDefault(require(\"./Variedad\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nvar _Cupone = _interopRequireDefault(require(\"./Cupone\"));\nvar _Discount = _interopRequireDefault(require(\"./Discount\"));\nvar _Cart = _interopRequireDefault(require(\"./Cart\"));\nvar _AddressClient = _interopRequireDefault(require(\"./AddressClient\"));\nvar _Sale = _interopRequireDefault(require(\"./Sale\"));\nvar _SaleDetail = _interopRequireDefault(require(\"./SaleDetail\"));\nvar _SaleAddress = _interopRequireDefault(require(\"./SaleAddress\"));\nvar _Review = _interopRequireDefault(require(\"./Review\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  User: _User.default,\n  Categoria: _Categoria.default,\n  Product: _Product.default,\n  Variedad: _Variedad.default,\n  Slider: _Slider.default,\n  Cupone: _Cupone.default,\n  Discount: _Discount.default,\n  Cart: _Cart.default,\n  AddressClient: _AddressClient.default,\n  Sale: _Sale.default,\n  SaleDetail: _SaleDetail.default,\n  SaleAddress: _SaleAddress.default,\n  Review: _Review.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfVXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0NhdGVnb3JpYSIsIl9Qcm9kdWN0IiwiX1ZhcmllZGFkIiwiX1NsaWRlciIsIl9DdXBvbmUiLCJfRGlzY291bnQiLCJfQ2FydCIsIl9BZGRyZXNzQ2xpZW50IiwiX1NhbGUiLCJfU2FsZURldGFpbCIsIl9TYWxlQWRkcmVzcyIsIl9SZXZpZXciLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsIlVzZXIiLCJDYXRlZ29yaWEiLCJQcm9kdWN0IiwiVmFyaWVkYWQiLCJTbGlkZXIiLCJDdXBvbmUiLCJEaXNjb3VudCIsIkNhcnQiLCJBZGRyZXNzQ2xpZW50IiwiU2FsZSIsIlNhbGVEZXRhaWwiLCJTYWxlQWRkcmVzcyIsIlJldmlldyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxud29ybFxcRXNjcml0b3Jpb1xcUHJvZ3JhbWFjacOzblxcRWNvbW1lcmNlU29saXRla1xcYXBpX2Vjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBVc2VyIGZyb20gJy4vVXNlcidcclxuaW1wb3J0IENhdGVnb3JpYSBmcm9tICcuL0NhdGVnb3JpYSdcclxuaW1wb3J0IFByb2R1Y3QgZnJvbSAnLi9Qcm9kdWN0J1xyXG5pbXBvcnQgVmFyaWVkYWQgZnJvbSAnLi9WYXJpZWRhZCdcclxuaW1wb3J0IFNsaWRlciBmcm9tICcuL1NsaWRlcidcclxuaW1wb3J0IEN1cG9uZSBmcm9tICcuL0N1cG9uZSdcclxuaW1wb3J0IERpc2NvdW50IGZyb20gJy4vRGlzY291bnQnXHJcbmltcG9ydCBDYXJ0IGZyb20gJy4vQ2FydCdcclxuaW1wb3J0ICBBZGRyZXNzQ2xpZW50IGZyb20gJy4vQWRkcmVzc0NsaWVudCdcclxuXHJcbmltcG9ydCBTYWxlIGZyb20gJy4vU2FsZSdcclxuaW1wb3J0IFNhbGVEZXRhaWwgZnJvbSAnLi9TYWxlRGV0YWlsJ1xyXG5pbXBvcnQgU2FsZUFkZHJlc3MgZnJvbSAnLi9TYWxlQWRkcmVzcydcclxuXHJcbmltcG9ydCBSZXZpZXcgZnJvbSAnLi9SZXZpZXcnXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgVXNlcixcclxuICAgIENhdGVnb3JpYSxcclxuICAgIFByb2R1Y3QsXHJcbiAgICBWYXJpZWRhZCxcclxuICAgIFNsaWRlcixcclxuICAgIEN1cG9uZSxcclxuICAgIERpc2NvdW50LFxyXG4gICAgQ2FydCxcclxuICAgIEFkZHJlc3NDbGllbnQsXHJcbiAgICBTYWxlLFxyXG4gICAgU2FsZURldGFpbCxcclxuICAgIFNhbGVBZGRyZXNzLFxyXG4gICAgUmV2aWV3LFxyXG4gICAgXHJcblxyXG4gICBcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsS0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsVUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsUUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsU0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksT0FBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUssT0FBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU0sU0FBQSxHQUFBUCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU8sS0FBQSxHQUFBUixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVEsY0FBQSxHQUFBVCxzQkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBQVMsS0FBQSxHQUFBVixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVUsV0FBQSxHQUFBWCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVcsWUFBQSxHQUFBWixzQkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBQVksT0FBQSxHQUFBYixzQkFBQSxDQUFBQyxPQUFBO0FBQTZCLFNBQUFELHVCQUFBYyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FHZDtFQUNYRyxJQUFJLEVBQUpBLGFBQUk7RUFDSkMsU0FBUyxFQUFUQSxrQkFBUztFQUNUQyxPQUFPLEVBQVBBLGdCQUFPO0VBQ1BDLFFBQVEsRUFBUkEsaUJBQVE7RUFDUkMsTUFBTSxFQUFOQSxlQUFNO0VBQ05DLE1BQU0sRUFBTkEsZUFBTTtFQUNOQyxRQUFRLEVBQVJBLGlCQUFRO0VBQ1JDLElBQUksRUFBSkEsYUFBSTtFQUNKQyxhQUFhLEVBQWJBLHNCQUFhO0VBQ2JDLElBQUksRUFBSkEsYUFBSTtFQUNKQyxVQUFVLEVBQVZBLG1CQUFVO0VBQ1ZDLFdBQVcsRUFBWEEsb0JBQVc7RUFDWEMsTUFBTSxFQUFOQTtBQUlKLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_User","_interopRequireDefault","require","_Categoria","_Product","_Variedad","_Slider","_Cupone","_Discount","_Cart","_AddressClient","_Sale","_SaleDetail","_SaleAddress","_Review","obj","__esModule","default","_default","exports","User","Categoria","Product","Variedad","Slider","Cupone","Discount","Cart","AddressClient","Sale","SaleDetail","SaleAddress","Review"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\models\\","sources":["index.js"],"sourcesContent":["import User from './User'\r\nimport Categoria from './Categoria'\r\nimport Product from './Product'\r\nimport Variedad from './Variedad'\r\nimport Slider from './Slider'\r\nimport Cupone from './Cupone'\r\nimport Discount from './Discount'\r\nimport Cart from './Cart'\r\nimport  AddressClient from './AddressClient'\r\n\r\nimport Sale from './Sale'\r\nimport SaleDetail from './SaleDetail'\r\nimport SaleAddress from './SaleAddress'\r\n\r\nimport Review from './Review'\r\n\r\n\r\nexport default {\r\n    User,\r\n    Categoria,\r\n    Product,\r\n    Variedad,\r\n    Slider,\r\n    Cupone,\r\n    Discount,\r\n    Cart,\r\n    AddressClient,\r\n    Sale,\r\n    SaleDetail,\r\n    SaleAddress,\r\n    Review,\r\n    \r\n\r\n   \r\n}"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,QAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,OAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,SAAA,GAAAP,sBAAA,CAAAC,OAAA;AACA,IAAAO,KAAA,GAAAR,sBAAA,CAAAC,OAAA;AACA,IAAAQ,cAAA,GAAAT,sBAAA,CAAAC,OAAA;AAEA,IAAAS,KAAA,GAAAV,sBAAA,CAAAC,OAAA;AACA,IAAAU,WAAA,GAAAX,sBAAA,CAAAC,OAAA;AACA,IAAAW,YAAA,GAAAZ,sBAAA,CAAAC,OAAA;AAEA,IAAAY,OAAA,GAAAb,sBAAA,CAAAC,OAAA;AAA6B,SAAAD,uBAAAc,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAGd;EACXG,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA,kBAAS;EACTC,OAAO,EAAPA,gBAAO;EACPC,QAAQ,EAARA,iBAAQ;EACRC,MAAM,EAANA,eAAM;EACNC,MAAM,EAANA,eAAM;EACNC,QAAQ,EAARA,iBAAQ;EACRC,IAAI,EAAJA,aAAI;EACJC,aAAa,EAAbA,sBAAa;EACbC,IAAI,EAAJA,aAAI;EACJC,UAAU,EAAVA,mBAAU;EACVC,WAAW,EAAXA,oBAAW;EACXC,MAAM,EAANA;AAIJ,CAAC","ignoreList":[]}},"mtime":1718064486733},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\n//todas las caracteristicas del modelo\n\nconst UserSchema = new _mongoose.Schema({\n  rol: {\n    type: String,\n    maxlength: 30,\n    required: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  subname: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    required: true,\n    unique: true\n  },\n  //campo unico\n  password: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  avatar: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  state: {\n    type: Number,\n    default: 1\n  },\n  // 1 es activo y 2 es desactivo\n  phone: {\n    type: String,\n    maxlength: 20,\n    required: false\n  },\n  birthday: {\n    type: String,\n    maxlength: 20,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst User = _mongoose.default.model(\"user\", UserSchema);\nvar _default = exports.default = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJVc2VyU2NoZW1hIiwiU2NoZW1hIiwicm9sIiwidHlwZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsInJlcXVpcmVkIiwibmFtZSIsInN1Ym5hbWUiLCJlbWFpbCIsInVuaXF1ZSIsInBhc3N3b3JkIiwiYXZhdGFyIiwic3RhdGUiLCJOdW1iZXIiLCJwaG9uZSIsImJpcnRoZGF5IiwidGltZXN0YW1wcyIsIlVzZXIiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvL3RvZGFzIGxhcyBjYXJhY3RlcmlzdGljYXMgZGVsIG1vZGVsb1xyXG5pbXBvcnQgbW9uZ29vc2Use1NjaGVtYX0gZnJvbSAnbW9uZ29vc2UnO1xyXG5cclxuY29uc3QgVXNlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgcm9sOnt0eXBlOiBTdHJpbmcsbWF4bGVuZ3RoOjMwLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgbmFtZTp7dHlwZTogU3RyaW5nLG1heGxlbmd0aDoyNTAscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBzdWJuYW1lOnt0eXBlOiBTdHJpbmcsbWF4bGVuZ3RoOjI1MCxyZXF1aXJlZDpmYWxzZX0sXHJcbiAgICBlbWFpbDp7dHlwZTogU3RyaW5nLG1heGxlbmd0aDoyNTAscmVxdWlyZWQ6dHJ1ZSx1bmlxdWU6dHJ1ZX0sLy9jYW1wbyB1bmljb1xyXG4gICAgcGFzc3dvcmQ6e3R5cGU6IFN0cmluZyxtYXhsZW5ndGg6MjUwLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgYXZhdGFyOnt0eXBlOiBTdHJpbmcsbWF4bGVuZ3RoOjI1MCxyZXF1aXJlZDpmYWxzZX0sXHJcbiAgICBzdGF0ZTp7dHlwZTogTnVtYmVyLGRlZmF1bHQ6MX0sLy8gMSBlcyBhY3Rpdm8geSAyIGVzIGRlc2FjdGl2b1xyXG4gICAgcGhvbmU6e3R5cGU6IFN0cmluZyxtYXhsZW5ndGg6MjAscmVxdWlyZWQ6ZmFsc2V9LFxyXG4gICAgYmlydGhkYXk6e3R5cGU6IFN0cmluZyxtYXhsZW5ndGg6MjAscmVxdWlyZWQ6ZmFsc2V9LFxyXG5cclxuXHJcblxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6IHRydWVcclxufSk7XHJcblxyXG5jb25zdCBVc2VyID0gbW9uZ29vc2UubW9kZWwoXCJ1c2VyXCIsVXNlclNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IFVzZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFDQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBeUMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxLQUFBRixDQUFBO0FBQUEsU0FBQUgsd0JBQUFHLENBQUEsRUFBQUUsQ0FBQSxTQUFBQSxDQUFBLElBQUFGLENBQUEsSUFBQUEsQ0FBQSxDQUFBSSxVQUFBLFNBQUFKLENBQUEsZUFBQUEsQ0FBQSx1QkFBQUEsQ0FBQSx5QkFBQUEsQ0FBQSxXQUFBSyxPQUFBLEVBQUFMLENBQUEsUUFB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","UserSchema","Schema","rol","type","String","maxlength","required","name","subname","email","unique","password","avatar","state","Number","phone","birthday","timestamps","User","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\models\\","sources":["User.js"],"sourcesContent":["//todas las caracteristicas del modelo\r\nimport mongoose,{Schema} from 'mongoose';\r\n\r\nconst UserSchema = new Schema({\r\n    rol:{type: String,maxlength:30,required:true},\r\n    name:{type: String,maxlength:250,required:true},\r\n    subname:{type: String,maxlength:250,required:false},\r\n    email:{type: String,maxlength:250,required:true,unique:true},//campo unico\r\n    password:{type: String,maxlength:250,required:true},\r\n    avatar:{type: String,maxlength:250,required:false},\r\n    state:{type: Number,default:1},// 1 es activo y 2 es desactivo\r\n    phone:{type: String,maxlength:20,required:false},\r\n    birthday:{type: String,maxlength:20,required:false},\r\n\r\n\r\n\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst User = mongoose.model(\"user\",UserSchema);\r\nexport default User;"],"mappings":";;;;;;AACA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AADzC;;AAGA,MAAMW,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC1BC,GAAG,EAAC;IAACC,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC7CC,IAAI,EAAC;IAACJ,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC/CE,OAAO,EAAC;IAACL,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAK,CAAC;EACnDG,KAAK,EAAC;IAACN,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC,IAAI;IAACI,MAAM,EAAC;EAAI,CAAC;EAAC;EAC7DC,QAAQ,EAAC;IAACR,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EACnDM,MAAM,EAAC;IAACT,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAK,CAAC;EAClDO,KAAK,EAAC;IAACV,IAAI,EAAEW,MAAM;IAAC5B,OAAO,EAAC;EAAC,CAAC;EAAC;EAC/B6B,KAAK,EAAC;IAACZ,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAK,CAAC;EAChDU,QAAQ,EAAC;IAACb,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAK;AAItD,CAAC,EAAC;EACEW,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAACpB,UAAU,CAAC;AAAC,IAAAqB,QAAA,GAAAC,OAAA,CAAApC,OAAA,GAChCgC,IAAI","ignoreList":[]}},"mtime":1718155317190},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\services\\\\token.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  encode: async (_id, rol, email) => {\n    const token = _jsonwebtoken.default.sign({\n      _id: _id,\n      rol: rol,\n      email: email\n    }, 'ecommerce_solitek', {\n      expiresIn: '1d'\n    });\n    return token;\n  },\n  decode: async token => {\n    try {\n      const {\n        _id\n      } = await _jsonwebtoken.default.verify(token, 'ecommerce_solitek');\n      const user = _models.default.User.findOne({\n        _id: _id,\n        state: 1\n      });\n      if (user) {\n        return user;\n      }\n      return false;\n\n      //verificar si es auntetico\n    } catch (error) {\n      console.log(error);\n      return false;\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfbW9kZWxzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJlbmNvZGUiLCJfaWQiLCJyb2wiLCJlbWFpbCIsInRva2VuIiwiand0Iiwic2lnbiIsImV4cGlyZXNJbiIsImRlY29kZSIsInZlcmlmeSIsInVzZXIiLCJtb2RlbHMiLCJVc2VyIiwiZmluZE9uZSIsInN0YXRlIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxzZXJ2aWNlc1xcIiwic291cmNlcyI6WyJ0b2tlbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbidcclxuaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCJcclxuXHJcblxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0e1xyXG4gICAgZW5jb2RlOiBhc3luYyhfaWQscm9sLGVtYWlsKT0+e1xyXG5cclxuICAgICAgICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKHsgX2lkOl9pZCxyb2w6cm9sLGVtYWlsOmVtYWlsICB9LCdlY29tbWVyY2Vfc29saXRlaycse2V4cGlyZXNJbjonMWQnfSk7XHJcbiAgICAgICAgcmV0dXJuIHRva2VuO1xyXG5cclxuXHJcbiAgICB9LFxyXG4gICAgZGVjb2RlOiBhc3luYyh0b2tlbik9PntcclxuICAgICAgICB0cnl7XHJcblxyXG4gICAgICAgICAgICBjb25zdCB7X2lkfSA9IGF3YWl0IGp3dC52ZXJpZnkodG9rZW4sJ2Vjb21tZXJjZV9zb2xpdGVrJyk7IFxyXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gbW9kZWxzLlVzZXIuZmluZE9uZSh7X2lkOl9pZCxzdGF0ZTogMX0pO1xyXG4gICAgICAgICAgICBpZih1c2VyKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiB1c2VyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgIFxyXG4gICAgICAgICAgICAvL3ZlcmlmaWNhciBzaSBlcyBhdW50ZXRpY29cclxuXHJcbiAgICAgICAgfWNhdGNoKGVycm9yKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLGFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLE9BQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUE4QixTQUFBRCx1QkFBQUcsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBS2hCO0VBQ1ZHLE1BQU0sRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUNDLEdBQUcsRUFBQ0MsS0FBSyxLQUFHO0lBRTFCLE1BQU1DLEtBQUssR0FBR0MscUJBQUcsQ0FBQ0MsSUFBSSxDQUFDO01BQUVMLEdBQUcsRUFBQ0EsR0FBRztNQUFDQyxHQUFHLEVBQUNBLEdBQUc7TUFBQ0MsS0FBSyxFQUFDQTtJQUFPLENBQUMsRUFBQyxtQkFBbUIsRUFBQztNQUFDSSxTQUFTLEVBQUM7SUFBSSxDQUFDLENBQUM7SUFDN0YsT0FBT0gsS0FBSztFQUdoQixDQUFDO0VBQ0RJLE1BQU0sRUFBRSxNQUFNSixLQUFLLElBQUc7SUFDbEIsSUFBRztNQUVDLE1BQU07UUFBQ0g7TUFBRyxDQUFDLEdBQUcsTUFBTUkscUJBQUcsQ0FBQ0ksTUFBTSxDQUFDTCxLQUFLLEVBQUMsbUJBQW1CLENBQUM7TUFDekQsTUFBTU0sSUFBSSxHQUFHQyxlQUFNLENBQUNDLElBQUksQ0FBQ0MsT0FBTyxDQUFDO1FBQUNaLEdBQUcsRUFBQ0EsR0FBRztRQUFDYSxLQUFLLEVBQUU7TUFBQyxDQUFDLENBQUM7TUFDcEQsSUFBR0osSUFBSSxFQUFDO1FBQ0osT0FBT0EsSUFBSTtNQUNmO01BQ0EsT0FBTyxLQUFLOztNQUlaO0lBRUosQ0FBQyxRQUFNSyxLQUFLLEVBQUM7TUFDVEMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEtBQUssQ0FBQztNQUNsQixPQUFPLEtBQUs7SUFFaEI7RUFFSjtBQUNKLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_models","obj","__esModule","default","_default","exports","encode","_id","rol","email","token","jwt","sign","expiresIn","decode","verify","user","models","User","findOne","state","error","console","log"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\services\\","sources":["token.js"],"sourcesContent":["import jwt from 'jsonwebtoken'\r\nimport models from \"../models\"\r\n\r\n\r\n\r\n\r\nexport default{\r\n    encode: async(_id,rol,email)=>{\r\n\r\n        const token = jwt.sign({ _id:_id,rol:rol,email:email  },'ecommerce_solitek',{expiresIn:'1d'});\r\n        return token;\r\n\r\n\r\n    },\r\n    decode: async(token)=>{\r\n        try{\r\n\r\n            const {_id} = await jwt.verify(token,'ecommerce_solitek'); \r\n            const user = models.User.findOne({_id:_id,state: 1});\r\n            if(user){\r\n                return user;\r\n            }\r\n            return false;\r\n            \r\n            \r\n           \r\n            //verificar si es auntetico\r\n\r\n        }catch(error){\r\n            console.log(error);\r\n            return false;\r\n\r\n        }\r\n\r\n    }\r\n}"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA8B,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAKhB;EACVG,MAAM,EAAE,MAAAA,CAAMC,GAAG,EAACC,GAAG,EAACC,KAAK,KAAG;IAE1B,MAAMC,KAAK,GAAGC,qBAAG,CAACC,IAAI,CAAC;MAAEL,GAAG,EAACA,GAAG;MAACC,GAAG,EAACA,GAAG;MAACC,KAAK,EAACA;IAAO,CAAC,EAAC,mBAAmB,EAAC;MAACI,SAAS,EAAC;IAAI,CAAC,CAAC;IAC7F,OAAOH,KAAK;EAGhB,CAAC;EACDI,MAAM,EAAE,MAAMJ,KAAK,IAAG;IAClB,IAAG;MAEC,MAAM;QAACH;MAAG,CAAC,GAAG,MAAMI,qBAAG,CAACI,MAAM,CAACL,KAAK,EAAC,mBAAmB,CAAC;MACzD,MAAMM,IAAI,GAAGC,eAAM,CAACC,IAAI,CAACC,OAAO,CAAC;QAACZ,GAAG,EAACA,GAAG;QAACa,KAAK,EAAE;MAAC,CAAC,CAAC;MACpD,IAAGJ,IAAI,EAAC;QACJ,OAAOA,IAAI;MACf;MACA,OAAO,KAAK;;MAIZ;IAEJ,CAAC,QAAMK,KAAK,EAAC;MACTC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClB,OAAO,KAAK;IAEhB;EAEJ;AACJ,CAAC","ignoreList":[]}},"mtime":1716752597829},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\middlewares\\\\auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  //next para avanzar con la ejecucion de la peticion\n  verifyEcommerce: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(404).send({\n        message: \"NO SE ENVIO EL TOKEN\"\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"cliente\" || response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(403).send({\n          message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\n        });\n      }\n    } else {\n      res.status(403).send({\n        message: \"EL TOKEN NO ES VALIDO\"\n      });\n    }\n  },\n  verifyAdmin: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(404).send({\n        message: \"NO SE ENVIO EL TOKEN\"\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(403).send({\n          message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\n        });\n      }\n    } else {\n      res.status(403).send({\n        message: \"EL TOKEN NO ES VALIDO\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdG9rZW4iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwidmVyaWZ5RWNvbW1lcmNlIiwicmVxIiwicmVzIiwibmV4dCIsImhlYWRlcnMiLCJ0b2tlbiIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIiwicmVzcG9uc2UiLCJkZWNvZGUiLCJyb2wiLCJ2ZXJpZnlBZG1pbiJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxud29ybFxcRXNjcml0b3Jpb1xcUHJvZ3JhbWFjacOzblxcRWNvbW1lcmNlU29saXRla1xcYXBpX2Vjb21tZXJjZVxcbWlkZGxld2FyZXNcXCIsInNvdXJjZXMiOlsiYXV0aC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdG9rZW4gZnJvbSBcIi4uL3NlcnZpY2VzL3Rva2VuXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0e1xyXG5cclxuXHJcbiAgICAvL25leHQgcGFyYSBhdmFuemFyIGNvbiBsYSBlamVjdWNpb24gZGUgbGEgcGV0aWNpb25cclxuICAgIHZlcmlmeUVjb21tZXJjZTphc3luYyhyZXEscmVzLG5leHQpID0+IHtcclxuICAgICAgICBpZighcmVxLmhlYWRlcnMudG9rZW4pe1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5PIFNFIEVOVklPIEVMIFRPS0VOXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdG9rZW4uZGVjb2RlKHJlcS5oZWFkZXJzLnRva2VuKTtcclxuICAgICAgICBpZihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgIGlmKHJlc3BvbnNlLnJvbCA9PSBcImNsaWVudGVcIiB8fCByZXNwb25zZS5yb2wgPT0gXCJhZG1pblwiKXtcclxuICAgICAgICAgICAgICAgIG5leHQoKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMykuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOTyBFU1RBIFBFUk1JVElETyBWSVNJVEFSIEVTVEEgUlVUQVwiXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDMpLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBUT0tFTiBOTyBFUyBWQUxJRE9cIlxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuXHJcblxyXG4gICAgfSxcclxuICAgIHZlcmlmeUFkbWluOmFzeW5jKHJlcSxyZXMsbmV4dCkgPT4ge1xyXG4gICAgICAgIGlmKCFyZXEuaGVhZGVycy50b2tlbil7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTk8gU0UgRU5WSU8gRUwgVE9LRU5cIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0b2tlbi5kZWNvZGUocmVxLmhlYWRlcnMudG9rZW4pO1xyXG4gICAgICAgIGlmKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgaWYocmVzcG9uc2Uucm9sID09IFwiYWRtaW5cIil7XHJcbiAgICAgICAgICAgICAgICBuZXh0KCk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDMpLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTk8gRVNUQSBQRVJNSVRJRE8gVklTSVRBUiBFU1RBIFJVVEFcIlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAzKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVE9LRU4gTk8gRVMgVkFMSURPXCJcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuXHJcbiAgICB9XHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE1BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUFxQyxTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBRXZCO0VBR1Y7RUFDQUcsZUFBZSxFQUFDLE1BQUFBLENBQU1DLEdBQUcsRUFBQ0MsR0FBRyxFQUFDQyxJQUFJLEtBQUs7SUFDbkMsSUFBRyxDQUFDRixHQUFHLENBQUNHLE9BQU8sQ0FBQ0MsS0FBSyxFQUFDO01BQ2xCSCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFDTjtJQUNBLE1BQU1DLFFBQVEsR0FBRyxNQUFNSixjQUFLLENBQUNLLE1BQU0sQ0FBQ1QsR0FBRyxDQUFDRyxPQUFPLENBQUNDLEtBQUssQ0FBQztJQUN0RCxJQUFHSSxRQUFRLEVBQUM7TUFDUixJQUFHQSxRQUFRLENBQUNFLEdBQUcsSUFBSSxTQUFTLElBQUlGLFFBQVEsQ0FBQ0UsR0FBRyxJQUFJLE9BQU8sRUFBQztRQUNwRFIsSUFBSSxDQUFDLENBQUM7TUFDVixDQUFDLE1BQUk7UUFDREQsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztVQUNqQkMsT0FBTyxFQUFFO1FBQ2IsQ0FBQyxDQUFDO01BQ047SUFFSixDQUFDLE1BQUk7TUFDRE4sR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBRU47RUFJSixDQUFDO0VBQ0RJLFdBQVcsRUFBQyxNQUFBQSxDQUFNWCxHQUFHLEVBQUNDLEdBQUcsRUFBQ0MsSUFBSSxLQUFLO0lBQy9CLElBQUcsQ0FBQ0YsR0FBRyxDQUFDRyxPQUFPLENBQUNDLEtBQUssRUFBQztNQUNsQkgsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ047SUFDQSxNQUFNQyxRQUFRLEdBQUcsTUFBTUosY0FBSyxDQUFDSyxNQUFNLENBQUNULEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLENBQUM7SUFDdEQsSUFBR0ksUUFBUSxFQUFDO01BQ1IsSUFBR0EsUUFBUSxDQUFDRSxHQUFHLElBQUksT0FBTyxFQUFDO1FBQ3ZCUixJQUFJLENBQUMsQ0FBQztNQUNWLENBQUMsTUFBSTtRQUNERCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQ2pCQyxPQUFPLEVBQUU7UUFDYixDQUFDLENBQUM7TUFDTjtJQUVKLENBQUMsTUFBSTtNQUNETixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUU7TUFDYixDQUFDLENBQUM7SUFFTjtFQUtKO0FBQ0osQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_token","_interopRequireDefault","require","obj","__esModule","default","_default","exports","verifyEcommerce","req","res","next","headers","token","status","send","message","response","decode","rol","verifyAdmin"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\middlewares\\","sources":["auth.js"],"sourcesContent":["import token from \"../services/token\"\r\n\r\nexport default{\r\n\r\n\r\n    //next para avanzar con la ejecucion de la peticion\r\n    verifyEcommerce:async(req,res,next) => {\r\n        if(!req.headers.token){\r\n            res.status(404).send({\r\n                message: \"NO SE ENVIO EL TOKEN\"\r\n            });\r\n        }\r\n        const response = await token.decode(req.headers.token);\r\n        if(response){\r\n            if(response.rol == \"cliente\" || response.rol == \"admin\"){\r\n                next();\r\n            }else{\r\n                res.status(403).send({\r\n                    message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\r\n                });\r\n            }\r\n\r\n        }else{\r\n            res.status(403).send({\r\n                message: \"EL TOKEN NO ES VALIDO\"\r\n            });\r\n\r\n        }\r\n\r\n\r\n\r\n    },\r\n    verifyAdmin:async(req,res,next) => {\r\n        if(!req.headers.token){\r\n            res.status(404).send({\r\n                message: \"NO SE ENVIO EL TOKEN\"\r\n            });\r\n        }\r\n        const response = await token.decode(req.headers.token);\r\n        if(response){\r\n            if(response.rol == \"admin\"){\r\n                next();\r\n            }else{\r\n                res.status(403).send({\r\n                    message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\r\n                });\r\n            }\r\n\r\n        }else{\r\n            res.status(403).send({\r\n                message: \"EL TOKEN NO ES VALIDO\"\r\n            });\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n    }\r\n}"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAqC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEvB;EAGV;EACAG,eAAe,EAAC,MAAAA,CAAMC,GAAG,EAACC,GAAG,EAACC,IAAI,KAAK;IACnC,IAAG,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAC;MAClBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAGI,QAAQ,EAAC;MACR,IAAGA,QAAQ,CAACE,GAAG,IAAI,SAAS,IAAIF,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAC;QACpDR,IAAI,CAAC,CAAC;MACV,CAAC,MAAI;QACDD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IAEJ,CAAC,MAAI;MACDN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IAEN;EAIJ,CAAC;EACDI,WAAW,EAAC,MAAAA,CAAMX,GAAG,EAACC,GAAG,EAACC,IAAI,KAAK;IAC/B,IAAG,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAC;MAClBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAGI,QAAQ,EAAC;MACR,IAAGA,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAC;QACvBR,IAAI,CAAC,CAAC;MACV,CAAC,MAAI;QACDD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IAEJ,CAAC,MAAI;MACDN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IAEN;EAKJ;AACJ,CAAC","ignoreList":[]}},"mtime":1718155461324},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\resources\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categoria = _interopRequireDefault(require(\"./Categoria\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nvar _Cart = _interopRequireDefault(require(\"./Cart\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  User: _User.default,\n  Categoria: _Categoria.default,\n  Product: _Product.default,\n  Slider: _Slider.default,\n  Cart: _Cart.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfVXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0NhdGVnb3JpYSIsIl9Qcm9kdWN0IiwiX1NsaWRlciIsIl9DYXJ0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJVc2VyIiwiQ2F0ZWdvcmlhIiwiUHJvZHVjdCIsIlNsaWRlciIsIkNhcnQiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbndvcmxcXEVzY3JpdG9yaW9cXFByb2dyYW1hY2nDs25cXEVjb21tZXJjZVNvbGl0ZWtcXGFwaV9lY29tbWVyY2VcXHJlc291cmNlc1xcIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IFVzZXIgZnJvbSAnLi9Vc2VyJ1xyXG5pbXBvcnQgQ2F0ZWdvcmlhIGZyb20gJy4vQ2F0ZWdvcmlhJ1xyXG5pbXBvcnQgUHJvZHVjdCBmcm9tICcuL1Byb2R1Y3QnXHJcbmltcG9ydCBTbGlkZXIgZnJvbSAnLi9TbGlkZXInXHJcbmltcG9ydCBDYXJ0IGZyb20gJy4vQ2FydCdcclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgVXNlcixcclxuICAgIENhdGVnb3JpYSxcclxuICAgIFByb2R1Y3QsXHJcbiAgICBTbGlkZXIsXHJcbiAgICBDYXJ0LFxyXG5cclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG5cclxufVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUNBLElBQUFBLEtBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFFBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLE9BQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLEtBQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUF5QixTQUFBRCx1QkFBQU0sR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBQ1Y7RUFDWEcsSUFBSSxFQUFKQSxhQUFJO0VBQ0pDLFNBQVMsRUFBVEEsa0JBQVM7RUFDVEMsT0FBTyxFQUFQQSxnQkFBTztFQUNQQyxNQUFNLEVBQU5BLGVBQU07RUFDTkMsSUFBSSxFQUFKQTtBQU9KLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_User","_interopRequireDefault","require","_Categoria","_Product","_Slider","_Cart","obj","__esModule","default","_default","exports","User","Categoria","Product","Slider","Cart"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\resources\\","sources":["index.js"],"sourcesContent":["\r\nimport User from './User'\r\nimport Categoria from './Categoria'\r\nimport Product from './Product'\r\nimport Slider from './Slider'\r\nimport Cart from './Cart'\r\nexport default {\r\n    User,\r\n    Categoria,\r\n    Product,\r\n    Slider,\r\n    Cart,\r\n\r\n    \r\n    \r\n    \r\n    \r\n\r\n}\r\n"],"mappings":";;;;;;AACA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,QAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,OAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,KAAA,GAAAL,sBAAA,CAAAC,OAAA;AAAyB,SAAAD,uBAAAM,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GACV;EACXG,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA,kBAAS;EACTC,OAAO,EAAPA,gBAAO;EACPC,MAAM,EAANA,eAAM;EACNC,IAAI,EAAJA;AAOJ,CAAC","ignoreList":[]}},"mtime":1717975536909},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\resources\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  user_list: user => {\n    return {\n      _id: user.id,\n      name: user.name,\n      subname: user.subname,\n      email: user.email,\n      avatar: user.avatar\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyX2xpc3QiLCJ1c2VyIiwiX2lkIiwiaWQiLCJuYW1lIiwic3VibmFtZSIsImVtYWlsIiwiYXZhdGFyIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxyZXNvdXJjZXNcXCIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XHJcbiAgICB1c2VyX2xpc3Q6ICh1c2VyKT0+e1xyXG4gICAgICAgIHJldHVybntcclxuICAgICAgICAgICAgX2lkOnVzZXIuaWQsXHJcbiAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcclxuICAgICAgICAgICAgc3VibmFtZTogdXNlci5zdWJuYW1lLFxyXG4gICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhcixcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7aUNBQWU7RUFDWEEsU0FBUyxFQUFHQyxJQUFJLElBQUc7SUFDZixPQUFNO01BQ0ZDLEdBQUcsRUFBQ0QsSUFBSSxDQUFDRSxFQUFFO01BQ1hDLElBQUksRUFBRUgsSUFBSSxDQUFDRyxJQUFJO01BQ2ZDLE9BQU8sRUFBRUosSUFBSSxDQUFDSSxPQUFPO01BQ3JCQyxLQUFLLEVBQUVMLElBQUksQ0FBQ0ssS0FBSztNQUNqQkMsTUFBTSxFQUFFTixJQUFJLENBQUNNO0lBRWpCLENBQUM7RUFDTDtBQUNKLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["user_list","user","_id","id","name","subname","email","avatar"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\resources\\","sources":["User.js"],"sourcesContent":["export default {\r\n    user_list: (user)=>{\r\n        return{\r\n            _id:user.id,\r\n            name: user.name,\r\n            subname: user.subname,\r\n            email: user.email,\r\n            avatar: user.avatar,\r\n\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;iCAAe;EACXA,SAAS,EAAGC,IAAI,IAAG;IACf,OAAM;MACFC,GAAG,EAACD,IAAI,CAACE,EAAE;MACXC,IAAI,EAAEH,IAAI,CAACG,IAAI;MACfC,OAAO,EAAEJ,IAAI,CAACI,OAAO;MACrBC,KAAK,EAAEL,IAAI,CAACK,KAAK;MACjBC,MAAM,EAAEN,IAAI,CAACM;IAEjB,CAAC;EACL;AACJ,CAAC","ignoreList":[]}},"mtime":1718155311138},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\resources\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _User = _interopRequireDefault(require(\"./User\"));\nvar _Categoria = _interopRequireDefault(require(\"./Categoria\"));\nvar _Product = _interopRequireDefault(require(\"./Product\"));\nvar _Slider = _interopRequireDefault(require(\"./Slider\"));\nvar _Cart = _interopRequireDefault(require(\"./Cart\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  User: _User.default,\n  Categoria: _Categoria.default,\n  Product: _Product.default,\n  Slider: _Slider.default,\n  Cart: _Cart.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfVXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0NhdGVnb3JpYSIsIl9Qcm9kdWN0IiwiX1NsaWRlciIsIl9DYXJ0Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJVc2VyIiwiQ2F0ZWdvcmlhIiwiUHJvZHVjdCIsIlNsaWRlciIsIkNhcnQiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbndvcmxcXEVzY3JpdG9yaW9cXFByb2dyYW1hY2nDs25cXEVjb21tZXJjZVNvbGl0ZWtcXGFwaV9lY29tbWVyY2VcXHJlc291cmNlc1xcIiwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcclxuaW1wb3J0IFVzZXIgZnJvbSAnLi9Vc2VyJ1xyXG5pbXBvcnQgQ2F0ZWdvcmlhIGZyb20gJy4vQ2F0ZWdvcmlhJ1xyXG5pbXBvcnQgUHJvZHVjdCBmcm9tICcuL1Byb2R1Y3QnXHJcbmltcG9ydCBTbGlkZXIgZnJvbSAnLi9TbGlkZXInXHJcbmltcG9ydCBDYXJ0IGZyb20gJy4vQ2FydCdcclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgVXNlcixcclxuICAgIENhdGVnb3JpYSxcclxuICAgIFByb2R1Y3QsXHJcbiAgICBTbGlkZXIsXHJcbiAgICBDYXJ0LFxyXG5cclxuICAgIFxyXG4gICAgXHJcbiAgICBcclxuICAgIFxyXG5cclxufVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUNBLElBQUFBLEtBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFFBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLE9BQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLEtBQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUF5QixTQUFBRCx1QkFBQU0sR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBQ1Y7RUFDWEcsSUFBSSxFQUFKQSxhQUFJO0VBQ0pDLFNBQVMsRUFBVEEsa0JBQVM7RUFDVEMsT0FBTyxFQUFQQSxnQkFBTztFQUNQQyxNQUFNLEVBQU5BLGVBQU07RUFDTkMsSUFBSSxFQUFKQTtBQU9KLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_User","_interopRequireDefault","require","_Categoria","_Product","_Slider","_Cart","obj","__esModule","default","_default","exports","User","Categoria","Product","Slider","Cart"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\resources\\","sources":["index.js"],"sourcesContent":["\r\nimport User from './User'\r\nimport Categoria from './Categoria'\r\nimport Product from './Product'\r\nimport Slider from './Slider'\r\nimport Cart from './Cart'\r\nexport default {\r\n    User,\r\n    Categoria,\r\n    Product,\r\n    Slider,\r\n    Cart,\r\n\r\n    \r\n    \r\n    \r\n    \r\n\r\n}\r\n"],"mappings":";;;;;;AACA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,QAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,OAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,KAAA,GAAAL,sBAAA,CAAAC,OAAA;AAAyB,SAAAD,uBAAAM,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GACV;EACXG,IAAI,EAAJA,aAAI;EACJC,SAAS,EAATA,kBAAS;EACTC,OAAO,EAAPA,gBAAO;EACPC,MAAM,EAANA,eAAM;EACNC,IAAI,EAAJA;AAOJ,CAAC","ignoreList":[]}},"mtime":1717975536909},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\resources\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  user_list: user => {\n    return {\n      _id: user.id,\n      name: user.name,\n      subname: user.subname,\n      email: user.email,\n      avatar: user.avatar\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyX2xpc3QiLCJ1c2VyIiwiX2lkIiwiaWQiLCJuYW1lIiwic3VibmFtZSIsImVtYWlsIiwiYXZhdGFyIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxyZXNvdXJjZXNcXCIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XHJcbiAgICB1c2VyX2xpc3Q6ICh1c2VyKT0+e1xyXG4gICAgICAgIHJldHVybntcclxuICAgICAgICAgICAgX2lkOnVzZXIuaWQsXHJcbiAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcclxuICAgICAgICAgICAgc3VibmFtZTogdXNlci5zdWJuYW1lLFxyXG4gICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhcixcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7aUNBQWU7RUFDWEEsU0FBUyxFQUFHQyxJQUFJLElBQUc7SUFDZixPQUFNO01BQ0ZDLEdBQUcsRUFBQ0QsSUFBSSxDQUFDRSxFQUFFO01BQ1hDLElBQUksRUFBRUgsSUFBSSxDQUFDRyxJQUFJO01BQ2ZDLE9BQU8sRUFBRUosSUFBSSxDQUFDSSxPQUFPO01BQ3JCQyxLQUFLLEVBQUVMLElBQUksQ0FBQ0ssS0FBSztNQUNqQkMsTUFBTSxFQUFFTixJQUFJLENBQUNNO0lBRWpCLENBQUM7RUFDTDtBQUNKLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["user_list","user","_id","id","name","subname","email","avatar"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\resources\\","sources":["User.js"],"sourcesContent":["export default {\r\n    user_list: (user)=>{\r\n        return{\r\n            _id:user.id,\r\n            name: user.name,\r\n            subname: user.subname,\r\n            email: user.email,\r\n            avatar: user.avatar,\r\n\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;iCAAe;EACXA,SAAS,EAAGC,IAAI,IAAG;IACf,OAAM;MACFC,GAAG,EAACD,IAAI,CAACE,EAAE;MACXC,IAAI,EAAEH,IAAI,CAACG,IAAI;MACfC,OAAO,EAAEJ,IAAI,CAACI,OAAO;MACrBC,KAAK,EAAEL,IAAI,CAACK,KAAK;MACjBC,MAAM,EAAEN,IAAI,CAACM;IAEjB,CAAC;EACL;AACJ,CAAC","ignoreList":[]}},"mtime":1718155311138},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _mongoose = _interopRequireDefault(require(\"mongoose\"));\nvar _router = _interopRequireDefault(require(\"./router\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//Conexion a la base de dastos\n\n_mongoose.default.Promise = global.Promise;\nconst dbUrl = \"mongodb://localhost:27017/ecommerce_solitek\";\n_mongoose.default.connect(dbUrl, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true\n}).then(mongoose => console.log(\"Conectado a la base de datos en el puerto 27017\")).catch(err => console.log(err));\nconst app = (0, _express.default)();\napp.use((0, _cors.default)());\napp.use(_express.default.json());\napp.use(_express.default.urlencoded({\n  extended: true\n}));\napp.use(_express.default.static(_path.default.join(__dirname, 'public')));\napp.use('/api/', _router.default); //usa los rutas\n\napp.set('port', process.env.PORT || 3000);\napp.listen(app.get('port'), () => {\n  console.log(\"El servidor se ejecuto perfectamente en el puerto 3000\");\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2NvcnMiLCJfcGF0aCIsIl9tb25nb29zZSIsIl9yb3V0ZXIiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIm1vbmdvb3NlIiwiUHJvbWlzZSIsImdsb2JhbCIsImRiVXJsIiwiY29ubmVjdCIsInVzZU5ld1VybFBhcnNlciIsInVzZVVuaWZpZWRUb3BvbG9neSIsInRoZW4iLCJjb25zb2xlIiwibG9nIiwiY2F0Y2giLCJlcnIiLCJhcHAiLCJleHByZXNzIiwidXNlIiwiY29ycyIsImpzb24iLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJzdGF0aWMiLCJwYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsInJvdXRlciIsInNldCIsInByb2Nlc3MiLCJlbnYiLCJQT1JUIiwibGlzdGVuIiwiZ2V0Il0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFwiLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gJ2V4cHJlc3MnXHJcbmltcG9ydCBjb3JzIGZyb20gJ2NvcnMnXHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnXHJcbmltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSdcclxuaW1wb3J0IHJvdXRlciBmcm9tIFwiLi9yb3V0ZXJcIlxyXG5cclxuLy9Db25leGlvbiBhIGxhIGJhc2UgZGUgZGFzdG9zXHJcblxyXG5tb25nb29zZS5Qcm9taXNlID0gZ2xvYmFsLlByb21pc2U7XHJcblxyXG5cclxuY29uc3QgZGJVcmwgPSBcIm1vbmdvZGI6Ly9sb2NhbGhvc3Q6MjcwMTcvZWNvbW1lcmNlX3NvbGl0ZWtcIjtcclxubW9uZ29vc2UuY29ubmVjdChkYlVybCAsIHtcclxuICAgIHVzZU5ld1VybFBhcnNlcjogdHJ1ZSxcclxuICAgIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZVxyXG5cclxufVxyXG4pLnRoZW4obW9uZ29vc2UgPT4gY29uc29sZS5sb2coXCJDb25lY3RhZG8gYSBsYSBiYXNlIGRlIGRhdG9zIGVuIGVsIHB1ZXJ0byAyNzAxN1wiKSlcclxuLmNhdGNoKGVyciA9PiBjb25zb2xlLmxvZyhlcnIpKTtcclxuXHJcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcclxuYXBwLnVzZShjb3JzKCkpO1xyXG5cclxuYXBwLnVzZShleHByZXNzLmpzb24oKSk7XHJcbmFwcC51c2UoZXhwcmVzcy51cmxlbmNvZGVkKHtleHRlbmRlZDogdHJ1ZX0pKTtcclxuYXBwLnVzZShleHByZXNzLnN0YXRpYyhwYXRoLmpvaW4oX19kaXJuYW1lLCdwdWJsaWMnKSkpXHJcbmFwcC51c2UoJy9hcGkvJyxyb3V0ZXIpLy91c2EgbG9zIHJ1dGFzXHJcblxyXG5cclxuYXBwLnNldCgncG9ydCcsIHByb2Nlc3MuZW52LlBPUlQgfHwgMzAwMCk7XHJcbmFwcC5saXN0ZW4oYXBwLmdldCgncG9ydCcpLCAoKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhcIkVsIHNlcnZpZG9yIHNlIGVqZWN1dG8gcGVyZmVjdGFtZW50ZSBlbiBlbCBwdWVydG8gMzAwMFwiKTtcclxufSkiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsS0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsU0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksT0FBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQTZCLFNBQUFELHVCQUFBTSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRTdCOztBQUVBRyxpQkFBUSxDQUFDQyxPQUFPLEdBQUdDLE1BQU0sQ0FBQ0QsT0FBTztBQUdqQyxNQUFNRSxLQUFLLEdBQUcsNkNBQTZDO0FBQzNESCxpQkFBUSxDQUFDSSxPQUFPLENBQUNELEtBQUssRUFBRztFQUNyQkUsZUFBZSxFQUFFLElBQUk7RUFDckJDLGtCQUFrQixFQUFFO0FBRXhCLENBQ0EsQ0FBQyxDQUFDQyxJQUFJLENBQUNQLFFBQVEsSUFBSVEsT0FBTyxDQUFDQyxHQUFHLENBQUMsaURBQWlELENBQUMsQ0FBQyxDQUNqRkMsS0FBSyxDQUFDQyxHQUFHLElBQUlILE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRSxHQUFHLENBQUMsQ0FBQztBQUUvQixNQUFNQyxHQUFHLEdBQUcsSUFBQUMsZ0JBQU8sRUFBQyxDQUFDO0FBQ3JCRCxHQUFHLENBQUNFLEdBQUcsQ0FBQyxJQUFBQyxhQUFJLEVBQUMsQ0FBQyxDQUFDO0FBRWZILEdBQUcsQ0FBQ0UsR0FBRyxDQUFDRCxnQkFBTyxDQUFDRyxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ3ZCSixHQUFHLENBQUNFLEdBQUcsQ0FBQ0QsZ0JBQU8sQ0FBQ0ksVUFBVSxDQUFDO0VBQUNDLFFBQVEsRUFBRTtBQUFJLENBQUMsQ0FBQyxDQUFDO0FBQzdDTixHQUFHLENBQUNFLEdBQUcsQ0FBQ0QsZ0JBQU8sQ0FBQ00sTUFBTSxDQUFDQyxhQUFJLENBQUNDLElBQUksQ0FBQ0MsU0FBUyxFQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7QUFDdERWLEdBQUcsQ0FBQ0UsR0FBRyxDQUFDLE9BQU8sRUFBQ1MsZUFBTSxDQUFDOztBQUd2QlgsR0FBRyxDQUFDWSxHQUFHLENBQUMsTUFBTSxFQUFFQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsSUFBSSxJQUFJLElBQUksQ0FBQztBQUN6Q2YsR0FBRyxDQUFDZ0IsTUFBTSxDQUFDaEIsR0FBRyxDQUFDaUIsR0FBRyxDQUFDLE1BQU0sQ0FBQyxFQUFFLE1BQU07RUFDOUJyQixPQUFPLENBQUNDLEdBQUcsQ0FBQyx3REFBd0QsQ0FBQztBQUN6RSxDQUFDLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_express","_interopRequireDefault","require","_cors","_path","_mongoose","_router","obj","__esModule","default","mongoose","Promise","global","dbUrl","connect","useNewUrlParser","useUnifiedTopology","then","console","log","catch","err","app","express","use","cors","json","urlencoded","extended","static","path","join","__dirname","router","set","process","env","PORT","listen","get"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\","sources":["index.js"],"sourcesContent":["import express from 'express'\r\nimport cors from 'cors'\r\nimport path from 'path'\r\nimport mongoose from 'mongoose'\r\nimport router from \"./router\"\r\n\r\n//Conexion a la base de dastos\r\n\r\nmongoose.Promise = global.Promise;\r\n\r\n\r\nconst dbUrl = \"mongodb://localhost:27017/ecommerce_solitek\";\r\nmongoose.connect(dbUrl , {\r\n    useNewUrlParser: true,\r\n    useUnifiedTopology: true\r\n\r\n}\r\n).then(mongoose => console.log(\"Conectado a la base de datos en el puerto 27017\"))\r\n.catch(err => console.log(err));\r\n\r\nconst app = express();\r\napp.use(cors());\r\n\r\napp.use(express.json());\r\napp.use(express.urlencoded({extended: true}));\r\napp.use(express.static(path.join(__dirname,'public')))\r\napp.use('/api/',router)//usa los rutas\r\n\r\n\r\napp.set('port', process.env.PORT || 3000);\r\napp.listen(app.get('port'), () => {\r\n    console.log(\"El servidor se ejecuto perfectamente en el puerto 3000\");\r\n})"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,OAAA,GAAAL,sBAAA,CAAAC,OAAA;AAA6B,SAAAD,uBAAAM,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE7B;;AAEAG,iBAAQ,CAACC,OAAO,GAAGC,MAAM,CAACD,OAAO;AAGjC,MAAME,KAAK,GAAG,6CAA6C;AAC3DH,iBAAQ,CAACI,OAAO,CAACD,KAAK,EAAG;EACrBE,eAAe,EAAE,IAAI;EACrBC,kBAAkB,EAAE;AAExB,CACA,CAAC,CAACC,IAAI,CAACP,QAAQ,IAAIQ,OAAO,CAACC,GAAG,CAAC,iDAAiD,CAAC,CAAC,CACjFC,KAAK,CAACC,GAAG,IAAIH,OAAO,CAACC,GAAG,CAACE,GAAG,CAAC,CAAC;AAE/B,MAAMC,GAAG,GAAG,IAAAC,gBAAO,EAAC,CAAC;AACrBD,GAAG,CAACE,GAAG,CAAC,IAAAC,aAAI,EAAC,CAAC,CAAC;AAEfH,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACG,IAAI,CAAC,CAAC,CAAC;AACvBJ,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACI,UAAU,CAAC;EAACC,QAAQ,EAAE;AAAI,CAAC,CAAC,CAAC;AAC7CN,GAAG,CAACE,GAAG,CAACD,gBAAO,CAACM,MAAM,CAACC,aAAI,CAACC,IAAI,CAACC,SAAS,EAAC,QAAQ,CAAC,CAAC,CAAC;AACtDV,GAAG,CAACE,GAAG,CAAC,OAAO,EAACS,eAAM,CAAC;;AAGvBX,GAAG,CAACY,GAAG,CAAC,MAAM,EAAEC,OAAO,CAACC,GAAG,CAACC,IAAI,IAAI,IAAI,CAAC;AACzCf,GAAG,CAACgB,MAAM,CAAChB,GAAG,CAACiB,GAAG,CAAC,MAAM,CAAC,EAAE,MAAM;EAC9BrB,OAAO,CAACC,GAAG,CAAC,wDAAwD,CAAC;AACzE,CAAC,CAAC","ignoreList":[]}},"mtime":1716060001149},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _User = _interopRequireDefault(require(\"./User\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.use('/users', _User.default);\nvar _default = exports.default = router; //cargando archivo de rutas de usuario\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwidXNlIiwiVXNlciIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxud29ybFxcRXNjcml0b3Jpb1xcUHJvZ3JhbWFjacOzblxcRWNvbW1lcmNlU29saXRla1xcYXBpX2Vjb21tZXJjZVxccm91dGVyXFwiLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gXCJleHByZXNzLXByb21pc2Utcm91dGVyXCJcclxuaW1wb3J0IFVzZXIgZnJvbSBcIi4vVXNlclwiXHJcblxyXG5cclxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xyXG5cclxucm91dGVyLnVzZSgnL3VzZXJzJyxVc2VyKTtcclxuXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOy8vY2FyZ2FuZG8gYXJjaGl2byBkZSBydXRhcyBkZSB1c3VhcmlvIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsS0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQXlCLFNBQUFELHVCQUFBRyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBR3pCLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFFeEJELE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLFFBQVEsRUFBQ0MsYUFBSSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFOLE9BQUEsR0FJWEMsTUFBTSxFQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_User","obj","__esModule","default","router","routerx","use","User","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\router\\","sources":["index.js"],"sourcesContent":["import routerx from \"express-promise-router\"\r\nimport User from \"./User\"\r\n\r\n\r\nconst router = routerx();\r\n\r\nrouter.use('/users',User);\r\n\r\n\r\n\r\nexport default router;//cargando archivo de rutas de usuario"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,KAAA,GAAAF,sBAAA,CAAAC,OAAA;AAAyB,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAGzB,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,GAAG,CAAC,QAAQ,EAACC,aAAI,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAN,OAAA,GAIXC,MAAM,EAAC","ignoreList":[]}},"mtime":1716059015592},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _UserController = _interopRequireDefault(require(\"../controllers/UserController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\n//http://localhost:3000/api/users/register\n//http://localhost:3000/api/users/update\n\nrouter.post(\"/register\", _UserController.default.register);\nrouter.post(\"/register_admin\", _auth.default.verifyAdmin, _UserController.default.register_admin);\nrouter.put(\"/update\", _UserController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _UserController.default.list);\nrouter.post(\"/login\", _UserController.default.login);\nrouter.post(\"/login_admin\", _UserController.default.login_admin);\nrouter.delete(\"/delete\", _UserController.default.remove);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Vc2VyQ29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsInVzZXJjb250cm9sbGVyIiwicmVnaXN0ZXIiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJyZWdpc3Rlcl9hZG1pbiIsInB1dCIsInVwZGF0ZSIsImdldCIsImxpc3QiLCJsb2dpbiIsImxvZ2luX2FkbWluIiwiZGVsZXRlIiwicmVtb3ZlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tIFwiZXhwcmVzcy1wcm9taXNlLXJvdXRlclwiXHJcbmltcG9ydCB1c2VyY29udHJvbGxlciBmcm9tIFwiLi4vY29udHJvbGxlcnMvVXNlckNvbnRyb2xsZXJcIlxyXG5pbXBvcnQgYXV0aCBmcm9tIFwiLi4vbWlkZGxld2FyZXMvYXV0aFwiO1xyXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XHJcbi8vaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2Vycy9yZWdpc3RlclxyXG4vL2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlcnMvdXBkYXRlXHJcblxyXG5cclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIix1c2VyY29udHJvbGxlci5yZWdpc3Rlcik7XHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyX2FkbWluXCIsYXV0aC52ZXJpZnlBZG1pbix1c2VyY29udHJvbGxlci5yZWdpc3Rlcl9hZG1pbik7XHJcbnJvdXRlci5wdXQoXCIvdXBkYXRlXCIsdXNlcmNvbnRyb2xsZXIudXBkYXRlKTtcclxucm91dGVyLmdldChcIi9saXN0XCIsYXV0aC52ZXJpZnlBZG1pbix1c2VyY29udHJvbGxlci5saXN0KTtcclxucm91dGVyLnBvc3QoXCIvbG9naW5cIix1c2VyY29udHJvbGxlci5sb2dpbik7XHJcbnJvdXRlci5wb3N0KFwiL2xvZ2luX2FkbWluXCIsdXNlcmNvbnRyb2xsZXIubG9naW5fYWRtaW4pO1xyXG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZVwiLHVzZXJjb250cm9sbGVyLnJlbW92ZSk7XHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxlQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBdUMsU0FBQUQsdUJBQUFJLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFDdkMsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUN4QjtBQUNBOztBQUdBRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUNDLHVCQUFjLENBQUNDLFFBQVEsQ0FBQztBQUNoREosTUFBTSxDQUFDRSxJQUFJLENBQUMsaUJBQWlCLEVBQUNHLGFBQUksQ0FBQ0MsV0FBVyxFQUFDSCx1QkFBYyxDQUFDSSxjQUFjLENBQUM7QUFDN0VQLE1BQU0sQ0FBQ1EsR0FBRyxDQUFDLFNBQVMsRUFBQ0wsdUJBQWMsQ0FBQ00sTUFBTSxDQUFDO0FBQzNDVCxNQUFNLENBQUNVLEdBQUcsQ0FBQyxPQUFPLEVBQUNMLGFBQUksQ0FBQ0MsV0FBVyxFQUFDSCx1QkFBYyxDQUFDUSxJQUFJLENBQUM7QUFDeERYLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFFBQVEsRUFBQ0MsdUJBQWMsQ0FBQ1MsS0FBSyxDQUFDO0FBQzFDWixNQUFNLENBQUNFLElBQUksQ0FBQyxjQUFjLEVBQUNDLHVCQUFjLENBQUNVLFdBQVcsQ0FBQztBQUN0RGIsTUFBTSxDQUFDYyxNQUFNLENBQUMsU0FBUyxFQUFDWCx1QkFBYyxDQUFDWSxNQUFNLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWxCLE9BQUEsR0FDaENDLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_UserController","_auth","obj","__esModule","default","router","routerx","post","usercontroller","register","auth","verifyAdmin","register_admin","put","update","get","list","login","login_admin","delete","remove","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\router\\","sources":["User.js"],"sourcesContent":["import routerx from \"express-promise-router\"\r\nimport usercontroller from \"../controllers/UserController\"\r\nimport auth from \"../middlewares/auth\";\r\nconst router = routerx();\r\n//http://localhost:3000/api/users/register\r\n//http://localhost:3000/api/users/update\r\n\r\n\r\nrouter.post(\"/register\",usercontroller.register);\r\nrouter.post(\"/register_admin\",auth.verifyAdmin,usercontroller.register_admin);\r\nrouter.put(\"/update\",usercontroller.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,usercontroller.list);\r\nrouter.post(\"/login\",usercontroller.login);\r\nrouter.post(\"/login_admin\",usercontroller.login_admin);\r\nrouter.delete(\"/delete\",usercontroller.remove);\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAuC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AACvC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxB;AACA;;AAGAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,uBAAc,CAACC,QAAQ,CAAC;AAChDJ,MAAM,CAACE,IAAI,CAAC,iBAAiB,EAACG,aAAI,CAACC,WAAW,EAACH,uBAAc,CAACI,cAAc,CAAC;AAC7EP,MAAM,CAACQ,GAAG,CAAC,SAAS,EAACL,uBAAc,CAACM,MAAM,CAAC;AAC3CT,MAAM,CAACU,GAAG,CAAC,OAAO,EAACL,aAAI,CAACC,WAAW,EAACH,uBAAc,CAACQ,IAAI,CAAC;AACxDX,MAAM,CAACE,IAAI,CAAC,QAAQ,EAACC,uBAAc,CAACS,KAAK,CAAC;AAC1CZ,MAAM,CAACE,IAAI,CAAC,cAAc,EAACC,uBAAc,CAACU,WAAW,CAAC;AACtDb,MAAM,CAACc,MAAM,CAAC,SAAS,EAACX,uBAAc,CAACY,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAlB,OAAA,GAChCC,MAAM","ignoreList":[]}},"mtime":1716156526388},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      //name, user y password\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      const userT = await _models.default.User.create(req.body); //await para esperar\n      res.status(200).json({\n        message: \"REGISTRADO\",\n        user: userT\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register_admin: async (req, res) => {\n    try {\n      //name, user y password\n      const userV = await _models.default.User.findOne({\n        email: req.body.email\n      });\n      if (userV) {\n        res.status(500).send({\n          message: \"EL USUARIO YA EXISTE\"\n        });\n      }\n      req.body.rol = \"admin\";\n      req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      let user = await _models.default.User.create(req.body); //await para esperar\n      res.status(200).json({\n        user: _resources.default.User.user_list(user)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1\n      }); //encuentro al usuario con base al email\n      if (user) {\n        //si esta registrado en el sistema \n        let compare = await _bcryptjs.default.compare(req.body.password, user.password); //comparacion de contraseñas \n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email); //si todo esta bien se genera el token\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              subname: user.subname,\n              avatar: user.avatar\n            } //armar el cuerpo del token\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO ESTÁ REGISTRADO EN EL SISTEMA\"\n          });\n        }\n      } else {\n        //no esta registrado en el sitema\n        res.status(500).send({\n          message: \"EL USUARIO NO ESTÁ REGISTRADO EN EL SISTEMA\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  login_admin: async (req, res) => {\n    try {\n      const user = await _models.default.User.findOne({\n        email: req.body.email,\n        state: 1,\n        rol: 'admin'\n      }); //encuentro al usuario con base al email\n      if (user) {\n        //si esta registrado en el sistema \n        let compare = await _bcryptjs.default.compare(req.body.password, user.password); //comparacion de contraseñas \n        if (compare) {\n          let tokenT = await _token.default.encode(user._id, user.rol, user.email); //si todo esta bien se genera el token\n          const USER_FRONTED = {\n            token: tokenT,\n            user: {\n              name: user.name,\n              email: user.email,\n              subname: user.subname,\n              avatar: user.avatar,\n              rol: user.rol\n            } //armar el cuerpo del token\n          };\n          res.status(200).json({\n            USER_FRONTED: USER_FRONTED\n          });\n        } else {\n          res.status(500).send({\n            message: \"EL USUARIO NO ESTÁ REGISTRADO EN EL SISTEMA\"\n          });\n        }\n      } else {\n        //no esta registrado en el sitema\n        res.status(500).send({\n          message: \"EL USUARIO NO ESTÁ REGISTRADO EN EL SISTEMA\"\n        });\n      }\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files) {\n        var ima_path = req.files.avatar.path;\n        var name = ima_path.split('\\\\');\n        var avatar_name = name[2];\n        console.log(avatar_name);\n      }\n      if (req.body.password) {\n        req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let UserT = await _models.default.User.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\n        user: _resources.default.User.user_list(UserT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.body.search;\n      let Users = await _models.default.User.find({\n        $or: [{\n          \"name\": new RegExp(search, \"i\")\n        }, {\n          \"subname\": new RegExp(search, \"i\")\n        }, {\n          \"email\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Users = Users.map(user => {\n        return _resources.default.User.user_list(user);\n      });\n      res.status(200).json({\n        users: Users\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      const User = await _models.default.User.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"EL USUARIO SE HA ELIMINADO\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfYmNyeXB0anMiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9tb2RlbHMiLCJfdG9rZW4iLCJfcmVzb3VyY2VzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJyZWdpc3RlciIsInJlcSIsInJlcyIsImJvZHkiLCJwYXNzd29yZCIsImJjcnlwdCIsImhhc2giLCJ1c2VyVCIsIm1vZGVscyIsIlVzZXIiLCJjcmVhdGUiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInVzZXIiLCJlcnJvciIsInNlbmQiLCJjb25zb2xlIiwibG9nIiwicmVnaXN0ZXJfYWRtaW4iLCJ1c2VyViIsImZpbmRPbmUiLCJlbWFpbCIsInJvbCIsInJlc291cmNlIiwidXNlcl9saXN0IiwibG9naW4iLCJzdGF0ZSIsImNvbXBhcmUiLCJ0b2tlblQiLCJ0b2tlbiIsImVuY29kZSIsIl9pZCIsIlVTRVJfRlJPTlRFRCIsIm5hbWUiLCJzdWJuYW1lIiwiYXZhdGFyIiwibG9naW5fYWRtaW4iLCJ1cGRhdGUiLCJmaWxlcyIsImltYV9wYXRoIiwicGF0aCIsInNwbGl0IiwiYXZhdGFyX25hbWUiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIlVzZXJUIiwibGlzdCIsInNlYXJjaCIsIlVzZXJzIiwiZmluZCIsIiRvciIsIlJlZ0V4cCIsInNvcnQiLCJtYXAiLCJ1c2VycyIsInJlbW92ZSIsImZpbmRCeUlkQW5kRGVsZXRlIiwicXVlcnkiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbndvcmxcXEVzY3JpdG9yaW9cXFByb2dyYW1hY2nDs25cXEVjb21tZXJjZVNvbGl0ZWtcXGFwaV9lY29tbWVyY2VcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIlVzZXJDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnXHJcbmltcG9ydCBtb2RlbHMgZnJvbSAnLi4vbW9kZWxzJ1xyXG5pbXBvcnQgdG9rZW4gZnJvbSAnLi4vc2VydmljZXMvdG9rZW4nXHJcbmltcG9ydCByZXNvdXJjZSBmcm9tICcuLi9yZXNvdXJjZXMnXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIFxyXG5cclxuXHJcblxyXG4gICAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpPT57XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy9uYW1lLCB1c2VyIHkgcGFzc3dvcmRcclxuICAgICAgICAgICAgcmVxLmJvZHkucGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaCggcmVxLmJvZHkucGFzc3dvcmQsMTApO1xyXG4gICAgICAgICAgICBjb25zdCB1c2VyVCA9IGF3YWl0IG1vZGVscy5Vc2VyLmNyZWF0ZShyZXEuYm9keSk7IC8vYXdhaXQgcGFyYSBlc3BlcmFyXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6XCJSRUdJU1RSQURPXCIsXHJcbiAgICAgICAgICAgICAgICB1c2VyOnVzZXJUXHJcblxyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgXHJcblxyXG4gICAgfSxcclxuICAgIHJlZ2lzdGVyX2FkbWluOiBhc3luYyhyZXEscmVzKT0+e1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vbmFtZSwgdXNlciB5IHBhc3N3b3JkXHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXJWID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7ZW1haWw6IHJlcS5ib2R5LmVtYWlsfSk7XHJcbiAgICAgICAgICAgIGlmKHVzZXJWKXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gWUEgRVhJU1RFXCJcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlcS5ib2R5LnJvbCA9IFwiYWRtaW5cIjtcclxuICAgICAgICAgICAgcmVxLmJvZHkucGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaCggcmVxLmJvZHkucGFzc3dvcmQsMTApO1xyXG4gICAgICAgICAgICBsZXQgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmNyZWF0ZShyZXEuYm9keSk7IC8vYXdhaXQgcGFyYSBlc3BlcmFyXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIHVzZXI6IHJlc291cmNlLlVzZXIudXNlcl9saXN0KHVzZXIpXHJcblxyXG5cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgXHJcblxyXG4gICAgfSxcclxuICAgIGxvZ2luOiBhc3luYyhyZXEscmVzKT0+e1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBtb2RlbHMuVXNlci5maW5kT25lKHtlbWFpbDogcmVxLmJvZHkuZW1haWwsIHN0YXRlOjF9KTsvL2VuY3VlbnRybyBhbCB1c3VhcmlvIGNvbiBiYXNlIGFsIGVtYWlsXHJcbiAgICAgICAgICAgIGlmKHVzZXIpe1xyXG4gICAgICAgICAgICAgICAgLy9zaSBlc3RhIHJlZ2lzdHJhZG8gZW4gZWwgc2lzdGVtYSBcclxuICAgICAgICAgICAgICAgIGxldCBjb21wYXJlID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUocmVxLmJvZHkucGFzc3dvcmQsdXNlci5wYXNzd29yZCk7Ly9jb21wYXJhY2lvbiBkZSBjb250cmFzZcOxYXMgXHJcbiAgICAgICAgICAgICAgICBpZihjb21wYXJlKXtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdG9rZW5UID0gYXdhaXQgdG9rZW4uZW5jb2RlKHVzZXIuX2lkLHVzZXIucm9sLHVzZXIuZW1haWwpOy8vc2kgdG9kbyBlc3RhIGJpZW4gc2UgZ2VuZXJhIGVsIHRva2VuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgVVNFUl9GUk9OVEVEID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2tlbjp0b2tlblQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXI6e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTp1c2VyLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDp1c2VyLmVtYWlsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VibmFtZTp1c2VyLnN1Ym5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdmF0YXI6dXNlci5hdmF0YXIsXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LC8vYXJtYXIgZWwgY3VlcnBvIGRlbCB0b2tlblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFVTRVJfRlJPTlRFRDpVU0VSX0ZST05URUQsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBVU1VBUklPIE5PIEVTVMOBIFJFR0lTVFJBRE8gRU4gRUwgU0lTVEVNQVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAvL25vIGVzdGEgcmVnaXN0cmFkbyBlbiBlbCBzaXRlbWFcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVNUw4EgUkVHSVNUUkFETyBFTiBFTCBTSVNURU1BXCJcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9LFxyXG4gICAgbG9naW5fYWRtaW46IGFzeW5jKHJlcSxyZXMpPT57XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgdXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoe2VtYWlsOiByZXEuYm9keS5lbWFpbCwgc3RhdGU6MSxyb2w6J2FkbWluJ30pOy8vZW5jdWVudHJvIGFsIHVzdWFyaW8gY29uIGJhc2UgYWwgZW1haWxcclxuICAgICAgICAgICAgaWYodXNlcil7XHJcbiAgICAgICAgICAgICAgICAvL3NpIGVzdGEgcmVnaXN0cmFkbyBlbiBlbCBzaXN0ZW1hIFxyXG4gICAgICAgICAgICAgICAgbGV0IGNvbXBhcmUgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShyZXEuYm9keS5wYXNzd29yZCx1c2VyLnBhc3N3b3JkKTsvL2NvbXBhcmFjaW9uIGRlIGNvbnRyYXNlw7FhcyBcclxuICAgICAgICAgICAgICAgIGlmKGNvbXBhcmUpe1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCB0b2tlblQgPSBhd2FpdCB0b2tlbi5lbmNvZGUodXNlci5faWQsdXNlci5yb2wsdXNlci5lbWFpbCk7Ly9zaSB0b2RvIGVzdGEgYmllbiBzZSBnZW5lcmEgZWwgdG9rZW5cclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBVU0VSX0ZST05URUQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuOnRva2VuVCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlcjp7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOnVzZXIubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOnVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJuYW1lOnVzZXIuc3VibmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF2YXRhcjp1c2VyLmF2YXRhcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbDp1c2VyLnJvbCxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sLy9hcm1hciBlbCBjdWVycG8gZGVsIHRva2VuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgVVNFUl9GUk9OVEVEOlVTRVJfRlJPTlRFRCxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFVTVUFSSU8gTk8gRVNUw4EgUkVHSVNUUkFETyBFTiBFTCBTSVNURU1BXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIC8vbm8gZXN0YSByZWdpc3RyYWRvIGVuIGVsIHNpdGVtYVxyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBOTyBFU1TDgSBSRUdJU1RSQURPIEVOIEVMIFNJU1RFTUFcIlxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0sXHJcbiAgICB1cGRhdGU6IGFzeW5jKHJlcSxyZXMpPT57XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYocmVxLmZpbGVzKXtcclxuICAgICAgICAgICAgICAgIHZhciBpbWFfcGF0aCA9IHJlcS5maWxlcy5hdmF0YXIucGF0aDtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW1hX3BhdGguc3BsaXQoJ1xcXFwnKTtcclxuICAgICAgICAgICAgICAgIHZhciBhdmF0YXJfbmFtZSA9IG5hbWVbMl07XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhhdmF0YXJfbmFtZSk7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKHJlcS5ib2R5LnBhc3N3b3JkKXtcclxuICAgICAgICAgICAgICAgcmVxLmJvZHkucGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaCggcmVxLmJvZHkucGFzc3dvcmQsMTApO1xyXG4gICAgICAgICB9XHJcbiAgICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlVzZXIuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogcmVxLmJvZHkuX2lkXHJcbiAgICAgICAgICAgIH0scmVxLmJvZHkpO1xyXG5cclxuICAgICAgICAgICAgbGV0IFVzZXJUID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZE9uZSh7X2lkOiByZXEuYm9keS5faWR9KTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBTRSBIQSBNT0RJRklDQURPIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgICAgIHVzZXI6IHJlc291cmNlLlVzZXIudXNlcl9saXN0KFVzZXJUKSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9LFxyXG4gICAgbGlzdDogYXN5bmMocmVxLHJlcyk9PntcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIHNlYXJjaCA9IHJlcS5ib2R5LnNlYXJjaDtcclxuICAgICAgICAgICAgbGV0IFVzZXJzID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZCh7XHJcbiAgICAgICAgICAgICAgICAkb3I6W1xyXG4gICAgICAgICAgICAgICAgICAgIHtcIm5hbWVcIjpuZXcgUmVnRXhwKHNlYXJjaCxcImlcIil9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcInN1Ym5hbWVcIjpuZXcgUmVnRXhwKHNlYXJjaCxcImlcIil9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcImVtYWlsXCI6bmV3IFJlZ0V4cChzZWFyY2gsXCJpXCIpfSxcclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSkuc29ydCh7J2NyZWF0ZWRBdCc6LTF9KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIFVzZXJzID0gVXNlcnMubWFwKCh1c2VyKT0+e1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlLlVzZXIudXNlcl9saXN0KHVzZXIpO1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgdXNlcnM6VXNlcnNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICByZW1vdmU6IGFzeW5jKHJlcSxyZXMpPT57XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICBjb25zdCBVc2VyID0gYXdhaXQgbW9kZWxzLlVzZXIuZmluZEJ5SWRBbmREZWxldGUoe1xyXG4gICAgICAgICAgICBfaWQ6IHJlcS5xdWVyeS5faWRcclxuICAgICAgICAgICB9KTtcclxuICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVVNVQVJJTyBTRSBIQSBFTElNSU5BRE9cIixcclxuXHJcbiAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsTUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsVUFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQW1DLFNBQUFELHVCQUFBSyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FDcEI7RUFLWEcsUUFBUSxFQUFFLE1BQUFBLENBQU1DLEdBQUcsRUFBQ0MsR0FBRyxLQUFHO0lBQ3RCLElBQUk7TUFDQTtNQUNB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","map":{"version":3,"names":["_bcryptjs","_interopRequireDefault","require","_models","_token","_resources","obj","__esModule","default","_default","exports","register","req","res","body","password","bcrypt","hash","userT","models","User","create","status","json","message","user","error","send","console","log","register_admin","userV","findOne","email","rol","resource","user_list","login","state","compare","tokenT","token","encode","_id","USER_FRONTED","name","subname","avatar","login_admin","update","files","ima_path","path","split","avatar_name","findByIdAndUpdate","UserT","list","search","Users","find","$or","RegExp","sort","map","users","remove","findByIdAndDelete","query"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\controllers\\","sources":["UserController.js"],"sourcesContent":["import bcrypt from 'bcryptjs'\r\nimport models from '../models'\r\nimport token from '../services/token'\r\nimport resource from '../resources'\r\nexport default {\r\n    \r\n\r\n\r\n\r\n    register: async(req,res)=>{\r\n        try {\r\n            //name, user y password\r\n            req.body.password = await bcrypt.hash( req.body.password,10);\r\n            const userT = await models.User.create(req.body); //await para esperar\r\n            res.status(200).json({\r\n                message:\"REGISTRADO\",\r\n                user:userT\r\n\r\n\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n                \r\n            });\r\n            console.log(error);\r\n        }\r\n\r\n       \r\n\r\n    },\r\n    register_admin: async(req,res)=>{\r\n        try {\r\n            //name, user y password\r\n            const userV = await models.User.findOne({email: req.body.email});\r\n            if(userV){\r\n                res.status(500).send({\r\n                    message: \"EL USUARIO YA EXISTE\"\r\n                    \r\n                });\r\n            }\r\n            req.body.rol = \"admin\";\r\n            req.body.password = await bcrypt.hash( req.body.password,10);\r\n            let user = await models.User.create(req.body); //await para esperar\r\n            res.status(200).json({\r\n                user: resource.User.user_list(user)\r\n\r\n\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n                \r\n            });\r\n            console.log(error);\r\n        }\r\n\r\n       \r\n\r\n    },\r\n    login: async(req,res)=>{\r\n        try {\r\n            const user = await models.User.findOne({email: req.body.email, state:1});//encuentro al usuario con base al email\r\n            if(user){\r\n                //si esta registrado en el sistema \r\n                let compare = await bcrypt.compare(req.body.password,user.password);//comparacion de contraseñas \r\n                if(compare){\r\n                    let tokenT = await token.encode(user._id,user.rol,user.email);//si todo esta bien se genera el token\r\n                    const USER_FRONTED = {\r\n                        token:tokenT,\r\n                        user:{\r\n                            name:user.name,\r\n                            email:user.email,\r\n                            subname:user.subname,\r\n                            avatar:user.avatar,\r\n\r\n                        },//armar el cuerpo del token\r\n                    }\r\n                    res.status(200).json({\r\n                        USER_FRONTED:USER_FRONTED,\r\n                    });\r\n\r\n\r\n                }else{\r\n                    res.status(500).send({\r\n                        message: \"EL USUARIO NO ESTÁ REGISTRADO EN EL SISTEMA\"\r\n                        \r\n                    });\r\n\r\n                }\r\n            }else{\r\n                //no esta registrado en el sitema\r\n                res.status(500).send({\r\n                    message: \"EL USUARIO NO ESTÁ REGISTRADO EN EL SISTEMA\"\r\n                    \r\n                });\r\n            }\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n                \r\n            });\r\n            console.log(error);\r\n        }\r\n\r\n    },\r\n    login_admin: async(req,res)=>{\r\n        try {\r\n            const user = await models.User.findOne({email: req.body.email, state:1,rol:'admin'});//encuentro al usuario con base al email\r\n            if(user){\r\n                //si esta registrado en el sistema \r\n                let compare = await bcrypt.compare(req.body.password,user.password);//comparacion de contraseñas \r\n                if(compare){\r\n                    let tokenT = await token.encode(user._id,user.rol,user.email);//si todo esta bien se genera el token\r\n                    const USER_FRONTED = {\r\n                        token:tokenT,\r\n                        user:{\r\n                            name:user.name,\r\n                            email:user.email,\r\n                            subname:user.subname,\r\n                            avatar:user.avatar,\r\n                            rol:user.rol,\r\n\r\n                        },//armar el cuerpo del token\r\n                    }\r\n                    res.status(200).json({\r\n                        USER_FRONTED:USER_FRONTED,\r\n                    });\r\n\r\n\r\n                }else{\r\n                    res.status(500).send({\r\n                        message: \"EL USUARIO NO ESTÁ REGISTRADO EN EL SISTEMA\"\r\n                        \r\n                    });\r\n\r\n                }\r\n            }else{\r\n                //no esta registrado en el sitema\r\n                res.status(500).send({\r\n                    message: \"EL USUARIO NO ESTÁ REGISTRADO EN EL SISTEMA\"\r\n                    \r\n                });\r\n            }\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n                \r\n            });\r\n            console.log(error);\r\n        }\r\n\r\n    },\r\n    update: async(req,res)=>{\r\n        try {\r\n            if(req.files){\r\n                var ima_path = req.files.avatar.path;\r\n                var name = ima_path.split('\\\\');\r\n                var avatar_name = name[2];\r\n                console.log(avatar_name);\r\n\r\n            }\r\n            if(req.body.password){\r\n               req.body.password = await bcrypt.hash( req.body.password,10);\r\n         }\r\n              await models.User.findByIdAndUpdate({_id: req.body._id\r\n            },req.body);\r\n\r\n            let UserT = await models.User.findOne({_id: req.body._id});\r\n\r\n            res.status(200).json({\r\n                message: \"EL USUARIO SE HA MODIFICADO CORRECTAMENTE\",\r\n                user: resource.User.user_list(UserT),\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n                \r\n            });\r\n            console.log(error);\r\n        }\r\n\r\n    },\r\n    list: async(req,res)=>{\r\n\r\n        try {\r\n            var search = req.body.search;\r\n            let Users = await models.User.find({\r\n                $or:[\r\n                    {\"name\":new RegExp(search,\"i\")},\r\n                    {\"subname\":new RegExp(search,\"i\")},\r\n                    {\"email\":new RegExp(search,\"i\")},\r\n                ]\r\n            }).sort({'createdAt':-1});\r\n            \r\n            Users = Users.map((user)=>{\r\n                return resource.User.user_list(user);\r\n            })\r\n\r\n            res.status(200).json({\r\n                users:Users\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n                \r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    remove: async(req,res)=>{\r\n        try {\r\n           const User = await models.User.findByIdAndDelete({\r\n            _id: req.query._id\r\n           });\r\n           res.status(200).json({\r\n            message: \"EL USUARIO SE HA ELIMINADO\",\r\n\r\n           });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n                \r\n            });\r\n            console.log(error);\r\n        }\r\n    }\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1716161223575},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _User = _interopRequireDefault(require(\"./User\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//carga el modelo user y demas\nvar _default = exports.default = {\n  User: _User.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfVXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJVc2VyIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFVzZXIgZnJvbSBcIi4vVXNlclwiO1xyXG4vL2NhcmdhIGVsIG1vZGVsbyB1c2VyIHkgZGVtYXNcclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgVXNlcixcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsS0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQTBCLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQzFCO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FDZTtFQUNYRyxJQUFJLEVBQUpBO0FBQ0osQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_User","_interopRequireDefault","require","obj","__esModule","default","_default","exports","User"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\models\\","sources":["index.js"],"sourcesContent":["import User from \"./User\";\r\n//carga el modelo user y demas\r\nexport default {\r\n    User,\r\n}"],"mappings":";;;;;;AAAA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA0B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAC1B;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GACe;EACXG,IAAI,EAAJA;AACJ,CAAC","ignoreList":[]}},"mtime":1716049800933},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\n//todas las caracteristicas del modelo\n\nconst UserSchema = new _mongoose.Schema({\n  rol: {\n    type: String,\n    maxlength: 30,\n    required: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  subname: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    required: true,\n    unique: true\n  },\n  //campo unico\n  password: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  avatar: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  state: {\n    type: Number,\n    default: 1\n  },\n  // 1 es activo y 2 es desactivo\n  phone: {\n    type: String,\n    maxlength: 20,\n    required: false\n  },\n  birthday: {\n    type: String,\n    maxlength: 20,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst User = _mongoose.default.model(\"user\", UserSchema);\nvar _default = exports.default = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJVc2VyU2NoZW1hIiwiU2NoZW1hIiwicm9sIiwidHlwZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsInJlcXVpcmVkIiwibmFtZSIsInN1Ym5hbWUiLCJlbWFpbCIsInVuaXF1ZSIsInBhc3N3b3JkIiwiYXZhdGFyIiwic3RhdGUiLCJOdW1iZXIiLCJwaG9uZSIsImJpcnRoZGF5IiwidGltZXN0YW1wcyIsIlVzZXIiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvL3RvZGFzIGxhcyBjYXJhY3RlcmlzdGljYXMgZGVsIG1vZGVsb1xyXG5pbXBvcnQgbW9uZ29vc2Use1NjaGVtYX0gZnJvbSAnbW9uZ29vc2UnO1xyXG5cclxuY29uc3QgVXNlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgcm9sOnt0eXBlOiBTdHJpbmcsbWF4bGVuZ3RoOjMwLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgbmFtZTp7dHlwZTogU3RyaW5nLG1heGxlbmd0aDoyNTAscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBzdWJuYW1lOnt0eXBlOiBTdHJpbmcsbWF4bGVuZ3RoOjI1MCxyZXF1aXJlZDpmYWxzZX0sXHJcbiAgICBlbWFpbDp7dHlwZTogU3RyaW5nLG1heGxlbmd0aDoyNTAscmVxdWlyZWQ6dHJ1ZSx1bmlxdWU6dHJ1ZX0sLy9jYW1wbyB1bmljb1xyXG4gICAgcGFzc3dvcmQ6e3R5cGU6IFN0cmluZyxtYXhsZW5ndGg6MjUwLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgYXZhdGFyOnt0eXBlOiBTdHJpbmcsbWF4bGVuZ3RoOjI1MCxyZXF1aXJlZDpmYWxzZX0sXHJcbiAgICBzdGF0ZTp7dHlwZTogTnVtYmVyLGRlZmF1bHQ6MX0sLy8gMSBlcyBhY3Rpdm8geSAyIGVzIGRlc2FjdGl2b1xyXG4gICAgcGhvbmU6e3R5cGU6IFN0cmluZyxtYXhsZW5ndGg6MjAscmVxdWlyZWQ6ZmFsc2V9LFxyXG4gICAgYmlydGhkYXk6e3R5cGU6IFN0cmluZyxtYXhsZW5ndGg6MjAscmVxdWlyZWQ6ZmFsc2V9LFxyXG5cclxuXHJcblxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6IHRydWVcclxufSk7XHJcblxyXG5jb25zdCBVc2VyID0gbW9uZ29vc2UubW9kZWwoXCJ1c2VyXCIsVXNlclNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IFVzZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFDQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBeUMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxLQUFBRixDQUFBO0FBQUEsU0FBQUgsd0JBQUFHLENBQUEsRUFBQUUsQ0FBQSxTQUFBQSxDQUFBLElBQUFGLENBQUEsSUFBQUEsQ0FBQSxDQUFBSSxVQUFBLFNBQUFKLENBQUEsZUFBQUEsQ0FBQSx1QkFBQUEsQ0FBQSx5QkFBQUEsQ0FBQSxXQUFBSyxPQUFBLEVBQUFMLENBQUEsUUFBQUcsQ0FBQSxHQUFBSix3QkFBQSxDQUFBRyxDQUFBLE9BQUFDLENBQUEsSUFBQUEsQ0FBQSxDQUFBRyxHQUFBLENBQUFOLENBQUEsVUFBQUcsQ0FBQSxDQUFBSSxHQUFBLENBQUFQLENBQUEsT0FBQVEsQ0FBQSxLQUFBQyxTQUFBLFVBQUFDLENBQUEsR0FBQUMsTUFBQSxDQUFBQyxjQUFBLElBQUFELE1BQUEsQ0FBQUUsd0JBQUEsV0FBQUMsQ0FBQSxJQUFBZCxDQUFBLG9CQUFBYyxDQUFBLE9BQUFDLGNBQUEsQ0FBQUMsSUFBQSxDQUFBaEIsQ0FBQSxFQUFBYyxDQUFBLFNBQUFHLENBQUEsR0FBQVAsQ0FBQSxHQUFBQyxNQUFBLENBQUFFLHdCQUFBLENBQUFiLENBQUEsRUFBQWMsQ0FBQSxVQUFBRyxDQUFBLEtBQUFBLENBQUEsQ0FBQVYsR0FBQSxJQUFBVSxDQUFBLENBQUFDLEdBQUEsSUFBQVAsTUFBQSxDQUFBQyxjQUFBLENBQUFKLENBQUEsRUFBQU0sQ0FBQSxFQUFBRyxDQUFBLElBQUFULENBQUEsQ0FBQU0sQ0FBQSxJQUFBZCxDQUFBLENBQUFjLENBQUEsWUFBQU4sQ0FBQSxDQUFBSCxPQUFBLEdBQUFMLENBQUEsRUFBQUcsQ0FBQSxJQUFBQSxDQUFBLENBQUFlLEdBQUEsQ0FBQWxCLENBQUEsRUFBQVEsQ0FBQSxHQUFBQSxDQUFBO0FBRHpDOztBQUdBLE1BQU1XLFVBQVUsR0FBRyxJQUFJQyxnQkFBTSxDQUFDO0VBQzFCQyxHQUFHLEVBQUM7SUFBQ0MsSUFBSSxFQUFFQyxNQUFNO0lBQUNDLFNBQVMsRUFBQyxFQUFFO0lBQUNDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDN0NDLElBQUksRUFBQztJQUFDSixJQUFJLEVBQUVDLE1BQU07SUFBQ0MsU0FBUyxFQUFDLEdBQUc7SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUMvQ0UsT0FBTyxFQUFDO0lBQUNMLElBQUksRUFBRUMsTUFBTTtJQUFDQyxTQUFTLEVBQUMsR0FBRztJQUFDQyxRQUFRLEVBQUM7RUFBSyxDQUFDO0VBQ25ERyxLQUFLLEVBQUM7SUFBQ04sSUFBSSxFQUFFQyxNQUFNO0lBQUNDLFNBQVMsRUFBQyxHQUFHO0lBQUNDLFFBQVEsRUFBQyxJQUFJO0lBQUNJLE1BQU0sRUFBQztFQUFJLENBQUM7RUFBQztFQUM3REMsUUFBUSxFQUFDO0lBQUNSLElBQUksRUFBRUMsTUFBTTtJQUFDQyxTQUFTLEVBQUMsR0FBRztJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ25ETSxNQUFNLEVBQUM7SUFBQ1QsSUFBSSxFQUFFQyxNQUFNO0lBQUNDLFNBQVMsRUFBQyxHQUFHO0lBQUNDLFFBQVEsRUFBQztFQUFLLENBQUM7RUFDbERPLEtBQUssRUFBQztJQUFDVixJQUFJLEVBQUVXLE1BQU07SUFBQzVCLE9BQU8sRUFBQztFQUFDLENBQUM7RUFBQztFQUMvQjZCLEtBQUssRUFBQztJQUFDWixJQUFJLEVBQUVDLE1BQU07SUFBQ0MsU0FBUyxFQUFDLEVBQUU7SUFBQ0MsUUFBUSxFQUFDO0VBQUssQ0FBQztFQUNoRFUsUUFBUSxFQUFDO0lBQUNiLElBQUksRUFBRUMsTUFBTTtJQUFDQyxTQUFTLEVBQUMsRUFBRTtJQUFDQyxRQUFRLEVBQUM7RUFBSztBQUl0RCxDQUFDLEVBQUM7RUFDRVcsVUFBVSxFQUFFO0FBQ2hCLENBQUMsQ0FBQztBQUVGLE1BQU1DLElBQUksR0FBR0MsaUJBQVEsQ0FBQ0MsS0FBSyxDQUFDLE1BQU0sRUFBQ3BCLFVBQVUsQ0FBQztBQUFDLElBQUFxQixRQUFBLEdBQUFDLE9BQUEsQ0FBQXBDLE9BQUEsR0FDaENnQyxJQUFJIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","UserSchema","Schema","rol","type","String","maxlength","required","name","subname","email","unique","password","avatar","state","Number","phone","birthday","timestamps","User","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\models\\","sources":["User.js"],"sourcesContent":["//todas las caracteristicas del modelo\r\nimport mongoose,{Schema} from 'mongoose';\r\n\r\nconst UserSchema = new Schema({\r\n    rol:{type: String,maxlength:30,required:true},\r\n    name:{type: String,maxlength:250,required:true},\r\n    subname:{type: String,maxlength:250,required:false},\r\n    email:{type: String,maxlength:250,required:true,unique:true},//campo unico\r\n    password:{type: String,maxlength:250,required:true},\r\n    avatar:{type: String,maxlength:250,required:false},\r\n    state:{type: Number,default:1},// 1 es activo y 2 es desactivo\r\n    phone:{type: String,maxlength:20,required:false},\r\n    birthday:{type: String,maxlength:20,required:false},\r\n\r\n\r\n\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst User = mongoose.model(\"user\",UserSchema);\r\nexport default User;"],"mappings":";;;;;;AACA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AADzC;;AAGA,MAAMW,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC1BC,GAAG,EAAC;IAACC,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC7CC,IAAI,EAAC;IAACJ,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC/CE,OAAO,EAAC;IAACL,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAK,CAAC;EACnDG,KAAK,EAAC;IAACN,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC,IAAI;IAACI,MAAM,EAAC;EAAI,CAAC;EAAC;EAC7DC,QAAQ,EAAC;IAACR,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EACnDM,MAAM,EAAC;IAACT,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAK,CAAC;EAClDO,KAAK,EAAC;IAACV,IAAI,EAAEW,MAAM;IAAC5B,OAAO,EAAC;EAAC,CAAC;EAAC;EAC/B6B,KAAK,EAAC;IAACZ,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAK,CAAC;EAChDU,QAAQ,EAAC;IAACb,IAAI,EAAEC,MAAM;IAACC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAK;AAItD,CAAC,EAAC;EACEW,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAACpB,UAAU,CAAC;AAAC,IAAAqB,QAAA,GAAAC,OAAA,CAAApC,OAAA,GAChCgC,IAAI","ignoreList":[]}},"mtime":1716160291678},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\services\\\\token.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  encode: async (_id, rol, email) => {\n    const token = _jsonwebtoken.default.sign({\n      _id: _id,\n      rol: rol,\n      email: email\n    }, 'ecommerce_solitek', {\n      expiresIn: '1d'\n    });\n    return token;\n  },\n  decode: async token => {\n    try {\n      const {\n        _id\n      } = await _jsonwebtoken.default.verify(token, 'ecommerce_solitek');\n      const user = _models.default.User.findOne({\n        _id: _id,\n        state: 1\n      });\n      if (user) {\n        return user;\n      }\n      return false;\n\n      //verificar si es auntetico\n    } catch (error) {\n      console.log(error);\n      return false;\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfbW9kZWxzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJlbmNvZGUiLCJfaWQiLCJyb2wiLCJlbWFpbCIsInRva2VuIiwiand0Iiwic2lnbiIsImV4cGlyZXNJbiIsImRlY29kZSIsInZlcmlmeSIsInVzZXIiLCJtb2RlbHMiLCJVc2VyIiwiZmluZE9uZSIsInN0YXRlIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxzZXJ2aWNlc1xcIiwic291cmNlcyI6WyJ0b2tlbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbidcclxuaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCJcclxuXHJcblxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0e1xyXG4gICAgZW5jb2RlOiBhc3luYyhfaWQscm9sLGVtYWlsKT0+e1xyXG5cclxuICAgICAgICBjb25zdCB0b2tlbiA9IGp3dC5zaWduKHsgX2lkOl9pZCxyb2w6cm9sLGVtYWlsOmVtYWlsICB9LCdlY29tbWVyY2Vfc29saXRlaycse2V4cGlyZXNJbjonMWQnfSk7XHJcbiAgICAgICAgcmV0dXJuIHRva2VuO1xyXG5cclxuXHJcbiAgICB9LFxyXG4gICAgZGVjb2RlOiBhc3luYyh0b2tlbik9PntcclxuICAgICAgICB0cnl7XHJcblxyXG4gICAgICAgICAgICBjb25zdCB7X2lkfSA9IGF3YWl0IGp3dC52ZXJpZnkodG9rZW4sJ2Vjb21tZXJjZV9zb2xpdGVrJyk7IFxyXG4gICAgICAgICAgICBjb25zdCB1c2VyID0gbW9kZWxzLlVzZXIuZmluZE9uZSh7X2lkOl9pZCxzdGF0ZTogMX0pO1xyXG4gICAgICAgICAgICBpZih1c2VyKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiB1c2VyO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgIFxyXG4gICAgICAgICAgICAvL3ZlcmlmaWNhciBzaSBlcyBhdW50ZXRpY29cclxuXHJcbiAgICAgICAgfWNhdGNoKGVycm9yKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLGFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLE9BQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUE4QixTQUFBRCx1QkFBQUcsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBS2hCO0VBQ1ZHLE1BQU0sRUFBRSxNQUFBQSxDQUFNQyxHQUFHLEVBQUNDLEdBQUcsRUFBQ0MsS0FBSyxLQUFHO0lBRTFCLE1BQU1DLEtBQUssR0FBR0MscUJBQUcsQ0FBQ0MsSUFBSSxDQUFDO01BQUVMLEdBQUcsRUFBQ0EsR0FBRztNQUFDQyxHQUFHLEVBQUNBLEdBQUc7TUFBQ0MsS0FBSyxFQUFDQTtJQUFPLENBQUMsRUFBQyxtQkFBbUIsRUFBQztNQUFDSSxTQUFTLEVBQUM7SUFBSSxDQUFDLENBQUM7SUFDN0YsT0FBT0gsS0FBSztFQUdoQixDQUFDO0VBQ0RJLE1BQU0sRUFBRSxNQUFNSixLQUFLLElBQUc7SUFDbEIsSUFBRztNQUVDLE1BQU07UUFBQ0g7TUFBRyxDQUFDLEdBQUcsTUFBTUkscUJBQUcsQ0FBQ0ksTUFBTSxDQUFDTCxLQUFLLEVBQUMsbUJBQW1CLENBQUM7TUFDekQsTUFBTU0sSUFBSSxHQUFHQyxlQUFNLENBQUNDLElBQUksQ0FBQ0MsT0FBTyxDQUFDO1FBQUNaLEdBQUcsRUFBQ0EsR0FBRztRQUFDYSxLQUFLLEVBQUU7TUFBQyxDQUFDLENBQUM7TUFDcEQsSUFBR0osSUFBSSxFQUFDO1FBQ0osT0FBT0EsSUFBSTtNQUNmO01BQ0EsT0FBTyxLQUFLOztNQUlaO0lBRUosQ0FBQyxRQUFNSyxLQUFLLEVBQUM7TUFDVEMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEtBQUssQ0FBQztNQUNsQixPQUFPLEtBQUs7SUFFaEI7RUFFSjtBQUNKLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_models","obj","__esModule","default","_default","exports","encode","_id","rol","email","token","jwt","sign","expiresIn","decode","verify","user","models","User","findOne","state","error","console","log"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\services\\","sources":["token.js"],"sourcesContent":["import jwt from 'jsonwebtoken'\r\nimport models from \"../models\"\r\n\r\n\r\n\r\n\r\nexport default{\r\n    encode: async(_id,rol,email)=>{\r\n\r\n        const token = jwt.sign({ _id:_id,rol:rol,email:email  },'ecommerce_solitek',{expiresIn:'1d'});\r\n        return token;\r\n\r\n\r\n    },\r\n    decode: async(token)=>{\r\n        try{\r\n\r\n            const {_id} = await jwt.verify(token,'ecommerce_solitek'); \r\n            const user = models.User.findOne({_id:_id,state: 1});\r\n            if(user){\r\n                return user;\r\n            }\r\n            return false;\r\n            \r\n            \r\n           \r\n            //verificar si es auntetico\r\n\r\n        }catch(error){\r\n            console.log(error);\r\n            return false;\r\n\r\n        }\r\n\r\n    }\r\n}"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA8B,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAKhB;EACVG,MAAM,EAAE,MAAAA,CAAMC,GAAG,EAACC,GAAG,EAACC,KAAK,KAAG;IAE1B,MAAMC,KAAK,GAAGC,qBAAG,CAACC,IAAI,CAAC;MAAEL,GAAG,EAACA,GAAG;MAACC,GAAG,EAACA,GAAG;MAACC,KAAK,EAACA;IAAO,CAAC,EAAC,mBAAmB,EAAC;MAACI,SAAS,EAAC;IAAI,CAAC,CAAC;IAC7F,OAAOH,KAAK;EAGhB,CAAC;EACDI,MAAM,EAAE,MAAMJ,KAAK,IAAG;IAClB,IAAG;MAEC,MAAM;QAACH;MAAG,CAAC,GAAG,MAAMI,qBAAG,CAACI,MAAM,CAACL,KAAK,EAAC,mBAAmB,CAAC;MACzD,MAAMM,IAAI,GAAGC,eAAM,CAACC,IAAI,CAACC,OAAO,CAAC;QAACZ,GAAG,EAACA,GAAG;QAACa,KAAK,EAAE;MAAC,CAAC,CAAC;MACpD,IAAGJ,IAAI,EAAC;QACJ,OAAOA,IAAI;MACf;MACA,OAAO,KAAK;;MAIZ;IAEJ,CAAC,QAAMK,KAAK,EAAC;MACTC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClB,OAAO,KAAK;IAEhB;EAEJ;AACJ,CAAC","ignoreList":[]}},"mtime":1716052776241},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\resources\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _User = _interopRequireDefault(require(\"./User\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  User: _User.default\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfVXNlciIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJVc2VyIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxyZXNvdXJjZXNcXCIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCBVc2VyIGZyb20gJy4vVXNlcidcclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgVXNlcixcclxufVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUNBLElBQUFBLEtBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUF5QixTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBQ1Y7RUFDWEcsSUFBSSxFQUFKQTtBQUNKLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_User","_interopRequireDefault","require","obj","__esModule","default","_default","exports","User"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\resources\\","sources":["index.js"],"sourcesContent":["\r\nimport User from './User'\r\nexport default {\r\n    User,\r\n}\r\n"],"mappings":";;;;;;AACA,IAAAA,KAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAyB,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GACV;EACXG,IAAI,EAAJA;AACJ,CAAC","ignoreList":[]}},"mtime":1716153713938},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\resources\\\\User.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  user_list: user => {\n    return {\n      _id: user.id,\n      name: user.name,\n      subname: user.subname,\n      email: user.email,\n      avatar: user.avatar\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ1c2VyX2xpc3QiLCJ1c2VyIiwiX2lkIiwiaWQiLCJuYW1lIiwic3VibmFtZSIsImVtYWlsIiwiYXZhdGFyIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxyZXNvdXJjZXNcXCIsInNvdXJjZXMiOlsiVXNlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XHJcbiAgICB1c2VyX2xpc3Q6ICh1c2VyKT0+e1xyXG4gICAgICAgIHJldHVybntcclxuICAgICAgICAgICAgX2lkOnVzZXIuaWQsXHJcbiAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcclxuICAgICAgICAgICAgc3VibmFtZTogdXNlci5zdWJuYW1lLFxyXG4gICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgICAgICAgICAgYXZhdGFyOiB1c2VyLmF2YXRhcixcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7aUNBQWU7RUFDWEEsU0FBUyxFQUFHQyxJQUFJLElBQUc7SUFDZixPQUFNO01BQ0ZDLEdBQUcsRUFBQ0QsSUFBSSxDQUFDRSxFQUFFO01BQ1hDLElBQUksRUFBRUgsSUFBSSxDQUFDRyxJQUFJO01BQ2ZDLE9BQU8sRUFBRUosSUFBSSxDQUFDSSxPQUFPO01BQ3JCQyxLQUFLLEVBQUVMLElBQUksQ0FBQ0ssS0FBSztNQUNqQkMsTUFBTSxFQUFFTixJQUFJLENBQUNNO0lBRWpCLENBQUM7RUFDTDtBQUNKLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["user_list","user","_id","id","name","subname","email","avatar"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\resources\\","sources":["User.js"],"sourcesContent":["export default {\r\n    user_list: (user)=>{\r\n        return{\r\n            _id:user.id,\r\n            name: user.name,\r\n            subname: user.subname,\r\n            email: user.email,\r\n            avatar: user.avatar,\r\n\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;iCAAe;EACXA,SAAS,EAAGC,IAAI,IAAG;IACf,OAAM;MACFC,GAAG,EAACD,IAAI,CAACE,EAAE;MACXC,IAAI,EAAEH,IAAI,CAACG,IAAI;MACfC,OAAO,EAAEJ,IAAI,CAACI,OAAO;MACrBC,KAAK,EAAEL,IAAI,CAACK,KAAK;MACjBC,MAAM,EAAEN,IAAI,CAACM;IAEjB,CAAC;EACL;AACJ,CAAC","ignoreList":[]}},"mtime":1716156933777},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\middlewares\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\middlewares\\\\auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _token = _interopRequireDefault(require(\"../services/token\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  //next para avanzar con la ejecucion de la peticion\n  verifyCliente: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(404).send({\n        message: \"NO SE ENVIO EL TOKEN\"\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"client\" || response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(403).send({\n          message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\n        });\n      }\n    } else {\n      res.status(403).send({\n        message: \"EL TOKEN NO ES VALIDO\"\n      });\n    }\n  },\n  verifyAdmin: async (req, res, next) => {\n    if (!req.headers.token) {\n      res.status(404).send({\n        message: \"NO SE ENVIO EL TOKEN\"\n      });\n    }\n    const response = await _token.default.decode(req.headers.token);\n    if (response) {\n      if (response.rol == \"admin\") {\n        next();\n      } else {\n        res.status(403).send({\n          message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\n        });\n      }\n    } else {\n      res.status(403).send({\n        message: \"EL TOKEN NO ES VALIDO\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfdG9rZW4iLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwidmVyaWZ5Q2xpZW50ZSIsInJlcSIsInJlcyIsIm5leHQiLCJoZWFkZXJzIiwidG9rZW4iLCJzdGF0dXMiLCJzZW5kIiwibWVzc2FnZSIsInJlc3BvbnNlIiwiZGVjb2RlIiwicm9sIiwidmVyaWZ5QWRtaW4iXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbndvcmxcXEVzY3JpdG9yaW9cXFByb2dyYW1hY2nDs25cXEVjb21tZXJjZVNvbGl0ZWtcXGFwaV9lY29tbWVyY2VcXG1pZGRsZXdhcmVzXFwiLCJzb3VyY2VzIjpbImF1dGguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHRva2VuIGZyb20gXCIuLi9zZXJ2aWNlcy90b2tlblwiXHJcblxyXG5leHBvcnQgZGVmYXVsdHtcclxuXHJcblxyXG4gICAgLy9uZXh0IHBhcmEgYXZhbnphciBjb24gbGEgZWplY3VjaW9uIGRlIGxhIHBldGljaW9uXHJcbiAgICB2ZXJpZnlDbGllbnRlOmFzeW5jKHJlcSxyZXMsbmV4dCkgPT4ge1xyXG4gICAgICAgIGlmKCFyZXEuaGVhZGVycy50b2tlbil7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTk8gU0UgRU5WSU8gRUwgVE9LRU5cIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0b2tlbi5kZWNvZGUocmVxLmhlYWRlcnMudG9rZW4pO1xyXG4gICAgICAgIGlmKHJlc3BvbnNlKXtcclxuICAgICAgICAgICAgaWYocmVzcG9uc2Uucm9sID09IFwiY2xpZW50XCIgfHwgcmVzcG9uc2Uucm9sID09IFwiYWRtaW5cIil7XHJcbiAgICAgICAgICAgICAgICBuZXh0KCk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDMpLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTk8gRVNUQSBQRVJNSVRJRE8gVklTSVRBUiBFU1RBIFJVVEFcIlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAzKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgVE9LRU4gTk8gRVMgVkFMSURPXCJcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgIH0sXHJcbiAgICB2ZXJpZnlBZG1pbjphc3luYyhyZXEscmVzLG5leHQpID0+IHtcclxuICAgICAgICBpZighcmVxLmhlYWRlcnMudG9rZW4pe1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5PIFNFIEVOVklPIEVMIFRPS0VOXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdG9rZW4uZGVjb2RlKHJlcS5oZWFkZXJzLnRva2VuKTtcclxuICAgICAgICBpZihyZXNwb25zZSl7XHJcbiAgICAgICAgICAgIGlmKHJlc3BvbnNlLnJvbCA9PSBcImFkbWluXCIpe1xyXG4gICAgICAgICAgICAgICAgbmV4dCgpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAzKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5PIEVTVEEgUEVSTUlUSURPIFZJU0lUQVIgRVNUQSBSVVRBXCJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMykuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVMIFRPS0VOIE5PIEVTIFZBTElET1wiXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcblxyXG4gICAgfVxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxNQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBcUMsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUV2QjtFQUdWO0VBQ0FHLGFBQWEsRUFBQyxNQUFBQSxDQUFNQyxHQUFHLEVBQUNDLEdBQUcsRUFBQ0MsSUFBSSxLQUFLO0lBQ2pDLElBQUcsQ0FBQ0YsR0FBRyxDQUFDRyxPQUFPLENBQUNDLEtBQUssRUFBQztNQUNsQkgsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBQ047SUFDQSxNQUFNQyxRQUFRLEdBQUcsTUFBTUosY0FBSyxDQUFDSyxNQUFNLENBQUNULEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLENBQUM7SUFDdEQsSUFBR0ksUUFBUSxFQUFDO01BQ1IsSUFBR0EsUUFBUSxDQUFDRSxHQUFHLElBQUksUUFBUSxJQUFJRixRQUFRLENBQUNFLEdBQUcsSUFBSSxPQUFPLEVBQUM7UUFDbkRSLElBQUksQ0FBQyxDQUFDO01BQ1YsQ0FBQyxNQUFJO1FBQ0RELEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7VUFDakJDLE9BQU8sRUFBRTtRQUNiLENBQUMsQ0FBQztNQUNOO0lBRUosQ0FBQyxNQUFJO01BQ0ROLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztJQUVOO0VBSUosQ0FBQztFQUNESSxXQUFXLEVBQUMsTUFBQUEsQ0FBTVgsR0FBRyxFQUFDQyxHQUFHLEVBQUNDLElBQUksS0FBSztJQUMvQixJQUFHLENBQUNGLEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxLQUFLLEVBQUM7TUFDbEJILEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztJQUNOO0lBQ0EsTUFBTUMsUUFBUSxHQUFHLE1BQU1KLGNBQUssQ0FBQ0ssTUFBTSxDQUFDVCxHQUFHLENBQUNHLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDO0lBQ3RELElBQUdJLFFBQVEsRUFBQztNQUNSLElBQUdBLFFBQVEsQ0FBQ0UsR0FBRyxJQUFJLE9BQU8sRUFBQztRQUN2QlIsSUFBSSxDQUFDLENBQUM7TUFDVixDQUFDLE1BQUk7UUFDREQsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztVQUNqQkMsT0FBTyxFQUFFO1FBQ2IsQ0FBQyxDQUFDO01BQ047SUFFSixDQUFDLE1BQUk7TUFDRE4sR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFFO01BQ2IsQ0FBQyxDQUFDO0lBRU47RUFLSjtBQUNKLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_token","_interopRequireDefault","require","obj","__esModule","default","_default","exports","verifyCliente","req","res","next","headers","token","status","send","message","response","decode","rol","verifyAdmin"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\middlewares\\","sources":["auth.js"],"sourcesContent":["import token from \"../services/token\"\r\n\r\nexport default{\r\n\r\n\r\n    //next para avanzar con la ejecucion de la peticion\r\n    verifyCliente:async(req,res,next) => {\r\n        if(!req.headers.token){\r\n            res.status(404).send({\r\n                message: \"NO SE ENVIO EL TOKEN\"\r\n            });\r\n        }\r\n        const response = await token.decode(req.headers.token);\r\n        if(response){\r\n            if(response.rol == \"client\" || response.rol == \"admin\"){\r\n                next();\r\n            }else{\r\n                res.status(403).send({\r\n                    message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\r\n                });\r\n            }\r\n\r\n        }else{\r\n            res.status(403).send({\r\n                message: \"EL TOKEN NO ES VALIDO\"\r\n            });\r\n\r\n        }\r\n\r\n\r\n\r\n    },\r\n    verifyAdmin:async(req,res,next) => {\r\n        if(!req.headers.token){\r\n            res.status(404).send({\r\n                message: \"NO SE ENVIO EL TOKEN\"\r\n            });\r\n        }\r\n        const response = await token.decode(req.headers.token);\r\n        if(response){\r\n            if(response.rol == \"admin\"){\r\n                next();\r\n            }else{\r\n                res.status(403).send({\r\n                    message: \"NO ESTA PERMITIDO VISITAR ESTA RUTA\"\r\n                });\r\n            }\r\n\r\n        }else{\r\n            res.status(403).send({\r\n                message: \"EL TOKEN NO ES VALIDO\"\r\n            });\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n    }\r\n}"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAqC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEvB;EAGV;EACAG,aAAa,EAAC,MAAAA,CAAMC,GAAG,EAACC,GAAG,EAACC,IAAI,KAAK;IACjC,IAAG,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAC;MAClBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAGI,QAAQ,EAAC;MACR,IAAGA,QAAQ,CAACE,GAAG,IAAI,QAAQ,IAAIF,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAC;QACnDR,IAAI,CAAC,CAAC;MACV,CAAC,MAAI;QACDD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IAEJ,CAAC,MAAI;MACDN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IAEN;EAIJ,CAAC;EACDI,WAAW,EAAC,MAAAA,CAAMX,GAAG,EAACC,GAAG,EAACC,IAAI,KAAK;IAC/B,IAAG,CAACF,GAAG,CAACG,OAAO,CAACC,KAAK,EAAC;MAClBH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;IACA,MAAMC,QAAQ,GAAG,MAAMJ,cAAK,CAACK,MAAM,CAACT,GAAG,CAACG,OAAO,CAACC,KAAK,CAAC;IACtD,IAAGI,QAAQ,EAAC;MACR,IAAGA,QAAQ,CAACE,GAAG,IAAI,OAAO,EAAC;QACvBR,IAAI,CAAC,CAAC;MACV,CAAC,MAAI;QACDD,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,OAAO,EAAE;QACb,CAAC,CAAC;MACN;IAEJ,CAAC,MAAI;MACDN,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IAEN;EAKJ;AACJ,CAAC","ignoreList":[]}},"mtime":1716052965186},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\Categoria.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CategoriaController = _interopRequireDefault(require(\"../controllers/CategoriaController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/categoria'\n});\n//http://localhost:3000/api/users/register\n//http://localhost:3000/api/users/update\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _CategoriaController.default.register);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _CategoriaController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _CategoriaController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _CategoriaController.default.remove);\nrouter.get(\"/uploads/categoria/:img\", _CategoriaController.default.obtener_imagen);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DYXRlZ29yaWFDb250cm9sbGVyIiwiX2F1dGgiLCJfY29ubmVjdE11bHRpcGFydHkiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsInJvdXRlcngiLCJwYXRoIiwibXVsdHlwYXJ0eSIsInVwbG9hZERpciIsInBvc3QiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJjYXRlZ29yaWFjb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJnZXQiLCJsaXN0IiwiZGVsZXRlIiwicmVtb3ZlIiwib2J0ZW5lcl9pbWFnZW4iLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbndvcmxcXEVzY3JpdG9yaW9cXFByb2dyYW1hY2nDs25cXEVjb21tZXJjZVNvbGl0ZWtcXGFwaV9lY29tbWVyY2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJDYXRlZ29yaWEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSBcImV4cHJlc3MtcHJvbWlzZS1yb3V0ZXJcIlxyXG5pbXBvcnQgY2F0ZWdvcmlhY29udHJvbGxlciBmcm9tIFwiLi4vY29udHJvbGxlcnMvQ2F0ZWdvcmlhQ29udHJvbGxlclwiXHJcbmltcG9ydCBhdXRoIGZyb20gXCIuLi9taWRkbGV3YXJlcy9hdXRoXCI7XHJcblxyXG5pbXBvcnQgbXVsdHlwYXJ0eSBmcm9tICdjb25uZWN0LW11bHRpcGFydHknXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxudmFyIHBhdGggPSBtdWx0eXBhcnR5KHt1cGxvYWREaXI6Jy4vdXBsb2Fkcy9jYXRlZ29yaWEnfSk7XHJcbi8vaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2Vycy9yZWdpc3RlclxyXG4vL2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlcnMvdXBkYXRlXHJcblxyXG5cclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSxjYXRlZ29yaWFjb250cm9sbGVyLnJlZ2lzdGVyKTtcclxucm91dGVyLnB1dChcIi91cGRhdGVcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSxjYXRlZ29yaWFjb250cm9sbGVyLnVwZGF0ZSk7XHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4sY2F0ZWdvcmlhY29udHJvbGxlci5saXN0KTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIixhdXRoLnZlcmlmeUFkbWluLGNhdGVnb3JpYWNvbnRyb2xsZXIucmVtb3ZlKTtcclxuXHJcblxyXG5yb3V0ZXIuZ2V0KFwiL3VwbG9hZHMvY2F0ZWdvcmlhLzppbWdcIixjYXRlZ29yaWFjb250cm9sbGVyLm9idGVuZXJfaW1hZ2VuKTtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsb0JBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUVBLElBQUFHLGtCQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBMkMsU0FBQUQsdUJBQUFLLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFDM0MsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUN4QixJQUFJQyxJQUFJLEdBQUcsSUFBQUMsMEJBQVUsRUFBQztFQUFDQyxTQUFTLEVBQUM7QUFBcUIsQ0FBQyxDQUFDO0FBQ3hEO0FBQ0E7O0FBR0FKLE1BQU0sQ0FBQ0ssSUFBSSxDQUFDLFdBQVcsRUFBQyxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBQ0wsSUFBSSxDQUFDLEVBQUNNLDRCQUFtQixDQUFDQyxRQUFRLENBQUM7QUFDN0VULE1BQU0sQ0FBQ1UsR0FBRyxDQUFDLFNBQVMsRUFBQyxDQUFDSixhQUFJLENBQUNDLFdBQVcsRUFBQ0wsSUFBSSxDQUFDLEVBQUNNLDRCQUFtQixDQUFDRyxNQUFNLENBQUM7QUFDeEVYLE1BQU0sQ0FBQ1ksR0FBRyxDQUFDLE9BQU8sRUFBQ04sYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDRCQUFtQixDQUFDSyxJQUFJLENBQUM7QUFDN0RiLE1BQU0sQ0FBQ2MsTUFBTSxDQUFDLFNBQVMsRUFBQ1IsYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDRCQUFtQixDQUFDTyxNQUFNLENBQUM7QUFHcEVmLE1BQU0sQ0FBQ1ksR0FBRyxDQUFDLHlCQUF5QixFQUFDSiw0QkFBbUIsQ0FBQ1EsY0FBYyxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFuQixPQUFBLEdBRzFEQyxNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CategoriaController","_auth","_connectMultiparty","obj","__esModule","default","router","routerx","path","multyparty","uploadDir","post","auth","verifyAdmin","categoriacontroller","register","put","update","get","list","delete","remove","obtener_imagen","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\router\\","sources":["Categoria.js"],"sourcesContent":["import routerx from \"express-promise-router\"\r\nimport categoriacontroller from \"../controllers/CategoriaController\"\r\nimport auth from \"../middlewares/auth\";\r\n\r\nimport multyparty from 'connect-multiparty'\r\nconst router = routerx();\r\nvar path = multyparty({uploadDir:'./uploads/categoria'});\r\n//http://localhost:3000/api/users/register\r\n//http://localhost:3000/api/users/update\r\n\r\n\r\nrouter.post(\"/register\",[auth.verifyAdmin,path],categoriacontroller.register);\r\nrouter.put(\"/update\",[auth.verifyAdmin,path],categoriacontroller.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,categoriacontroller.list);\r\nrouter.delete(\"/delete\",auth.verifyAdmin,categoriacontroller.remove);\r\n\r\n\r\nrouter.get(\"/uploads/categoria/:img\",categoriacontroller.obtener_imagen);\r\n\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,oBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAEA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAA2C,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAC3C,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxB,IAAIC,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAC;AAAqB,CAAC,CAAC;AACxD;AACA;;AAGAJ,MAAM,CAACK,IAAI,CAAC,WAAW,EAAC,CAACC,aAAI,CAACC,WAAW,EAACL,IAAI,CAAC,EAACM,4BAAmB,CAACC,QAAQ,CAAC;AAC7ET,MAAM,CAACU,GAAG,CAAC,SAAS,EAAC,CAACJ,aAAI,CAACC,WAAW,EAACL,IAAI,CAAC,EAACM,4BAAmB,CAACG,MAAM,CAAC;AACxEX,MAAM,CAACY,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,4BAAmB,CAACK,IAAI,CAAC;AAC7Db,MAAM,CAACc,MAAM,CAAC,SAAS,EAACR,aAAI,CAACC,WAAW,EAACC,4BAAmB,CAACO,MAAM,CAAC;AAGpEf,MAAM,CAACY,GAAG,CAAC,yBAAyB,EAACJ,4BAAmB,CAACQ,cAAc,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAnB,OAAA,GAG1DC,MAAM","ignoreList":[]}},"mtime":1717647362326},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\CategoriaController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      if (req.files) {\n        var ima_path = req.files.portada.path;\n        var name = ima_path.split('\\\\');\n        var portada_name = name[2];\n        req.body.imagen = portada_name;\n      }\n      //name, user y password\n      console.log(req.body);\n      const categoria = await _models.default.Categoria.create(req.body); //await para esperar\n      res.status(200).json(categoria);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files && req.files.portada) {\n        var ima_path = req.files.portada.path; //verificar si es portada o imagen y ima a img_path\n        var name = ima_path.split('\\\\');\n        var portada_name = name[2];\n        req.body.imagen = portada_name;\n      }\n      console.log('id', req.body._id);\n      await _models.default.Categoria.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let CategoriaT = await _models.default.Categoria.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"LA CATEGORIA SE HA MODIFICADO CORRECTAMENTE\",\n        categoria: _resources.default.Categoria.categoria_list(CategoriaT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search; //antes era body por si error\n      let Categorias = await _models.default.Categoria.find({\n        $or: [{\n          \"title\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Categorias = Categorias.map(user => {\n        return _resources.default.Categoria.categoria_list(user);\n      });\n      res.status(200).json({\n        categorias: Categorias\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/categoria/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/categoria/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      const Categoria = await _models.default.Categoria.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"LA CATEGORIA SE HA ELIMINADO\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3VyY2VzIiwiX2ZzIiwiX3BhdGgiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiZmlsZXMiLCJpbWFfcGF0aCIsInBvcnRhZGEiLCJwYXRoIiwibmFtZSIsInNwbGl0IiwicG9ydGFkYV9uYW1lIiwiYm9keSIsImltYWdlbiIsImNvbnNvbGUiLCJsb2ciLCJjYXRlZ29yaWEiLCJtb2RlbHMiLCJDYXRlZ29yaWEiLCJjcmVhdGUiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJzZW5kIiwibWVzc2FnZSIsInVwZGF0ZSIsIl9pZCIsImZpbmRCeUlkQW5kVXBkYXRlIiwiQ2F0ZWdvcmlhVCIsImZpbmRPbmUiLCJyZXNvdXJjZSIsImNhdGVnb3JpYV9saXN0IiwibGlzdCIsInNlYXJjaCIsInF1ZXJ5IiwiQ2F0ZWdvcmlhcyIsImZpbmQiLCIkb3IiLCJSZWdFeHAiLCJzb3J0IiwibWFwIiwidXNlciIsImNhdGVnb3JpYXMiLCJvYnRlbmVyX2ltYWdlbiIsImltZyIsInBhcmFtcyIsImZzIiwic3RhdCIsImVyciIsInBhdGhfaW1nIiwic2VuZEZpbGUiLCJyZXNvbHZlIiwicmVtb3ZlIiwiZmluZEJ5SWRBbmREZWxldGUiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbndvcmxcXEVzY3JpdG9yaW9cXFByb2dyYW1hY2nDs25cXEVjb21tZXJjZVNvbGl0ZWtcXGFwaV9lY29tbWVyY2VcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIkNhdGVnb3JpYUNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCBtb2RlbHMgZnJvbSAnLi4vbW9kZWxzJ1xyXG5pbXBvcnQgcmVzb3VyY2UgIGZyb20gJy4uL3Jlc291cmNlcyc7XHJcbmltcG9ydCBmcyBmcm9tICdmcyc7XHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICBcclxuXHJcblxyXG5cclxuICAgIHJlZ2lzdGVyOiBhc3luYyhyZXEscmVzKT0+e1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmKHJlcS5maWxlcyl7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW1hX3BhdGggPSByZXEuZmlsZXMucG9ydGFkYS5wYXRoO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBpbWFfcGF0aC5zcGxpdCgnXFxcXCcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBvcnRhZGFfbmFtZSA9IG5hbWVbMl07XHJcbiAgICAgICAgICAgICAgICByZXEuYm9keS5pbWFnZW4gPSBwb3J0YWRhX25hbWU7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL25hbWUsIHVzZXIgeSBwYXNzd29yZFxyXG4gICAgICAgICAgIGNvbnNvbGUubG9nKHJlcS5ib2R5KTtcclxuICAgICAgICAgICAgY29uc3QgY2F0ZWdvcmlhID0gYXdhaXQgbW9kZWxzLkNhdGVnb3JpYS5jcmVhdGUocmVxLmJvZHkpOyAvL2F3YWl0IHBhcmEgZXNwZXJhclxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihjYXRlZ29yaWEpO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgIFxyXG5cclxuICAgIH0sXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICB1cGRhdGU6IGFzeW5jKHJlcSxyZXMpPT57XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYocmVxLmZpbGVzICYmIHJlcS5maWxlcy5wb3J0YWRhKXtcclxuICAgICAgICAgICAgICAgIHZhciBpbWFfcGF0aCA9IHJlcS5maWxlcy5wb3J0YWRhLnBhdGg7Ly92ZXJpZmljYXIgc2kgZXMgcG9ydGFkYSBvIGltYWdlbiB5IGltYSBhIGltZ19wYXRoXHJcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltYV9wYXRoLnNwbGl0KCdcXFxcJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcG9ydGFkYV9uYW1lID0gbmFtZVsyXTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgcmVxLmJvZHkuaW1hZ2VuID0gcG9ydGFkYV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2lkJyxyZXEuYm9keS5faWQpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICBcclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLkNhdGVnb3JpYS5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOnJlcS5ib2R5Ll9pZH0sIHJlcS5ib2R5KTtcclxuXHJcblxyXG4gICAgICAgICAgICBsZXQgQ2F0ZWdvcmlhVCA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWEuZmluZE9uZSh7X2lkOnJlcS5ib2R5Ll9pZH0pO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJMQSBDQVRFR09SSUEgU0UgSEEgTU9ESUZJQ0FETyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWE6IHJlc291cmNlLkNhdGVnb3JpYS5jYXRlZ29yaWFfbGlzdChDYXRlZ29yaWFUKSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9LFxyXG4gICAgbGlzdDogYXN5bmMocmVxLHJlcyk9PntcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIHNlYXJjaCA9IHJlcS5xdWVyeS5zZWFyY2g7Ly9hbnRlcyBlcmEgYm9keSBwb3Igc2kgZXJyb3JcclxuICAgICAgICAgICAgbGV0IENhdGVnb3JpYXMgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmlhLmZpbmQoe1xyXG4gICAgICAgICAgICAgICAgJG9yOltcclxuICAgICAgICAgICAgICAgICAgICB7XCJ0aXRsZVwiOm5ldyBSZWdFeHAoc2VhcmNoLFwiaVwiKX0sXHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH0pLnNvcnQoeydjcmVhdGVkQXQnOi0xfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBDYXRlZ29yaWFzID0gQ2F0ZWdvcmlhcy5tYXAoKHVzZXIpPT57XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb3VyY2UuQ2F0ZWdvcmlhLmNhdGVnb3JpYV9saXN0KHVzZXIpO1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgY2F0ZWdvcmlhczpDYXRlZ29yaWFzXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgb2J0ZW5lcl9pbWFnZW46YXN5bmMocmVxLHJlcyk9PntcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgaW1nID0gcmVxLnBhcmFtc1snaW1nJ107XHJcblxyXG5cclxuICAgICAgICAgICAgZnMuc3RhdCgnLi91cGxvYWRzL2NhdGVnb3JpYS8nK2ltZywgZnVuY3Rpb24oZXJyKXtcclxuICAgICAgICAgICAgICAgIGlmKCFlcnIpe1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvY2F0ZWdvcmlhLycraW1nO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kRmlsZShwYXRoLnJlc29sdmUocGF0aF9pbWcpKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvZGVmYXVsdC5qcGcnO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kRmlsZShwYXRoLnJlc29sdmUocGF0aF9pbWcpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICBcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICByZW1vdmU6IGFzeW5jKHJlcSxyZXMpPT57XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICBjb25zdCBDYXRlZ29yaWEgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmlhLmZpbmRCeUlkQW5kRGVsZXRlKHtcclxuICAgICAgICAgICAgX2lkOiByZXEucXVlcnkuX2lkXHJcbiAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICBtZXNzYWdlOiBcIkxBIENBVEVHT1JJQSBTRSBIQSBFTElNSU5BRE9cIixcclxuXHJcbiAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0EsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsVUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsR0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsS0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQXdCLFNBQUFELHVCQUFBSyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FDVDtFQUtYRyxRQUFRLEVBQUUsTUFBQUEsQ0FBTUMsR0FBRyxFQUFDQyxHQUFHLEtBQUc7SUFDdEIsSUFBSTtNQUNBLElBQUdELEdBQUcsQ0FBQ0UsS0FBSyxF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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resources","_fs","_path","obj","__esModule","default","_default","exports","register","req","res","files","ima_path","portada","path","name","split","portada_name","body","imagen","console","log","categoria","models","Categoria","create","status","json","error","send","message","update","_id","findByIdAndUpdate","CategoriaT","findOne","resource","categoria_list","list","search","query","Categorias","find","$or","RegExp","sort","map","user","categorias","obtener_imagen","img","params","fs","stat","err","path_img","sendFile","resolve","remove","findByIdAndDelete"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\controllers\\","sources":["CategoriaController.js"],"sourcesContent":["\r\nimport models from '../models'\r\nimport resource  from '../resources';\r\nimport fs from 'fs';\r\nimport path from 'path';\r\nexport default {\r\n    \r\n\r\n\r\n\r\n    register: async(req,res)=>{\r\n        try {\r\n            if(req.files){\r\n                var ima_path = req.files.portada.path;\r\n                var name = ima_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                req.body.imagen = portada_name;\r\n                \r\n            }\r\n            //name, user y password\r\n           console.log(req.body);\r\n            const categoria = await models.Categoria.create(req.body); //await para esperar\r\n            res.status(200).json(categoria);\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n                \r\n            });\r\n            console.log(error);\r\n        }\r\n\r\n       \r\n\r\n    },\r\n    \r\n    \r\n    \r\n    update: async(req,res)=>{\r\n        try {\r\n            if(req.files && req.files.portada){\r\n                var ima_path = req.files.portada.path;//verificar si es portada o imagen y ima a img_path\r\n                var name = ima_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                \r\n                req.body.imagen = portada_name;\r\n                \r\n            }\r\n            console.log('id',req.body._id);\r\n            \r\n           \r\n            await models.Categoria.findByIdAndUpdate({_id:req.body._id}, req.body);\r\n\r\n\r\n            let CategoriaT = await models.Categoria.findOne({_id:req.body._id});\r\n\r\n            res.status(200).json({\r\n                message: \"LA CATEGORIA SE HA MODIFICADO CORRECTAMENTE\",\r\n                categoria: resource.Categoria.categoria_list(CategoriaT),\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n                \r\n            });\r\n            console.log(error);\r\n        }\r\n\r\n    },\r\n    list: async(req,res)=>{\r\n\r\n        try {\r\n            var search = req.query.search;//antes era body por si error\r\n            let Categorias = await models.Categoria.find({\r\n                $or:[\r\n                    {\"title\":new RegExp(search,\"i\")},\r\n                ]\r\n            }).sort({'createdAt':-1});\r\n            \r\n            Categorias = Categorias.map((user)=>{\r\n                return resource.Categoria.categoria_list(user);\r\n            })\r\n\r\n            res.status(200).json({\r\n                categorias:Categorias\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n                \r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    obtener_imagen:async(req,res)=>{\r\n        try {\r\n            var img = req.params['img'];\r\n\r\n\r\n            fs.stat('./uploads/categoria/'+img, function(err){\r\n                if(!err){\r\n                    let path_img = './uploads/categoria/'+img;\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }else{\r\n                    let path_img = './uploads/default.jpg';\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }\r\n            })\r\n        \r\n        } catch (error) {\r\n            \r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n                \r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    remove: async(req,res)=>{\r\n        try {\r\n           const Categoria = await models.Categoria.findByIdAndDelete({\r\n            _id: req.query._id\r\n           });\r\n           res.status(200).json({\r\n            message: \"LA CATEGORIA SE HA ELIMINADO\",\r\n\r\n           });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n                \r\n            });\r\n            console.log(error);\r\n        }\r\n    }\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1717647199931},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\Categoria.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CategoriaController = _interopRequireDefault(require(\"../controllers/CategoriaController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/categoria'\n});\n//http://localhost:3000/api/users/register\n//http://localhost:3000/api/users/update\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _CategoriaController.default.register);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _CategoriaController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _CategoriaController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _CategoriaController.default.remove);\nrouter.get(\"/uploads/categoria/:img\", _CategoriaController.default.obtener_imagen);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DYXRlZ29yaWFDb250cm9sbGVyIiwiX2F1dGgiLCJfY29ubmVjdE11bHRpcGFydHkiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsInJvdXRlcngiLCJwYXRoIiwibXVsdHlwYXJ0eSIsInVwbG9hZERpciIsInBvc3QiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJjYXRlZ29yaWFjb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJnZXQiLCJsaXN0IiwiZGVsZXRlIiwicmVtb3ZlIiwib2J0ZW5lcl9pbWFnZW4iLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbndvcmxcXEVzY3JpdG9yaW9cXFByb2dyYW1hY2nDs25cXEVjb21tZXJjZVNvbGl0ZWtcXGFwaV9lY29tbWVyY2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJDYXRlZ29yaWEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSBcImV4cHJlc3MtcHJvbWlzZS1yb3V0ZXJcIlxyXG5pbXBvcnQgY2F0ZWdvcmlhY29udHJvbGxlciBmcm9tIFwiLi4vY29udHJvbGxlcnMvQ2F0ZWdvcmlhQ29udHJvbGxlclwiXHJcbmltcG9ydCBhdXRoIGZyb20gXCIuLi9taWRkbGV3YXJlcy9hdXRoXCI7XHJcblxyXG5pbXBvcnQgbXVsdHlwYXJ0eSBmcm9tICdjb25uZWN0LW11bHRpcGFydHknXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxudmFyIHBhdGggPSBtdWx0eXBhcnR5KHt1cGxvYWREaXI6Jy4vdXBsb2Fkcy9jYXRlZ29yaWEnfSk7XHJcbi8vaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2Vycy9yZWdpc3RlclxyXG4vL2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlcnMvdXBkYXRlXHJcblxyXG5cclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSxjYXRlZ29yaWFjb250cm9sbGVyLnJlZ2lzdGVyKTtcclxucm91dGVyLnB1dChcIi91cGRhdGVcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSxjYXRlZ29yaWFjb250cm9sbGVyLnVwZGF0ZSk7XHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4sY2F0ZWdvcmlhY29udHJvbGxlci5saXN0KTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIixhdXRoLnZlcmlmeUFkbWluLGNhdGVnb3JpYWNvbnRyb2xsZXIucmVtb3ZlKTtcclxuXHJcblxyXG5yb3V0ZXIuZ2V0KFwiL3VwbG9hZHMvY2F0ZWdvcmlhLzppbWdcIixjYXRlZ29yaWFjb250cm9sbGVyLm9idGVuZXJfaW1hZ2VuKTtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsb0JBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUVBLElBQUFHLGtCQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBMkMsU0FBQUQsdUJBQUFLLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFDM0MsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUN4QixJQUFJQyxJQUFJLEdBQUcsSUFBQUMsMEJBQVUsRUFBQztFQUFDQyxTQUFTLEVBQUM7QUFBcUIsQ0FBQyxDQUFDO0FBQ3hEO0FBQ0E7O0FBR0FKLE1BQU0sQ0FBQ0ssSUFBSSxDQUFDLFdBQVcsRUFBQyxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBQ0wsSUFBSSxDQUFDLEVBQUNNLDRCQUFtQixDQUFDQyxRQUFRLENBQUM7QUFDN0VULE1BQU0sQ0FBQ1UsR0FBRyxDQUFDLFNBQVMsRUFBQyxDQUFDSixhQUFJLENBQUNDLFdBQVcsRUFBQ0wsSUFBSSxDQUFDLEVBQUNNLDRCQUFtQixDQUFDRyxNQUFNLENBQUM7QUFDeEVYLE1BQU0sQ0FBQ1ksR0FBRyxDQUFDLE9BQU8sRUFBQ04sYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDRCQUFtQixDQUFDSyxJQUFJLENBQUM7QUFDN0RiLE1BQU0sQ0FBQ2MsTUFBTSxDQUFDLFNBQVMsRUFBQ1IsYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDRCQUFtQixDQUFDTyxNQUFNLENBQUM7QUFHcEVmLE1BQU0sQ0FBQ1ksR0FBRyxDQUFDLHlCQUF5QixFQUFDSiw0QkFBbUIsQ0FBQ1EsY0FBYyxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFuQixPQUFBLEdBRzFEQyxNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CategoriaController","_auth","_connectMultiparty","obj","__esModule","default","router","routerx","path","multyparty","uploadDir","post","auth","verifyAdmin","categoriacontroller","register","put","update","get","list","delete","remove","obtener_imagen","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\router\\","sources":["Categoria.js"],"sourcesContent":["import routerx from \"express-promise-router\"\r\nimport categoriacontroller from \"../controllers/CategoriaController\"\r\nimport auth from \"../middlewares/auth\";\r\n\r\nimport multyparty from 'connect-multiparty'\r\nconst router = routerx();\r\nvar path = multyparty({uploadDir:'./uploads/categoria'});\r\n//http://localhost:3000/api/users/register\r\n//http://localhost:3000/api/users/update\r\n\r\n\r\nrouter.post(\"/register\",[auth.verifyAdmin,path],categoriacontroller.register);\r\nrouter.put(\"/update\",[auth.verifyAdmin,path],categoriacontroller.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,categoriacontroller.list);\r\nrouter.delete(\"/delete\",auth.verifyAdmin,categoriacontroller.remove);\r\n\r\n\r\nrouter.get(\"/uploads/categoria/:img\",categoriacontroller.obtener_imagen);\r\n\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,oBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAEA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAA2C,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAC3C,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxB,IAAIC,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAC;AAAqB,CAAC,CAAC;AACxD;AACA;;AAGAJ,MAAM,CAACK,IAAI,CAAC,WAAW,EAAC,CAACC,aAAI,CAACC,WAAW,EAACL,IAAI,CAAC,EAACM,4BAAmB,CAACC,QAAQ,CAAC;AAC7ET,MAAM,CAACU,GAAG,CAAC,SAAS,EAAC,CAACJ,aAAI,CAACC,WAAW,EAACL,IAAI,CAAC,EAACM,4BAAmB,CAACG,MAAM,CAAC;AACxEX,MAAM,CAACY,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,4BAAmB,CAACK,IAAI,CAAC;AAC7Db,MAAM,CAACc,MAAM,CAAC,SAAS,EAACR,aAAI,CAACC,WAAW,EAACC,4BAAmB,CAACO,MAAM,CAAC;AAGpEf,MAAM,CAACY,GAAG,CAAC,yBAAyB,EAACJ,4BAAmB,CAACQ,cAAc,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAnB,OAAA,GAG1DC,MAAM","ignoreList":[]}},"mtime":1717647362326},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\CategoriaController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      if (req.files) {\n        var ima_path = req.files.portada.path;\n        var name = ima_path.split('\\\\');\n        var portada_name = name[2];\n        req.body.imagen = portada_name;\n      }\n      //name, user y password\n      console.log(req.body);\n      const categoria = await _models.default.Categoria.create(req.body); //await para esperar\n      res.status(200).json(categoria);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files && req.files.portada) {\n        var ima_path = req.files.portada.path; //verificar si es portada o imagen y ima a img_path\n        var name = ima_path.split('\\\\');\n        var portada_name = name[2];\n        req.body.imagen = portada_name;\n      }\n      console.log('id', req.body._id);\n      await _models.default.Categoria.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let CategoriaT = await _models.default.Categoria.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"LA CATEGORIA SE HA MODIFICADO CORRECTAMENTE\",\n        categoria: _resources.default.Categoria.categoria_list(CategoriaT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search; //antes era body por si error\n      let Categorias = await _models.default.Categoria.find({\n        $or: [{\n          \"title\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Categorias = Categorias.map(user => {\n        return _resources.default.Categoria.categoria_list(user);\n      });\n      res.status(200).json({\n        categorias: Categorias\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/categoria/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/categoria/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      const Categoria = await _models.default.Categoria.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"LA CATEGORIA SE HA ELIMINADO\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3VyY2VzIiwiX2ZzIiwiX3BhdGgiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiZmlsZXMiLCJpbWFfcGF0aCIsInBvcnRhZGEiLCJwYXRoIiwibmFtZSIsInNwbGl0IiwicG9ydGFkYV9uYW1lIiwiYm9keSIsImltYWdlbiIsImNvbnNvbGUiLCJsb2ciLCJjYXRlZ29yaWEiLCJtb2RlbHMiLCJDYXRlZ29yaWEiLCJjcmVhdGUiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJzZW5kIiwibWVzc2FnZSIsInVwZGF0ZSIsIl9pZCIsImZpbmRCeUlkQW5kVXBkYXRlIiwiQ2F0ZWdvcmlhVCIsImZpbmRPbmUiLCJyZXNvdXJjZSIsImNhdGVnb3JpYV9saXN0IiwibGlzdCIsInNlYXJjaCIsInF1ZXJ5IiwiQ2F0ZWdvcmlhcyIsImZpbmQiLCIkb3IiLCJSZWdFeHAiLCJzb3J0IiwibWFwIiwidXNlciIsImNhdGVnb3JpYXMiLCJvYnRlbmVyX2ltYWdlbiIsImltZyIsInBhcmFtcyIsImZzIiwic3RhdCIsImVyciIsInBhdGhfaW1nIiwic2VuZEZpbGUiLCJyZXNvbHZlIiwicmVtb3ZlIiwiZmluZEJ5SWRBbmREZWxldGUiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbndvcmxcXEVzY3JpdG9yaW9cXFByb2dyYW1hY2nDs25cXEVjb21tZXJjZVNvbGl0ZWtcXGFwaV9lY29tbWVyY2VcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIkNhdGVnb3JpYUNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbmltcG9ydCBtb2RlbHMgZnJvbSAnLi4vbW9kZWxzJ1xyXG5pbXBvcnQgcmVzb3VyY2UgIGZyb20gJy4uL3Jlc291cmNlcyc7XHJcbmltcG9ydCBmcyBmcm9tICdmcyc7XHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICBcclxuXHJcblxyXG5cclxuICAgIHJlZ2lzdGVyOiBhc3luYyhyZXEscmVzKT0+e1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmKHJlcS5maWxlcyl7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW1hX3BhdGggPSByZXEuZmlsZXMucG9ydGFkYS5wYXRoO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBpbWFfcGF0aC5zcGxpdCgnXFxcXCcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBvcnRhZGFfbmFtZSA9IG5hbWVbMl07XHJcbiAgICAgICAgICAgICAgICByZXEuYm9keS5pbWFnZW4gPSBwb3J0YWRhX25hbWU7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL25hbWUsIHVzZXIgeSBwYXNzd29yZFxyXG4gICAgICAgICAgIGNvbnNvbGUubG9nKHJlcS5ib2R5KTtcclxuICAgICAgICAgICAgY29uc3QgY2F0ZWdvcmlhID0gYXdhaXQgbW9kZWxzLkNhdGVnb3JpYS5jcmVhdGUocmVxLmJvZHkpOyAvL2F3YWl0IHBhcmEgZXNwZXJhclxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihjYXRlZ29yaWEpO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgIFxyXG5cclxuICAgIH0sXHJcbiAgICBcclxuICAgIFxyXG4gICAgXHJcbiAgICB1cGRhdGU6IGFzeW5jKHJlcSxyZXMpPT57XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYocmVxLmZpbGVzICYmIHJlcS5maWxlcy5wb3J0YWRhKXtcclxuICAgICAgICAgICAgICAgIHZhciBpbWFfcGF0aCA9IHJlcS5maWxlcy5wb3J0YWRhLnBhdGg7Ly92ZXJpZmljYXIgc2kgZXMgcG9ydGFkYSBvIGltYWdlbiB5IGltYSBhIGltZ19wYXRoXHJcbiAgICAgICAgICAgICAgICB2YXIgbmFtZSA9IGltYV9wYXRoLnNwbGl0KCdcXFxcJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcG9ydGFkYV9uYW1lID0gbmFtZVsyXTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgcmVxLmJvZHkuaW1hZ2VuID0gcG9ydGFkYV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2lkJyxyZXEuYm9keS5faWQpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICBcclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLkNhdGVnb3JpYS5maW5kQnlJZEFuZFVwZGF0ZSh7X2lkOnJlcS5ib2R5Ll9pZH0sIHJlcS5ib2R5KTtcclxuXHJcblxyXG4gICAgICAgICAgICBsZXQgQ2F0ZWdvcmlhVCA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWEuZmluZE9uZSh7X2lkOnJlcS5ib2R5Ll9pZH0pO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJMQSBDQVRFR09SSUEgU0UgSEEgTU9ESUZJQ0FETyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWE6IHJlc291cmNlLkNhdGVnb3JpYS5jYXRlZ29yaWFfbGlzdChDYXRlZ29yaWFUKSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9LFxyXG4gICAgbGlzdDogYXN5bmMocmVxLHJlcyk9PntcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIHNlYXJjaCA9IHJlcS5xdWVyeS5zZWFyY2g7Ly9hbnRlcyBlcmEgYm9keSBwb3Igc2kgZXJyb3JcclxuICAgICAgICAgICAgbGV0IENhdGVnb3JpYXMgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmlhLmZpbmQoe1xyXG4gICAgICAgICAgICAgICAgJG9yOltcclxuICAgICAgICAgICAgICAgICAgICB7XCJ0aXRsZVwiOm5ldyBSZWdFeHAoc2VhcmNoLFwiaVwiKX0sXHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH0pLnNvcnQoeydjcmVhdGVkQXQnOi0xfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBDYXRlZ29yaWFzID0gQ2F0ZWdvcmlhcy5tYXAoKHVzZXIpPT57XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb3VyY2UuQ2F0ZWdvcmlhLmNhdGVnb3JpYV9saXN0KHVzZXIpO1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgY2F0ZWdvcmlhczpDYXRlZ29yaWFzXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgb2J0ZW5lcl9pbWFnZW46YXN5bmMocmVxLHJlcyk9PntcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgaW1nID0gcmVxLnBhcmFtc1snaW1nJ107XHJcblxyXG5cclxuICAgICAgICAgICAgZnMuc3RhdCgnLi91cGxvYWRzL2NhdGVnb3JpYS8nK2ltZywgZnVuY3Rpb24oZXJyKXtcclxuICAgICAgICAgICAgICAgIGlmKCFlcnIpe1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvY2F0ZWdvcmlhLycraW1nO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kRmlsZShwYXRoLnJlc29sdmUocGF0aF9pbWcpKTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvZGVmYXVsdC5qcGcnO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5zZW5kRmlsZShwYXRoLnJlc29sdmUocGF0aF9pbWcpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICBcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICByZW1vdmU6IGFzeW5jKHJlcSxyZXMpPT57XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICBjb25zdCBDYXRlZ29yaWEgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmlhLmZpbmRCeUlkQW5kRGVsZXRlKHtcclxuICAgICAgICAgICAgX2lkOiByZXEucXVlcnkuX2lkXHJcbiAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICBtZXNzYWdlOiBcIkxBIENBVEVHT1JJQSBTRSBIQSBFTElNSU5BRE9cIixcclxuXHJcbiAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ0EsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsVUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsR0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsS0FBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQXdCLFNBQUFELHVCQUFBSyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FDVDtFQUtYRyxRQUFRLEVBQUUsTUFBQUEsQ0FBTUMsR0FBRyxFQUFDQyxHQUFHLEtBQUc7SUFDdEIsSUFBSTtNQUNBLElBQUdELEdBQUcsQ0FBQ0UsS0FBSyxF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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resources","_fs","_path","obj","__esModule","default","_default","exports","register","req","res","files","ima_path","portada","path","name","split","portada_name","body","imagen","console","log","categoria","models","Categoria","create","status","json","error","send","message","update","_id","findByIdAndUpdate","CategoriaT","findOne","resource","categoria_list","list","search","query","Categorias","find","$or","RegExp","sort","map","user","categorias","obtener_imagen","img","params","fs","stat","err","path_img","sendFile","resolve","remove","findByIdAndDelete"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\controllers\\","sources":["CategoriaController.js"],"sourcesContent":["\r\nimport models from '../models'\r\nimport resource  from '../resources';\r\nimport fs from 'fs';\r\nimport path from 'path';\r\nexport default {\r\n    \r\n\r\n\r\n\r\n    register: async(req,res)=>{\r\n        try {\r\n            if(req.files){\r\n                var ima_path = req.files.portada.path;\r\n                var name = ima_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                req.body.imagen = portada_name;\r\n                \r\n            }\r\n            //name, user y password\r\n           console.log(req.body);\r\n            const categoria = await models.Categoria.create(req.body); //await para esperar\r\n            res.status(200).json(categoria);\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n                \r\n            });\r\n            console.log(error);\r\n        }\r\n\r\n       \r\n\r\n    },\r\n    \r\n    \r\n    \r\n    update: async(req,res)=>{\r\n        try {\r\n            if(req.files && req.files.portada){\r\n                var ima_path = req.files.portada.path;//verificar si es portada o imagen y ima a img_path\r\n                var name = ima_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                \r\n                req.body.imagen = portada_name;\r\n                \r\n            }\r\n            console.log('id',req.body._id);\r\n            \r\n           \r\n            await models.Categoria.findByIdAndUpdate({_id:req.body._id}, req.body);\r\n\r\n\r\n            let CategoriaT = await models.Categoria.findOne({_id:req.body._id});\r\n\r\n            res.status(200).json({\r\n                message: \"LA CATEGORIA SE HA MODIFICADO CORRECTAMENTE\",\r\n                categoria: resource.Categoria.categoria_list(CategoriaT),\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n                \r\n            });\r\n            console.log(error);\r\n        }\r\n\r\n    },\r\n    list: async(req,res)=>{\r\n\r\n        try {\r\n            var search = req.query.search;//antes era body por si error\r\n            let Categorias = await models.Categoria.find({\r\n                $or:[\r\n                    {\"title\":new RegExp(search,\"i\")},\r\n                ]\r\n            }).sort({'createdAt':-1});\r\n            \r\n            Categorias = Categorias.map((user)=>{\r\n                return resource.Categoria.categoria_list(user);\r\n            })\r\n\r\n            res.status(200).json({\r\n                categorias:Categorias\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n                \r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    obtener_imagen:async(req,res)=>{\r\n        try {\r\n            var img = req.params['img'];\r\n\r\n\r\n            fs.stat('./uploads/categoria/'+img, function(err){\r\n                if(!err){\r\n                    let path_img = './uploads/categoria/'+img;\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }else{\r\n                    let path_img = './uploads/default.jpg';\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }\r\n            })\r\n        \r\n        } catch (error) {\r\n            \r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n                \r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    remove: async(req,res)=>{\r\n        try {\r\n           const Categoria = await models.Categoria.findByIdAndDelete({\r\n            _id: req.query._id\r\n           });\r\n           res.status(200).json({\r\n            message: \"LA CATEGORIA SE HA ELIMINADO\",\r\n\r\n           });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n                \r\n            });\r\n            console.log(error);\r\n        }\r\n    }\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1717647199931},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\resources\\\\Categoria.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  categoria_list: categoria => {\n    return {\n      _id: categoria._id,\n      // Accede al _id en lugar de id\n      title: categoria.title,\n      imagen: categoria.imagen,\n      imagen_home: 'http://localhost:3000' + '/api/categorias/uploads/categoria/' + categoria.imagen,\n      state: categoria.state\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXRlZ29yaWFfbGlzdCIsImNhdGVnb3JpYSIsIl9pZCIsInRpdGxlIiwiaW1hZ2VuIiwiaW1hZ2VuX2hvbWUiLCJzdGF0ZSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxud29ybFxcRXNjcml0b3Jpb1xcUHJvZ3JhbWFjacOzblxcRWNvbW1lcmNlU29saXRla1xcYXBpX2Vjb21tZXJjZVxccmVzb3VyY2VzXFwiLCJzb3VyY2VzIjpbIkNhdGVnb3JpYS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XHJcbiAgICBjYXRlZ29yaWFfbGlzdDogKGNhdGVnb3JpYSkgPT4ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIF9pZDogY2F0ZWdvcmlhLl9pZCwgLy8gQWNjZWRlIGFsIF9pZCBlbiBsdWdhciBkZSBpZFxyXG4gICAgICAgICAgICB0aXRsZTogY2F0ZWdvcmlhLnRpdGxlLFxyXG4gICAgICAgICAgICBpbWFnZW46IGNhdGVnb3JpYS5pbWFnZW4sXHJcbiAgICAgICAgICAgIGltYWdlbl9ob21lOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwJysnL2FwaS9jYXRlZ29yaWFzL3VwbG9hZHMvY2F0ZWdvcmlhLycrY2F0ZWdvcmlhLmltYWdlbixcclxuICAgICAgICAgICAgc3RhdGU6IGNhdGVnb3JpYS5zdGF0ZSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2lDQUFlO0VBQ1hBLGNBQWMsRUFBR0MsU0FBUyxJQUFLO0lBQzNCLE9BQU87TUFDSEMsR0FBRyxFQUFFRCxTQUFTLENBQUNDLEdBQUc7TUFBRTtNQUNwQkMsS0FBSyxFQUFFRixTQUFTLENBQUNFLEtBQUs7TUFDdEJDLE1BQU0sRUFBRUgsU0FBUyxDQUFDRyxNQUFNO01BQ3hCQyxXQUFXLEVBQUUsdUJBQXVCLEdBQUMsb0NBQW9DLEdBQUNKLFNBQVMsQ0FBQ0csTUFBTTtNQUMxRkUsS0FBSyxFQUFFTCxTQUFTLENBQUNLO0lBQ3JCLENBQUM7RUFDTDtBQUNKLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["categoria_list","categoria","_id","title","imagen","imagen_home","state"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\resources\\","sources":["Categoria.js"],"sourcesContent":["export default {\r\n    categoria_list: (categoria) => {\r\n        return {\r\n            _id: categoria._id, // Accede al _id en lugar de id\r\n            title: categoria.title,\r\n            imagen: categoria.imagen,\r\n            imagen_home: 'http://localhost:3000'+'/api/categorias/uploads/categoria/'+categoria.imagen,\r\n            state: categoria.state,\r\n        };\r\n    }\r\n}\r\n"],"mappings":";;;;;;iCAAe;EACXA,cAAc,EAAGC,SAAS,IAAK;IAC3B,OAAO;MACHC,GAAG,EAAED,SAAS,CAACC,GAAG;MAAE;MACpBC,KAAK,EAAEF,SAAS,CAACE,KAAK;MACtBC,MAAM,EAAEH,SAAS,CAACG,MAAM;MACxBC,WAAW,EAAE,uBAAuB,GAAC,oCAAoC,GAACJ,SAAS,CAACG,MAAM;MAC1FE,KAAK,EAAEL,SAAS,CAACK;IACrB,CAAC;EACL;AACJ,CAAC","ignoreList":[]}},"mtime":1717818659660},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\resources\\\\Categoria.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  categoria_list: categoria => {\n    return {\n      _id: categoria._id,\n      // Accede al _id en lugar de id\n      title: categoria.title,\n      imagen: categoria.imagen,\n      imagen_home: 'http://localhost:3000' + '/api/categorias/uploads/categoria/' + categoria.imagen,\n      state: categoria.state\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXRlZ29yaWFfbGlzdCIsImNhdGVnb3JpYSIsIl9pZCIsInRpdGxlIiwiaW1hZ2VuIiwiaW1hZ2VuX2hvbWUiLCJzdGF0ZSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxud29ybFxcRXNjcml0b3Jpb1xcUHJvZ3JhbWFjacOzblxcRWNvbW1lcmNlU29saXRla1xcYXBpX2Vjb21tZXJjZVxccmVzb3VyY2VzXFwiLCJzb3VyY2VzIjpbIkNhdGVnb3JpYS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XHJcbiAgICBjYXRlZ29yaWFfbGlzdDogKGNhdGVnb3JpYSkgPT4ge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIF9pZDogY2F0ZWdvcmlhLl9pZCwgLy8gQWNjZWRlIGFsIF9pZCBlbiBsdWdhciBkZSBpZFxyXG4gICAgICAgICAgICB0aXRsZTogY2F0ZWdvcmlhLnRpdGxlLFxyXG4gICAgICAgICAgICBpbWFnZW46IGNhdGVnb3JpYS5pbWFnZW4sXHJcbiAgICAgICAgICAgIGltYWdlbl9ob21lOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwJysnL2FwaS9jYXRlZ29yaWFzL3VwbG9hZHMvY2F0ZWdvcmlhLycrY2F0ZWdvcmlhLmltYWdlbixcclxuICAgICAgICAgICAgc3RhdGU6IGNhdGVnb3JpYS5zdGF0ZSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2lDQUFlO0VBQ1hBLGNBQWMsRUFBR0MsU0FBUyxJQUFLO0lBQzNCLE9BQU87TUFDSEMsR0FBRyxFQUFFRCxTQUFTLENBQUNDLEdBQUc7TUFBRTtNQUNwQkMsS0FBSyxFQUFFRixTQUFTLENBQUNFLEtBQUs7TUFDdEJDLE1BQU0sRUFBRUgsU0FBUyxDQUFDRyxNQUFNO01BQ3hCQyxXQUFXLEVBQUUsdUJBQXVCLEdBQUMsb0NBQW9DLEdBQUNKLFNBQVMsQ0FBQ0csTUFBTTtNQUMxRkUsS0FBSyxFQUFFTCxTQUFTLENBQUNLO0lBQ3JCLENBQUM7RUFDTDtBQUNKLENBQUMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["categoria_list","categoria","_id","title","imagen","imagen_home","state"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\resources\\","sources":["Categoria.js"],"sourcesContent":["export default {\r\n    categoria_list: (categoria) => {\r\n        return {\r\n            _id: categoria._id, // Accede al _id en lugar de id\r\n            title: categoria.title,\r\n            imagen: categoria.imagen,\r\n            imagen_home: 'http://localhost:3000'+'/api/categorias/uploads/categoria/'+categoria.imagen,\r\n            state: categoria.state,\r\n        };\r\n    }\r\n}\r\n"],"mappings":";;;;;;iCAAe;EACXA,cAAc,EAAGC,SAAS,IAAK;IAC3B,OAAO;MACHC,GAAG,EAAED,SAAS,CAACC,GAAG;MAAE;MACpBC,KAAK,EAAEF,SAAS,CAACE,KAAK;MACtBC,MAAM,EAAEH,SAAS,CAACG,MAAM;MACxBC,WAAW,EAAE,uBAAuB,GAAC,oCAAoC,GAACJ,SAAS,CAACG,MAAM;MAC1FE,KAAK,EAAEL,SAAS,CAACK;IACrB,CAAC;EACL;AACJ,CAAC","ignoreList":[]}},"mtime":1717818659660},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\Categorie.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CategoriaController = _interopRequireDefault(require(\"../controllers/CategoriaController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/categoria'\n});\nconst router = (0, _expressPromiseRouter.default)();\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _CategoriaController.default.register);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _CategoriaController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _CategoriaController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _CategoriaController.default.remove);\nrouter.get(\"/uploads/categoria/:img\", _CategoriaController.default.obtener_imagen);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DYXRlZ29yaWFDb250cm9sbGVyIiwiX2F1dGgiLCJfY29ubmVjdE11bHRpcGFydHkiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInBhdGgiLCJtdWx0aXBhcnR5IiwidXBsb2FkRGlyIiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJjYXRlZ29yaWFjb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJnZXQiLCJsaXN0IiwiZGVsZXRlIiwicmVtb3ZlIiwib2J0ZW5lcl9pbWFnZW4iLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbndvcmxcXEVzY3JpdG9yaW9cXFByb2dyYW1hY2nDs25cXEVjb21tZXJjZVNvbGl0ZWtcXGFwaV9lY29tbWVyY2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJDYXRlZ29yaWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcclxuaW1wb3J0IGNhdGVnb3JpYWNvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvQ2F0ZWdvcmlhQ29udHJvbGxlcidcclxuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCdcclxuXHJcbmltcG9ydCBtdWx0aXBhcnR5IGZyb20gJ2Nvbm5lY3QtbXVsdGlwYXJ0eSdcclxudmFyIHBhdGggPSBtdWx0aXBhcnR5KHt1cGxvYWREaXI6ICcuL3VwbG9hZHMvY2F0ZWdvcmlhJ30pXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxuLy8gaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2Vycy9yZWdpc3RlclxyXG5cclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSxjYXRlZ29yaWFjb250cm9sbGVyLnJlZ2lzdGVyKTtcclxucm91dGVyLnB1dChcIi91cGRhdGVcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSxjYXRlZ29yaWFjb250cm9sbGVyLnVwZGF0ZSk7XHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4sY2F0ZWdvcmlhY29udHJvbGxlci5saXN0KTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIixhdXRoLnZlcmlmeUFkbWluLGNhdGVnb3JpYWNvbnRyb2xsZXIucmVtb3ZlKTtcclxuXHJcbnJvdXRlci5nZXQoXCIvdXBsb2Fkcy9jYXRlZ29yaWEvOmltZ1wiLGNhdGVnb3JpYWNvbnRyb2xsZXIub2J0ZW5lcl9pbWFnZW4pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLG9CQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFBRyxrQkFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQTJDLFNBQUFELHVCQUFBSyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQzNDLElBQUlHLElBQUksR0FBRyxJQUFBQywwQkFBVSxFQUFDO0VBQUNDLFNBQVMsRUFBRTtBQUFxQixDQUFDLENBQUM7QUFDekQsTUFBTUMsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUN4Qjs7QUFFQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFDLENBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFDUCxJQUFJLENBQUMsRUFBQ1EsNEJBQW1CLENBQUNDLFFBQVEsQ0FBQztBQUM3RU4sTUFBTSxDQUFDTyxHQUFHLENBQUMsU0FBUyxFQUFDLENBQUNKLGFBQUksQ0FBQ0MsV0FBVyxFQUFDUCxJQUFJLENBQUMsRUFBQ1EsNEJBQW1CLENBQUNHLE1BQU0sQ0FBQztBQUN4RVIsTUFBTSxDQUFDUyxHQUFHLENBQUMsT0FBTyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsNEJBQW1CLENBQUNLLElBQUksQ0FBQztBQUM3RFYsTUFBTSxDQUFDVyxNQUFNLENBQUMsU0FBUyxFQUFDUixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsNEJBQW1CLENBQUNPLE1BQU0sQ0FBQztBQUVwRVosTUFBTSxDQUFDUyxHQUFHLENBQUMseUJBQXlCLEVBQUNKLDRCQUFtQixDQUFDUSxjQUFjLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQW5CLE9BQUEsR0FFMURJLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CategoriaController","_auth","_connectMultiparty","obj","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","categoriacontroller","register","put","update","get","list","delete","remove","obtener_imagen","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\router\\","sources":["Categorie.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport categoriacontroller from '../controllers/CategoriaController'\r\nimport auth from '../middlewares/auth'\r\n\r\nimport multiparty from 'connect-multiparty'\r\nvar path = multiparty({uploadDir: './uploads/categoria'})\r\nconst router = routerx();\r\n// http://localhost:3000/api/users/register\r\n\r\nrouter.post(\"/register\",[auth.verifyAdmin,path],categoriacontroller.register);\r\nrouter.put(\"/update\",[auth.verifyAdmin,path],categoriacontroller.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,categoriacontroller.list);\r\nrouter.delete(\"/delete\",auth.verifyAdmin,categoriacontroller.remove);\r\n\r\nrouter.get(\"/uploads/categoria/:img\",categoriacontroller.obtener_imagen);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,oBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAEA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAA2C,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAC3C,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAE;AAAqB,CAAC,CAAC;AACzD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAC,CAACC,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,4BAAmB,CAACC,QAAQ,CAAC;AAC7EN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAC,CAACJ,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,4BAAmB,CAACG,MAAM,CAAC;AACxER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,4BAAmB,CAACK,IAAI,CAAC;AAC7DV,MAAM,CAACW,MAAM,CAAC,SAAS,EAACR,aAAI,CAACC,WAAW,EAACC,4BAAmB,CAACO,MAAM,CAAC;AAEpEZ,MAAM,CAACS,GAAG,CAAC,yBAAyB,EAACJ,4BAAmB,CAACQ,cAAc,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAnB,OAAA,GAE1DI,MAAM","ignoreList":[]}},"mtime":1716266707535},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\Categoria.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\n//todas las caracteristicas del modelo\n\nconst CategoriaSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    maxlength: 20,\n    required: true\n  },\n  imagen: {\n    type: String,\n    maxlength: 200,\n    required: false\n  },\n  state: {\n    type: Number,\n    maxlength: 2,\n    default: 1\n  }\n}, {\n  timestamps: true\n});\nconst Categoria = _mongoose.default.model(\"categoria\", CategoriaSchema);\nvar _default = exports.default = Categoria;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJDYXRlZ29yaWFTY2hlbWEiLCJTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJyZXF1aXJlZCIsImltYWdlbiIsInN0YXRlIiwiTnVtYmVyIiwidGltZXN0YW1wcyIsIkNhdGVnb3JpYSIsIm1vbmdvb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbndvcmxcXEVzY3JpdG9yaW9cXFByb2dyYW1hY2nDs25cXEVjb21tZXJjZVNvbGl0ZWtcXGFwaV9lY29tbWVyY2VcXG1vZGVsc1xcIiwic291cmNlcyI6WyJDYXRlZ29yaWEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy90b2RhcyBsYXMgY2FyYWN0ZXJpc3RpY2FzIGRlbCBtb2RlbG9cclxuaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gJ21vbmdvb3NlJztcclxuXHJcbmNvbnN0IENhdGVnb3JpYVNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICB0aXRsZTp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOjIwLHJlcXVpcmVkOnRydWV9LFxyXG4gICBpbWFnZW46e3R5cGU6U3RyaW5nLG1heGxlbmd0aDoyMDAscmVxdWlyZWQ6ZmFsc2V9LFxyXG4gICBzdGF0ZTp7dHlwZTpOdW1iZXIsbWF4bGVuZ3RoOjIsZGVmYXVsdDoxfVxyXG5cclxuXHJcblxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6IHRydWVcclxufSk7XHJcblxyXG5jb25zdCBDYXRlZ29yaWEgPSBtb25nb29zZS5tb2RlbChcImNhdGVnb3JpYVwiLENhdGVnb3JpYVNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IENhdGVnb3JpYTsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUNBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFBQUwsQ0FBQSxRQUFBRyxDQUFBLEdBQUFKLHdCQUFBLENBQUFHLENBQUEsT0FBQUMsQ0FBQSxJQUFBQSxDQUFBLENBQUFHLEdBQUEsQ0FBQU4sQ0FBQSxVQUFBRyxDQUFBLENBQUFJLEdBQUEsQ0FBQVAsQ0FBQSxPQUFBUSxDQUFBLEtBQUFDLFNBQUEsVUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxDQUFBLElBQUFkLENBQUEsb0JBQUFjLENBQUEsT0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFoQixDQUFBLEVBQUFjLENBQUEsU0FBQUcsQ0FBQSxHQUFBUCxDQUFBLEdBQUFDLE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQWIsQ0FBQSxFQUFBYyxDQUFBLFVBQUFHLENBQUEsS0FBQUEsQ0FBQSxDQUFBVixHQUFBLElBQUFVLENBQUEsQ0FBQUMsR0FBQSxJQUFBUCxNQUFBLENBQUFDLGNBQUEsQ0FBQUosQ0FBQSxFQUFBTSxDQUFBLEVBQUFHLENBQUEsSUFBQVQsQ0FBQSxDQUFBTSxDQUFBLElBQUFkLENBQUEsQ0FBQWMsQ0FBQSxZQUFBTixDQUFBLENBQUFILE9BQUEsR0FBQUwsQ0FBQSxFQUFBRyxDQUFBLElBQUFBLENBQUEsQ0FBQWUsR0FBQSxDQUFBbEIsQ0FBQSxFQUFBUSxDQUFBLEdBQUFBLENBQUE7QUFEekM7O0FBR0EsTUFBTVcsZUFBZSxHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDaENDLEtBQUssRUFBQztJQUFDQyxJQUFJLEVBQUNDLE1BQU07SUFBQ0MsU0FBUyxFQUFDLEVBQUU7SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUM5Q0MsTUFBTSxFQUFDO0lBQUNKLElBQUksRUFBQ0MsTUFBTTtJQUFDQyxTQUFTLEVBQUMsR0FBRztJQUFDQyxRQUFRLEVBQUM7RUFBSyxDQUFDO0VBQ2pERSxLQUFLLEVBQUM7SUFBQ0wsSUFBSSxFQUFDTSxNQUFNO0lBQUNKLFNBQVMsRUFBQyxDQUFDO0lBQUNuQixPQUFPLEVBQUM7RUFBQztBQUkzQyxDQUFDLEVBQUM7RUFDRXdCLFVBQVUsRUFBRTtBQUNoQixDQUFDLENBQUM7QUFFRixNQUFNQyxTQUFTLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxXQUFXLEVBQUNiLGVBQWUsQ0FBQztBQUFDLElBQUFjLFFBQUEsR0FBQUMsT0FBQSxDQUFBN0IsT0FBQSxHQUMvQ3lCLFNBQVMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","CategoriaSchema","Schema","title","type","String","maxlength","required","imagen","state","Number","timestamps","Categoria","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\models\\","sources":["Categoria.js"],"sourcesContent":["//todas las caracteristicas del modelo\r\nimport mongoose,{Schema} from 'mongoose';\r\n\r\nconst CategoriaSchema = new Schema({\r\n   title:{type:String,maxlength:20,required:true},\r\n   imagen:{type:String,maxlength:200,required:false},\r\n   state:{type:Number,maxlength:2,default:1}\r\n\r\n\r\n\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst Categoria = mongoose.model(\"categoria\",CategoriaSchema);\r\nexport default Categoria;"],"mappings":";;;;;;AACA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AADzC;;AAGA,MAAMW,eAAe,GAAG,IAAIC,gBAAM,CAAC;EAChCC,KAAK,EAAC;IAACC,IAAI,EAACC,MAAM;IAACC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC9CC,MAAM,EAAC;IAACJ,IAAI,EAACC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAK,CAAC;EACjDE,KAAK,EAAC;IAACL,IAAI,EAACM,MAAM;IAACJ,SAAS,EAAC,CAAC;IAACnB,OAAO,EAAC;EAAC;AAI3C,CAAC,EAAC;EACEwB,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,SAAS,GAAGC,iBAAQ,CAACC,KAAK,CAAC,WAAW,EAACb,eAAe,CAAC;AAAC,IAAAc,QAAA,GAAAC,OAAA,CAAA7B,OAAA,GAC/CyB,SAAS","ignoreList":[]}},"mtime":1717828090703},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\Categoria.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\n//todas las caracteristicas del modelo\n\nconst CategoriaSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    maxlength: 20,\n    required: true\n  },\n  imagen: {\n    type: String,\n    maxlength: 200,\n    required: false\n  },\n  state: {\n    type: Number,\n    maxlength: 2,\n    default: 1\n  }\n}, {\n  timestamps: true\n});\nconst Categoria = _mongoose.default.model(\"categoria\", CategoriaSchema);\nvar _default = exports.default = Categoria;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJDYXRlZ29yaWFTY2hlbWEiLCJTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJyZXF1aXJlZCIsImltYWdlbiIsInN0YXRlIiwiTnVtYmVyIiwidGltZXN0YW1wcyIsIkNhdGVnb3JpYSIsIm1vbmdvb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbndvcmxcXEVzY3JpdG9yaW9cXFByb2dyYW1hY2nDs25cXEVjb21tZXJjZVNvbGl0ZWtcXGFwaV9lY29tbWVyY2VcXG1vZGVsc1xcIiwic291cmNlcyI6WyJDYXRlZ29yaWEuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy90b2RhcyBsYXMgY2FyYWN0ZXJpc3RpY2FzIGRlbCBtb2RlbG9cclxuaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gJ21vbmdvb3NlJztcclxuXHJcbmNvbnN0IENhdGVnb3JpYVNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICB0aXRsZTp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOjIwLHJlcXVpcmVkOnRydWV9LFxyXG4gICBpbWFnZW46e3R5cGU6U3RyaW5nLG1heGxlbmd0aDoyMDAscmVxdWlyZWQ6ZmFsc2V9LFxyXG4gICBzdGF0ZTp7dHlwZTpOdW1iZXIsbWF4bGVuZ3RoOjIsZGVmYXVsdDoxfVxyXG5cclxuXHJcblxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6IHRydWVcclxufSk7XHJcblxyXG5jb25zdCBDYXRlZ29yaWEgPSBtb25nb29zZS5tb2RlbChcImNhdGVnb3JpYVwiLENhdGVnb3JpYVNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IENhdGVnb3JpYTsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUNBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFBQUwsQ0FBQSxRQUFBRyxDQUFBLEdBQUFKLHdCQUFBLENBQUFHLENBQUEsT0FBQUMsQ0FBQSxJQUFBQSxDQUFBLENBQUFHLEdBQUEsQ0FBQU4sQ0FBQSxVQUFBRyxDQUFBLENBQUFJLEdBQUEsQ0FBQVAsQ0FBQSxPQUFBUSxDQUFBLEtBQUFDLFNBQUEsVUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxDQUFBLElBQUFkLENBQUEsb0JBQUFjLENBQUEsT0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFoQixDQUFBLEVBQUFjLENBQUEsU0FBQUcsQ0FBQSxHQUFBUCxDQUFBLEdBQUFDLE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQWIsQ0FBQSxFQUFBYyxDQUFBLFVBQUFHLENBQUEsS0FBQUEsQ0FBQSxDQUFBVixHQUFBLElBQUFVLENBQUEsQ0FBQUMsR0FBQSxJQUFBUCxNQUFBLENBQUFDLGNBQUEsQ0FBQUosQ0FBQSxFQUFBTSxDQUFBLEVBQUFHLENBQUEsSUFBQVQsQ0FBQSxDQUFBTSxDQUFBLElBQUFkLENBQUEsQ0FBQWMsQ0FBQSxZQUFBTixDQUFBLENBQUFILE9BQUEsR0FBQUwsQ0FBQSxFQUFBRyxDQUFBLElBQUFBLENBQUEsQ0FBQWUsR0FBQSxDQUFBbEIsQ0FBQSxFQUFBUSxDQUFBLEdBQUFBLENBQUE7QUFEekM7O0FBR0EsTUFBTVcsZUFBZSxHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDaENDLEtBQUssRUFBQztJQUFDQyxJQUFJLEVBQUNDLE1BQU07SUFBQ0MsU0FBUyxFQUFDLEVBQUU7SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUM5Q0MsTUFBTSxFQUFDO0lBQUNKLElBQUksRUFBQ0MsTUFBTTtJQUFDQyxTQUFTLEVBQUMsR0FBRztJQUFDQyxRQUFRLEVBQUM7RUFBSyxDQUFDO0VBQ2pERSxLQUFLLEVBQUM7SUFBQ0wsSUFBSSxFQUFDTSxNQUFNO0lBQUNKLFNBQVMsRUFBQyxDQUFDO0lBQUNuQixPQUFPLEVBQUM7RUFBQztBQUkzQyxDQUFDLEVBQUM7RUFDRXdCLFVBQVUsRUFBRTtBQUNoQixDQUFDLENBQUM7QUFFRixNQUFNQyxTQUFTLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxXQUFXLEVBQUNiLGVBQWUsQ0FBQztBQUFDLElBQUFjLFFBQUEsR0FBQUMsT0FBQSxDQUFBN0IsT0FBQSxHQUMvQ3lCLFNBQVMiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","CategoriaSchema","Schema","title","type","String","maxlength","required","imagen","state","Number","timestamps","Categoria","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\models\\","sources":["Categoria.js"],"sourcesContent":["//todas las caracteristicas del modelo\r\nimport mongoose,{Schema} from 'mongoose';\r\n\r\nconst CategoriaSchema = new Schema({\r\n   title:{type:String,maxlength:20,required:true},\r\n   imagen:{type:String,maxlength:200,required:false},\r\n   state:{type:Number,maxlength:2,default:1}\r\n\r\n\r\n\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst Categoria = mongoose.model(\"categoria\",CategoriaSchema);\r\nexport default Categoria;"],"mappings":";;;;;;AACA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AADzC;;AAGA,MAAMW,eAAe,GAAG,IAAIC,gBAAM,CAAC;EAChCC,KAAK,EAAC;IAACC,IAAI,EAACC,MAAM;IAACC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC9CC,MAAM,EAAC;IAACJ,IAAI,EAACC,MAAM;IAACC,SAAS,EAAC,GAAG;IAACC,QAAQ,EAAC;EAAK,CAAC;EACjDE,KAAK,EAAC;IAACL,IAAI,EAACM,MAAM;IAACJ,SAAS,EAAC,CAAC;IAACnB,OAAO,EAAC;EAAC;AAI3C,CAAC,EAAC;EACEwB,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,SAAS,GAAGC,iBAAQ,CAACC,KAAK,CAAC,WAAW,EAACb,eAAe,CAAC;AAAC,IAAAc,QAAA,GAAAC,OAAA,CAAA7B,OAAA,GAC/CyB,SAAS","ignoreList":[]}},"mtime":1717828090703},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst ProductSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    required: true,\n    maxLength: 250\n  },\n  slug: {\n    type: String,\n    required: true,\n    maxLenght: 1000\n  },\n  sku: {\n    type: String,\n    required: true\n  },\n  categoria: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'categoria',\n    required: true\n  },\n  price_cop: {\n    type: Number,\n    required: true\n  },\n  price_usd: {\n    type: Number,\n    required: true\n  },\n  portada: {\n    type: String,\n    required: true\n  },\n  galerias: [{\n    type: Object,\n    required: false\n  }],\n  state: {\n    type: Number,\n    default: 1\n  },\n  //1 es en prueba 2 es publico y 3 anulado.\n  stock: {\n    type: Number,\n    default: 0\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  resumen: {\n    type: String,\n    required: true\n  },\n  tags: {\n    type: String,\n    required: true\n  },\n  type_inventario: {\n    type: Number,\n    default: 1\n  }\n}, {\n  timestamps: true\n});\nconst Product = _mongoose.default.model('product', ProductSchema);\nvar _default = exports.default = Product;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJQcm9kdWN0U2NoZW1hIiwiU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJtYXhMZW5ndGgiLCJzbHVnIiwibWF4TGVuZ2h0Iiwic2t1IiwiY2F0ZWdvcmlhIiwiT2JqZWN0SWQiLCJyZWYiLCJwcmljZV9jb3AiLCJOdW1iZXIiLCJwcmljZV91c2QiLCJwb3J0YWRhIiwiZ2FsZXJpYXMiLCJzdGF0ZSIsInN0b2NrIiwiZGVzY3JpcHRpb24iLCJyZXN1bWVuIiwidGFncyIsInR5cGVfaW52ZW50YXJpbyIsInRpbWVzdGFtcHMiLCJQcm9kdWN0IiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxud29ybFxcRXNjcml0b3Jpb1xcUHJvZ3JhbWFjacOzblxcRWNvbW1lcmNlU29saXRla1xcYXBpX2Vjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIlByb2R1Y3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLCB7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcblxyXG5jb25zdCBQcm9kdWN0U2NoZW1hID0gbmV3IFNjaGVtYSAoe1xyXG5cclxuICAgIHRpdGxlOnt0eXBlOlN0cmluZywgcmVxdWlyZWQ6dHJ1ZSxtYXhMZW5ndGg6MjUwfSAsXHJcbiAgICBzbHVnOnt0eXBlOlN0cmluZywgcmVxdWlyZWQ6dHJ1ZSwgbWF4TGVuZ2h0OjEwMDB9LFxyXG4gICAgc2t1Ont0eXBlOlN0cmluZywgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBjYXRlZ29yaWE6e3R5cGU6U2NoZW1hLk9iamVjdElkLCByZWY6J2NhdGVnb3JpYScscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBwcmljZV9jb3A6e3R5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgcHJpY2VfdXNkOnt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSxcclxuICAgIHBvcnRhZGE6e3R5cGU6U3RyaW5nLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgZ2FsZXJpYXM6W3t0eXBlOk9iamVjdCxyZXF1aXJlZDpmYWxzZX1dLFxyXG4gICAgc3RhdGU6e3R5cGU6TnVtYmVyLGRlZmF1bHQ6MX0sLy8xIGVzIGVuIHBydWViYSAyIGVzIHB1YmxpY28geSAzIGFudWxhZG8uXHJcbiAgICBzdG9jazp7dHlwZTpOdW1iZXIsZGVmYXVsdDowfSxcclxuICAgIGRlc2NyaXB0aW9uOnt0eXBlOlN0cmluZyxyZXF1aXJlZDp0cnVlfSxcclxuICAgIHJlc3VtZW46e3R5cGU6U3RyaW5nLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgdGFnczp7dHlwZTpTdHJpbmcscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICB0eXBlX2ludmVudGFyaW86e3R5cGU6TnVtYmVyLGRlZmF1bHQ6MX0sXHJcbiAgICBcclxuXHJcbn0se1xyXG5cclxuXHJcbiAgICB0aW1lc3RhbXBzOnRydWUsXHJcblxyXG59KTtcclxuXHJcbmNvbnN0IFByb2R1Y3QgPSBtb25nb29zZS5tb2RlbCgncHJvZHVjdCcsUHJvZHVjdFNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IFByb2R1Y3Q7XHJcblxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUEwQyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","ProductSchema","Schema","title","type","String","required","maxLength","slug","maxLenght","sku","categoria","ObjectId","ref","price_cop","Number","price_usd","portada","galerias","state","stock","description","resumen","tags","type_inventario","timestamps","Product","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\models\\","sources":["Product.js"],"sourcesContent":["import mongoose, {Schema} from \"mongoose\";\r\n\r\n\r\nconst ProductSchema = new Schema ({\r\n\r\n    title:{type:String, required:true,maxLength:250} ,\r\n    slug:{type:String, required:true, maxLenght:1000},\r\n    sku:{type:String, required:true},\r\n    categoria:{type:Schema.ObjectId, ref:'categoria',required:true},\r\n    price_cop:{type:Number,required:true},\r\n    price_usd:{type:Number,required:true},\r\n    portada:{type:String,required:true},\r\n    galerias:[{type:Object,required:false}],\r\n    state:{type:Number,default:1},//1 es en prueba 2 es publico y 3 anulado.\r\n    stock:{type:Number,default:0},\r\n    description:{type:String,required:true},\r\n    resumen:{type:String,required:true},\r\n    tags:{type:String,required:true},\r\n    type_inventario:{type:Number,default:1},\r\n    \r\n\r\n},{\r\n\r\n\r\n    timestamps:true,\r\n\r\n});\r\n\r\nconst Product = mongoose.model('product',ProductSchema);\r\nexport default Product;\r\n\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1717828087841},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst ProductSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    required: true,\n    maxLength: 250\n  },\n  slug: {\n    type: String,\n    required: true,\n    maxLenght: 1000\n  },\n  sku: {\n    type: String,\n    required: true\n  },\n  categoria: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'categoria',\n    required: true\n  },\n  price_cop: {\n    type: Number,\n    required: true\n  },\n  price_usd: {\n    type: Number,\n    required: true\n  },\n  portada: {\n    type: String,\n    required: true\n  },\n  galerias: [{\n    type: Object,\n    required: false\n  }],\n  state: {\n    type: Number,\n    default: 1\n  },\n  //1 es en prueba 2 es publico y 3 anulado.\n  stock: {\n    type: Number,\n    default: 0\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  resumen: {\n    type: String,\n    required: true\n  },\n  tags: {\n    type: String,\n    required: true\n  },\n  type_inventario: {\n    type: Number,\n    default: 1\n  }\n}, {\n  timestamps: true\n});\nconst Product = _mongoose.default.model('product', ProductSchema);\nvar _default = exports.default = Product;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJQcm9kdWN0U2NoZW1hIiwiU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJtYXhMZW5ndGgiLCJzbHVnIiwibWF4TGVuZ2h0Iiwic2t1IiwiY2F0ZWdvcmlhIiwiT2JqZWN0SWQiLCJyZWYiLCJwcmljZV9jb3AiLCJOdW1iZXIiLCJwcmljZV91c2QiLCJwb3J0YWRhIiwiZ2FsZXJpYXMiLCJzdGF0ZSIsInN0b2NrIiwiZGVzY3JpcHRpb24iLCJyZXN1bWVuIiwidGFncyIsInR5cGVfaW52ZW50YXJpbyIsInRpbWVzdGFtcHMiLCJQcm9kdWN0IiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxud29ybFxcRXNjcml0b3Jpb1xcUHJvZ3JhbWFjacOzblxcRWNvbW1lcmNlU29saXRla1xcYXBpX2Vjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIlByb2R1Y3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLCB7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcblxyXG5jb25zdCBQcm9kdWN0U2NoZW1hID0gbmV3IFNjaGVtYSAoe1xyXG5cclxuICAgIHRpdGxlOnt0eXBlOlN0cmluZywgcmVxdWlyZWQ6dHJ1ZSxtYXhMZW5ndGg6MjUwfSAsXHJcbiAgICBzbHVnOnt0eXBlOlN0cmluZywgcmVxdWlyZWQ6dHJ1ZSwgbWF4TGVuZ2h0OjEwMDB9LFxyXG4gICAgc2t1Ont0eXBlOlN0cmluZywgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBjYXRlZ29yaWE6e3R5cGU6U2NoZW1hLk9iamVjdElkLCByZWY6J2NhdGVnb3JpYScscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBwcmljZV9jb3A6e3R5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgcHJpY2VfdXNkOnt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSxcclxuICAgIHBvcnRhZGE6e3R5cGU6U3RyaW5nLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgZ2FsZXJpYXM6W3t0eXBlOk9iamVjdCxyZXF1aXJlZDpmYWxzZX1dLFxyXG4gICAgc3RhdGU6e3R5cGU6TnVtYmVyLGRlZmF1bHQ6MX0sLy8xIGVzIGVuIHBydWViYSAyIGVzIHB1YmxpY28geSAzIGFudWxhZG8uXHJcbiAgICBzdG9jazp7dHlwZTpOdW1iZXIsZGVmYXVsdDowfSxcclxuICAgIGRlc2NyaXB0aW9uOnt0eXBlOlN0cmluZyxyZXF1aXJlZDp0cnVlfSxcclxuICAgIHJlc3VtZW46e3R5cGU6U3RyaW5nLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgdGFnczp7dHlwZTpTdHJpbmcscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICB0eXBlX2ludmVudGFyaW86e3R5cGU6TnVtYmVyLGRlZmF1bHQ6MX0sXHJcbiAgICBcclxuXHJcbn0se1xyXG5cclxuXHJcbiAgICB0aW1lc3RhbXBzOnRydWUsXHJcblxyXG59KTtcclxuXHJcbmNvbnN0IFByb2R1Y3QgPSBtb25nb29zZS5tb2RlbCgncHJvZHVjdCcsUHJvZHVjdFNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IFByb2R1Y3Q7XHJcblxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUEwQyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","ProductSchema","Schema","title","type","String","required","maxLength","slug","maxLenght","sku","categoria","ObjectId","ref","price_cop","Number","price_usd","portada","galerias","state","stock","description","resumen","tags","type_inventario","timestamps","Product","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\models\\","sources":["Product.js"],"sourcesContent":["import mongoose, {Schema} from \"mongoose\";\r\n\r\n\r\nconst ProductSchema = new Schema ({\r\n\r\n    title:{type:String, required:true,maxLength:250} ,\r\n    slug:{type:String, required:true, maxLenght:1000},\r\n    sku:{type:String, required:true},\r\n    categoria:{type:Schema.ObjectId, ref:'categoria',required:true},\r\n    price_cop:{type:Number,required:true},\r\n    price_usd:{type:Number,required:true},\r\n    portada:{type:String,required:true},\r\n    galerias:[{type:Object,required:false}],\r\n    state:{type:Number,default:1},//1 es en prueba 2 es publico y 3 anulado.\r\n    stock:{type:Number,default:0},\r\n    description:{type:String,required:true},\r\n    resumen:{type:String,required:true},\r\n    tags:{type:String,required:true},\r\n    type_inventario:{type:Number,default:1},\r\n    \r\n\r\n},{\r\n\r\n\r\n    timestamps:true,\r\n\r\n});\r\n\r\nconst Product = mongoose.model('product',ProductSchema);\r\nexport default Product;\r\n\r\n"],"mappings":"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","ignoreList":[]}},"mtime":1717828087841},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\Variedad.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst VariedadSchema = new _mongoose.Schema({\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  valor: {\n    type: String,\n    required: true\n  },\n  stock: {\n    type: Number,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst Variedad = _mongoose.default.model('variedad', VariedadSchema);\nvar _default = exports.default = Variedad;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJWYXJpZWRhZFNjaGVtYSIsIlNjaGVtYSIsInByb2R1Y3QiLCJ0eXBlIiwiT2JqZWN0SWQiLCJyZWYiLCJyZXF1aXJlZCIsInZhbG9yIiwiU3RyaW5nIiwic3RvY2siLCJOdW1iZXIiLCJ0aW1lc3RhbXBzIiwiVmFyaWVkYWQiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiVmFyaWVkYWQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gJ21vbmdvb3NlJztcclxuXHJcbmNvbnN0IFZhcmllZGFkU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcblxyXG4gICAgcHJvZHVjdDoge3R5cGU6U2NoZW1hLk9iamVjdElkLHJlZjoncHJvZHVjdCcscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICB2YWxvcjp7dHlwZTpTdHJpbmcscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBzdG9jazp7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBcclxuXHJcblxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6dHJ1ZSxcclxufSk7XHJcblxyXG5jb25zdCBWYXJpZWRhZCA9IG1vbmdvb3NlLm1vZGVsKCd2YXJpZWRhZCcsVmFyaWVkYWRTY2hlbWEpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgVmFyaWVkYWQ7XHJcblxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFBQUwsQ0FBQSxRQUFBRyxDQUFBLEdBQUFKLHdCQUFBLENBQUFHLENBQUEsT0FBQUMsQ0FBQSxJQUFBQSxDQUFBLENBQUFHLEdBQUEsQ0FBQU4sQ0FBQSxVQUFBRyxDQUFBLENBQUFJLEdBQUEsQ0FBQVAsQ0FBQSxPQUFBUSxDQUFBLEtBQUFDLFNBQUEsVUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxDQUFBLElBQUFkLENBQUEsb0JBQUFjLENBQUEsT0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFoQixDQUFBLEVBQUFjLENBQUEsU0FBQUcsQ0FBQSxHQUFBUCxDQUFBLEdBQUFDLE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQWIsQ0FBQSxFQUFBYyxDQUFBLFVBQUFHLENBQUEsS0FBQUEsQ0FBQSxDQUFBVixHQUFBLElBQUFVLENBQUEsQ0FBQUMsR0FBQSxJQUFBUCxNQUFBLENBQUFDLGNBQUEsQ0FBQUosQ0FBQSxFQUFBTSxDQUFBLEVBQUFHLENBQUEsSUFBQVQsQ0FBQSxDQUFBTSxDQUFBLElBQUFkLENBQUEsQ0FBQWMsQ0FBQSxZQUFBTixDQUFBLENBQUFILE9BQUEsR0FBQUwsQ0FBQSxFQUFBRyxDQUFBLElBQUFBLENBQUEsQ0FBQWUsR0FBQSxDQUFBbEIsQ0FBQSxFQUFBUSxDQUFBLEdBQUFBLENBQUE7QUFFekMsTUFBTVcsY0FBYyxHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFFOUJDLE9BQU8sRUFBRTtJQUFDQyxJQUFJLEVBQUNGLGdCQUFNLENBQUNHLFFBQVE7SUFBQ0MsR0FBRyxFQUFDLFNBQVM7SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUMzREMsS0FBSyxFQUFDO0lBQUNKLElBQUksRUFBQ0ssTUFBTTtJQUFDRixRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2pDRyxLQUFLLEVBQUM7SUFBQ04sSUFBSSxFQUFDTyxNQUFNO0lBQUNKLFFBQVEsRUFBQztFQUFJO0FBSXBDLENBQUMsRUFBQztFQUNFSyxVQUFVLEVBQUM7QUFDZixDQUFDLENBQUM7QUFFRixNQUFNQyxRQUFRLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxVQUFVLEVBQUNkLGNBQWMsQ0FBQztBQUFDLElBQUFlLFFBQUEsR0FBQUMsT0FBQSxDQUFBOUIsT0FBQSxHQUU1QzBCLFFBQVEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","VariedadSchema","Schema","product","type","ObjectId","ref","required","valor","String","stock","Number","timestamps","Variedad","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\models\\","sources":["Variedad.js"],"sourcesContent":["import mongoose,{Schema} from 'mongoose';\r\n\r\nconst VariedadSchema = new Schema({\r\n\r\n    product: {type:Schema.ObjectId,ref:'product',required:true},\r\n    valor:{type:String,required:true},\r\n    stock:{type:Number,required:true},\r\n    \r\n\r\n\r\n},{\r\n    timestamps:true,\r\n});\r\n\r\nconst Variedad = mongoose.model('variedad',VariedadSchema);\r\n\r\nexport default Variedad;\r\n\r\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,cAAc,GAAG,IAAIC,gBAAM,CAAC;EAE9BC,OAAO,EAAE;IAACC,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,SAAS;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC3DC,KAAK,EAAC;IAACJ,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC;EAAI,CAAC;EACjCG,KAAK,EAAC;IAACN,IAAI,EAACO,MAAM;IAACJ,QAAQ,EAAC;EAAI;AAIpC,CAAC,EAAC;EACEK,UAAU,EAAC;AACf,CAAC,CAAC;AAEF,MAAMC,QAAQ,GAAGC,iBAAQ,CAACC,KAAK,CAAC,UAAU,EAACd,cAAc,CAAC;AAAC,IAAAe,QAAA,GAAAC,OAAA,CAAA9B,OAAA,GAE5C0B,QAAQ","ignoreList":[]}},"mtime":1717975768796},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\Variedad.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst VariedadSchema = new _mongoose.Schema({\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  valor: {\n    type: String,\n    required: true\n  },\n  stock: {\n    type: Number,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst Variedad = _mongoose.default.model('variedad', VariedadSchema);\nvar _default = exports.default = Variedad;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJWYXJpZWRhZFNjaGVtYSIsIlNjaGVtYSIsInByb2R1Y3QiLCJ0eXBlIiwiT2JqZWN0SWQiLCJyZWYiLCJyZXF1aXJlZCIsInZhbG9yIiwiU3RyaW5nIiwic3RvY2siLCJOdW1iZXIiLCJ0aW1lc3RhbXBzIiwiVmFyaWVkYWQiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiVmFyaWVkYWQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gJ21vbmdvb3NlJztcclxuXHJcbmNvbnN0IFZhcmllZGFkU2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcblxyXG4gICAgcHJvZHVjdDoge3R5cGU6U2NoZW1hLk9iamVjdElkLHJlZjoncHJvZHVjdCcscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICB2YWxvcjp7dHlwZTpTdHJpbmcscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBzdG9jazp7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBcclxuXHJcblxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6dHJ1ZSxcclxufSk7XHJcblxyXG5jb25zdCBWYXJpZWRhZCA9IG1vbmdvb3NlLm1vZGVsKCd2YXJpZWRhZCcsVmFyaWVkYWRTY2hlbWEpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgVmFyaWVkYWQ7XHJcblxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFBQUwsQ0FBQSxRQUFBRyxDQUFBLEdBQUFKLHdCQUFBLENBQUFHLENBQUEsT0FBQUMsQ0FBQSxJQUFBQSxDQUFBLENBQUFHLEdBQUEsQ0FBQU4sQ0FBQSxVQUFBRyxDQUFBLENBQUFJLEdBQUEsQ0FBQVAsQ0FBQSxPQUFBUSxDQUFBLEtBQUFDLFNBQUEsVUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxDQUFBLElBQUFkLENBQUEsb0JBQUFjLENBQUEsT0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFoQixDQUFBLEVBQUFjLENBQUEsU0FBQUcsQ0FBQSxHQUFBUCxDQUFBLEdBQUFDLE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQWIsQ0FBQSxFQUFBYyxDQUFBLFVBQUFHLENBQUEsS0FBQUEsQ0FBQSxDQUFBVixHQUFBLElBQUFVLENBQUEsQ0FBQUMsR0FBQSxJQUFBUCxNQUFBLENBQUFDLGNBQUEsQ0FBQUosQ0FBQSxFQUFBTSxDQUFBLEVBQUFHLENBQUEsSUFBQVQsQ0FBQSxDQUFBTSxDQUFBLElBQUFkLENBQUEsQ0FBQWMsQ0FBQSxZQUFBTixDQUFBLENBQUFILE9BQUEsR0FBQUwsQ0FBQSxFQUFBRyxDQUFBLElBQUFBLENBQUEsQ0FBQWUsR0FBQSxDQUFBbEIsQ0FBQSxFQUFBUSxDQUFBLEdBQUFBLENBQUE7QUFFekMsTUFBTVcsY0FBYyxHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFFOUJDLE9BQU8sRUFBRTtJQUFDQyxJQUFJLEVBQUNGLGdCQUFNLENBQUNHLFFBQVE7SUFBQ0MsR0FBRyxFQUFDLFNBQVM7SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUMzREMsS0FBSyxFQUFDO0lBQUNKLElBQUksRUFBQ0ssTUFBTTtJQUFDRixRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2pDRyxLQUFLLEVBQUM7SUFBQ04sSUFBSSxFQUFDTyxNQUFNO0lBQUNKLFFBQVEsRUFBQztFQUFJO0FBSXBDLENBQUMsRUFBQztFQUNFSyxVQUFVLEVBQUM7QUFDZixDQUFDLENBQUM7QUFFRixNQUFNQyxRQUFRLEdBQUdDLGlCQUFRLENBQUNDLEtBQUssQ0FBQyxVQUFVLEVBQUNkLGNBQWMsQ0FBQztBQUFDLElBQUFlLFFBQUEsR0FBQUMsT0FBQSxDQUFBOUIsT0FBQSxHQUU1QzBCLFFBQVEiLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","VariedadSchema","Schema","product","type","ObjectId","ref","required","valor","String","stock","Number","timestamps","Variedad","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\models\\","sources":["Variedad.js"],"sourcesContent":["import mongoose,{Schema} from 'mongoose';\r\n\r\nconst VariedadSchema = new Schema({\r\n\r\n    product: {type:Schema.ObjectId,ref:'product',required:true},\r\n    valor:{type:String,required:true},\r\n    stock:{type:Number,required:true},\r\n    \r\n\r\n\r\n},{\r\n    timestamps:true,\r\n});\r\n\r\nconst Variedad = mongoose.model('variedad',VariedadSchema);\r\n\r\nexport default Variedad;\r\n\r\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,cAAc,GAAG,IAAIC,gBAAM,CAAC;EAE9BC,OAAO,EAAE;IAACC,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,SAAS;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC3DC,KAAK,EAAC;IAACJ,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC;EAAI,CAAC;EACjCG,KAAK,EAAC;IAACN,IAAI,EAACO,MAAM;IAACJ,QAAQ,EAAC;EAAI;AAIpC,CAAC,EAAC;EACEK,UAAU,EAAC;AACf,CAAC,CAAC;AAEF,MAAMC,QAAQ,GAAGC,iBAAQ,CAACC,KAAK,CAAC,UAAU,EAACd,cAAc,CAAC;AAAC,IAAAe,QAAA,GAAAC,OAAA,CAAA9B,OAAA,GAE5C0B,QAAQ","ignoreList":[]}},"mtime":1717975768796},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\resources\\\\Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  product_list: (product, variedades = [], avg_review = 0, count_review = 0) => {\n    var IMAGEN_TWO = \"\";\n    let GALERIAS = [];\n    if (product.galerias && product.galerias.length > 0) {\n      //NUEVO POR AGREGAR\n      GALERIAS = product.galerias.map(galeria => {\n        galeria.imagen = 'http://localhost:3000' + '/api/products/uploads/product/' + galeria.imagen; //*\n        return galeria;\n      });\n      var VAL = Math.floor(Math.random() * product.galerias.length); //0,1,2\n      IMAGEN_TWO = GALERIAS[VAL].imagen;\n    }\n    return {\n      _id: product._id,\n      // Accede al _id en lugar de id\n      title: product.title,\n      imagen: 'http://localhost:3000' + '/api/products/uploads/product/' + product.portada,\n      //faltan complentar\n      sku: product.sku,\n      slug: product.slug,\n      categoria: product.categoria,\n      price_cop: product.price_cop,\n      price_usd: product.price_usd,\n      stock: product.stock,\n      description: product.description,\n      resumen: product.resumen,\n      tags: product.tags ? JSON.parse(product.tags) : [],\n      type_inventario: product.type_inventario,\n      state: product.state,\n      variedades: variedades,\n      imagen_two: IMAGEN_TWO,\n      galerias: GALERIAS,\n      avg_review: avg_review,\n      count_review: count_review\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9kdWN0X2xpc3QiLCJwcm9kdWN0IiwidmFyaWVkYWRlcyIsImF2Z19yZXZpZXciLCJjb3VudF9yZXZpZXciLCJJTUFHRU5fVFdPIiwiR0FMRVJJQVMiLCJnYWxlcmlhcyIsImxlbmd0aCIsIm1hcCIsImdhbGVyaWEiLCJpbWFnZW4iLCJWQUwiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJfaWQiLCJ0aXRsZSIsInBvcnRhZGEiLCJza3UiLCJzbHVnIiwiY2F0ZWdvcmlhIiwicHJpY2VfY29wIiwicHJpY2VfdXNkIiwic3RvY2siLCJkZXNjcmlwdGlvbiIsInJlc3VtZW4iLCJ0YWdzIiwiSlNPTiIsInBhcnNlIiwidHlwZV9pbnZlbnRhcmlvIiwic3RhdGUiLCJpbWFnZW5fdHdvIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxyZXNvdXJjZXNcXCIsInNvdXJjZXMiOlsiUHJvZHVjdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XHJcbiAgICBwcm9kdWN0X2xpc3Q6IChwcm9kdWN0LCB2YXJpZWRhZGVzID0gW10sYXZnX3JldmlldyA9IDAsY291bnRfcmV2aWV3PTApID0+IHtcclxuICAgICAgICB2YXIgSU1BR0VOX1RXTyA9IFwiXCI7XHJcbiAgICAgICAgbGV0IEdBTEVSSUFTID0gW107XHJcbiAgICAgICAgICAgIGlmKHByb2R1Y3QuZ2FsZXJpYXMgJiYgcHJvZHVjdC5nYWxlcmlhcy5sZW5ndGggPiAwKXsvL05VRVZPIFBPUiBBR1JFR0FSXHJcbiAgICAgICAgICAgICAgICAgR0FMRVJJQVMgPSBwcm9kdWN0LmdhbGVyaWFzLm1hcCgoZ2FsZXJpYSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgIGdhbGVyaWEuaW1hZ2VuID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcrJy9hcGkvcHJvZHVjdHMvdXBsb2Fkcy9wcm9kdWN0LycrZ2FsZXJpYS5pbWFnZW47Ly8qXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnYWxlcmlhO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgIHZhciBWQUwgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwcm9kdWN0LmdhbGVyaWFzLmxlbmd0aCk7Ly8wLDEsMlxyXG4gICAgICAgICAgICAgICAgIElNQUdFTl9UV08gPSBHQUxFUklBU1tWQUxdLmltYWdlbjtcclxuICAgICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgX2lkOiBwcm9kdWN0Ll9pZCwgLy8gQWNjZWRlIGFsIF9pZCBlbiBsdWdhciBkZSBpZFxyXG4gICAgICAgICAgICB0aXRsZTogcHJvZHVjdC50aXRsZSxcclxuICAgICAgICAgICAgaW1hZ2VuOidodHRwOi8vbG9jYWxob3N0OjMwMDAnKycvYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC8nKyBwcm9kdWN0LnBvcnRhZGEsLy9mYWx0YW4gY29tcGxlbnRhclxyXG4gICAgICAgICAgICBza3U6cHJvZHVjdC5za3UsIFxyXG4gICAgICAgICAgICBzbHVnOiBwcm9kdWN0LnNsdWcsXHJcbiAgICAgICAgICAgIGNhdGVnb3JpYTogcHJvZHVjdC5jYXRlZ29yaWEsXHJcbiAgICAgICAgICAgIHByaWNlX2NvcDogcHJvZHVjdC5wcmljZV9jb3AsXHJcbiAgICAgICAgICAgIHByaWNlX3VzZDogcHJvZHVjdC5wcmljZV91c2QsXHJcbiAgICAgICAgICAgIHN0b2NrOiBwcm9kdWN0LnN0b2NrLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogcHJvZHVjdC5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgcmVzdW1lbjogcHJvZHVjdC5yZXN1bWVuLFxyXG4gICAgICAgICAgICB0YWdzOiBwcm9kdWN0LnRhZ3MgPyBKU09OLnBhcnNlKCBwcm9kdWN0LnRhZ3MpOltdLFxyXG4gICAgICAgICAgICB0eXBlX2ludmVudGFyaW86IHByb2R1Y3QudHlwZV9pbnZlbnRhcmlvLFxyXG4gICAgICAgICAgICBzdGF0ZTogcHJvZHVjdC5zdGF0ZSxcclxuICAgICAgICAgICAgdmFyaWVkYWRlczogdmFyaWVkYWRlcyxcclxuICAgICAgICAgICAgaW1hZ2VuX3R3bzpJTUFHRU5fVFdPLFxyXG4gICAgICAgICAgICBnYWxlcmlhczogR0FMRVJJQVMsXHJcbiAgICAgICAgICAgIGF2Z19yZXZpZXc6YXZnX3JldmlldyxcclxuICAgICAgICAgICAgY291bnRfcmV2aWV3OmNvdW50X3JldmlldyxcclxuXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztpQ0FBZTtFQUNYQSxZQUFZLEVBQUVBLENBQUNDLE9BQU8sRUFBRUMsVUFBVSxHQUFHLEVBQUUsRUFBQ0MsVUFBVSxHQUFHLENBQUMsRUFBQ0MsWUFBWSxHQUFDLENBQUMsS0FBSztJQUN0RSxJQUFJQyxVQUFVLEdBQUcsRUFBRTtJQUNuQixJQUFJQyxRQUFRLEdBQUcsRUFBRTtJQUNiLElBQUdMLE9BQU8sQ0FBQ00sUUFBUSxJQUFJTixPQUFPLENBQUNNLFFBQVEsQ0FBQ0MsTUFBTSxHQUFHLENBQUMsRUFBQztNQUFDO01BQy9DRixRQUFRLEdBQUdMLE9BQU8sQ0FBQ00sUUFBUSxDQUFDRSxHQUFHLENBQUVDLE9BQU8sSUFBSztRQUM3Q0EsT0FBTyxDQUFDQyxNQUFNLEdBQUcsdUJBQXVCLEdBQUMsZ0NBQWdDLEdBQUNELE9BQU8sQ0FBQ0MsTUFBTSxDQUFDO1FBQ2xGLE9BQU9ELE9BQU87TUFDbEIsQ0FBQyxDQUFDO01BQ0wsSUFBSUUsR0FBRyxHQUFHQyxJQUFJLENBQUNDLEtBQUssQ0FBQ0QsSUFBSSxDQUFDRSxNQUFNLENBQUMsQ0FBQyxHQUFHZCxPQUFPLENBQUNNLFFBQVEsQ0FBQ0MsTUFBTSxDQUFDLENBQUM7TUFDOURILFVBQVUsR0FBR0MsUUFBUSxDQUFDTSxHQUFHLENBQUMsQ0FBQ0QsTUFBTTtJQUN2QztJQUNILE9BQU87TUFDSEssR0FBRyxFQUFFZixPQUFPLENBQUNlLEdBQUc7TUFBRTtNQUNsQkMsS0FBSyxFQUFFaEIsT0FBTyxDQUFDZ0IsS0FBSztNQUNwQk4sTUFBTSxFQUFDLHVCQUF1QixHQUFDLGdDQUFnQyxHQUFFVixPQUFPLENBQUNpQixPQUFPO01BQUM7TUFDakZDLEdBQUcsRUFBQ2xCLE9BQU8sQ0FBQ2tCLEdBQUc7TUFDZkMsSUFBSSxFQUFFbkIsT0FBTyxDQUFDbUIsSUFBSTtNQUNsQkMsU0FBUyxFQUFFcEIsT0FBTyxDQUFDb0IsU0FBUztNQUM1QkMsU0FBUyxFQUFFckIsT0FBTyxDQUFDcUIsU0FBUztNQUM1QkMsU0FBUyxFQUFFdEIsT0FBTyxDQUFDc0IsU0FBUztNQUM1QkMsS0FBSyxFQUFFdkIsT0FBTyxDQUFDdUIsS0FBSztNQUNwQkMsV0FBVyxFQUFFeEIsT0FBTyxDQUFDd0IsV0FBVztNQUNoQ0MsT0FBTyxFQUFFekIsT0FBTyxDQUFDeUIsT0FBTztNQUN4QkMsSUFBSSxFQUFFMUIsT0FBTyxDQUFDMEIsSUFBSSxHQUFHQyxJQUFJLENBQUNDLEtBQUssQ0FBRTVCLE9BQU8sQ0FBQzBCLElBQUksQ0FBQyxHQUFDLEVBQUU7TUFDakRHLGVBQWUsRUFBRTdCLE9BQU8sQ0FBQzZCLGVBQWU7TUFDeENDLEtBQUssRUFBRTlCLE9BQU8sQ0FBQzhCLEtBQUs7TUFDcEI3QixVQUFVLEVBQUVBLFVBQVU7TUFDdEI4QixVQUFVLEVBQUMzQixVQUFVO01BQ3JCRSxRQUFRLEVBQUVELFFBQVE7TUFDbEJILFVBQVUsRUFBQ0EsVUFBVTtNQUNyQkMsWUFBWSxFQUFDQTtJQUVqQixDQUFDO0VBQ0w7QUFDSixDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["product_list","product","variedades","avg_review","count_review","IMAGEN_TWO","GALERIAS","galerias","length","map","galeria","imagen","VAL","Math","floor","random","_id","title","portada","sku","slug","categoria","price_cop","price_usd","stock","description","resumen","tags","JSON","parse","type_inventario","state","imagen_two"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\resources\\","sources":["Product.js"],"sourcesContent":["export default {\r\n    product_list: (product, variedades = [],avg_review = 0,count_review=0) => {\r\n        var IMAGEN_TWO = \"\";\r\n        let GALERIAS = [];\r\n            if(product.galerias && product.galerias.length > 0){//NUEVO POR AGREGAR\r\n                 GALERIAS = product.galerias.map((galeria) => {\r\n                 galeria.imagen = 'http://localhost:3000'+'/api/products/uploads/product/'+galeria.imagen;//*\r\n                        return galeria;\r\n                    });\r\n                 var VAL = Math.floor(Math.random() * product.galerias.length);//0,1,2\r\n                 IMAGEN_TWO = GALERIAS[VAL].imagen;\r\n           }\r\n        return {\r\n            _id: product._id, // Accede al _id en lugar de id\r\n            title: product.title,\r\n            imagen:'http://localhost:3000'+'/api/products/uploads/product/'+ product.portada,//faltan complentar\r\n            sku:product.sku, \r\n            slug: product.slug,\r\n            categoria: product.categoria,\r\n            price_cop: product.price_cop,\r\n            price_usd: product.price_usd,\r\n            stock: product.stock,\r\n            description: product.description,\r\n            resumen: product.resumen,\r\n            tags: product.tags ? JSON.parse( product.tags):[],\r\n            type_inventario: product.type_inventario,\r\n            state: product.state,\r\n            variedades: variedades,\r\n            imagen_two:IMAGEN_TWO,\r\n            galerias: GALERIAS,\r\n            avg_review:avg_review,\r\n            count_review:count_review,\r\n\r\n        };\r\n    }\r\n}\r\n"],"mappings":";;;;;;iCAAe;EACXA,YAAY,EAAEA,CAACC,OAAO,EAAEC,UAAU,GAAG,EAAE,EAACC,UAAU,GAAG,CAAC,EAACC,YAAY,GAAC,CAAC,KAAK;IACtE,IAAIC,UAAU,GAAG,EAAE;IACnB,IAAIC,QAAQ,GAAG,EAAE;IACb,IAAGL,OAAO,CAACM,QAAQ,IAAIN,OAAO,CAACM,QAAQ,CAACC,MAAM,GAAG,CAAC,EAAC;MAAC;MAC/CF,QAAQ,GAAGL,OAAO,CAACM,QAAQ,CAACE,GAAG,CAAEC,OAAO,IAAK;QAC7CA,OAAO,CAACC,MAAM,GAAG,uBAAuB,GAAC,gCAAgC,GAACD,OAAO,CAACC,MAAM,CAAC;QAClF,OAAOD,OAAO;MAClB,CAAC,CAAC;MACL,IAAIE,GAAG,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGd,OAAO,CAACM,QAAQ,CAACC,MAAM,CAAC,CAAC;MAC9DH,UAAU,GAAGC,QAAQ,CAACM,GAAG,CAAC,CAACD,MAAM;IACvC;IACH,OAAO;MACHK,GAAG,EAAEf,OAAO,CAACe,GAAG;MAAE;MAClBC,KAAK,EAAEhB,OAAO,CAACgB,KAAK;MACpBN,MAAM,EAAC,uBAAuB,GAAC,gCAAgC,GAAEV,OAAO,CAACiB,OAAO;MAAC;MACjFC,GAAG,EAAClB,OAAO,CAACkB,GAAG;MACfC,IAAI,EAAEnB,OAAO,CAACmB,IAAI;MAClBC,SAAS,EAAEpB,OAAO,CAACoB,SAAS;MAC5BC,SAAS,EAAErB,OAAO,CAACqB,SAAS;MAC5BC,SAAS,EAAEtB,OAAO,CAACsB,SAAS;MAC5BC,KAAK,EAAEvB,OAAO,CAACuB,KAAK;MACpBC,WAAW,EAAExB,OAAO,CAACwB,WAAW;MAChCC,OAAO,EAAEzB,OAAO,CAACyB,OAAO;MACxBC,IAAI,EAAE1B,OAAO,CAAC0B,IAAI,GAAGC,IAAI,CAACC,KAAK,CAAE5B,OAAO,CAAC0B,IAAI,CAAC,GAAC,EAAE;MACjDG,eAAe,EAAE7B,OAAO,CAAC6B,eAAe;MACxCC,KAAK,EAAE9B,OAAO,CAAC8B,KAAK;MACpB7B,UAAU,EAAEA,UAAU;MACtB8B,UAAU,EAAC3B,UAAU;MACrBE,QAAQ,EAAED,QAAQ;MAClBH,UAAU,EAACA,UAAU;MACrBC,YAAY,EAACA;IAEjB,CAAC;EACL;AACJ,CAAC","ignoreList":[]}},"mtime":1718081127080},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\resources\\\\Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  product_list: (product, variedades = [], avg_review = 0, count_review = 0) => {\n    var IMAGEN_TWO = \"\";\n    let GALERIAS = [];\n    if (product.galerias && product.galerias.length > 0) {\n      //NUEVO POR AGREGAR\n      GALERIAS = product.galerias.map(galeria => {\n        galeria.imagen = 'http://localhost:3000' + '/api/products/uploads/product/' + galeria.imagen; //*\n        return galeria;\n      });\n      var VAL = Math.floor(Math.random() * product.galerias.length); //0,1,2\n      IMAGEN_TWO = GALERIAS[VAL].imagen;\n    }\n    return {\n      _id: product._id,\n      // Accede al _id en lugar de id\n      title: product.title,\n      imagen: 'http://localhost:3000' + '/api/products/uploads/product/' + product.portada,\n      //faltan complentar\n      sku: product.sku,\n      slug: product.slug,\n      categoria: product.categoria,\n      price_cop: product.price_cop,\n      price_usd: product.price_usd,\n      stock: product.stock,\n      description: product.description,\n      resumen: product.resumen,\n      tags: product.tags ? JSON.parse(product.tags) : [],\n      type_inventario: product.type_inventario,\n      state: product.state,\n      variedades: variedades,\n      imagen_two: IMAGEN_TWO,\n      galerias: GALERIAS,\n      avg_review: avg_review,\n      count_review: count_review\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJwcm9kdWN0X2xpc3QiLCJwcm9kdWN0IiwidmFyaWVkYWRlcyIsImF2Z19yZXZpZXciLCJjb3VudF9yZXZpZXciLCJJTUFHRU5fVFdPIiwiR0FMRVJJQVMiLCJnYWxlcmlhcyIsImxlbmd0aCIsIm1hcCIsImdhbGVyaWEiLCJpbWFnZW4iLCJWQUwiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJfaWQiLCJ0aXRsZSIsInBvcnRhZGEiLCJza3UiLCJzbHVnIiwiY2F0ZWdvcmlhIiwicHJpY2VfY29wIiwicHJpY2VfdXNkIiwic3RvY2siLCJkZXNjcmlwdGlvbiIsInJlc3VtZW4iLCJ0YWdzIiwiSlNPTiIsInBhcnNlIiwidHlwZV9pbnZlbnRhcmlvIiwic3RhdGUiLCJpbWFnZW5fdHdvIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxyZXNvdXJjZXNcXCIsInNvdXJjZXMiOlsiUHJvZHVjdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XHJcbiAgICBwcm9kdWN0X2xpc3Q6IChwcm9kdWN0LCB2YXJpZWRhZGVzID0gW10sYXZnX3JldmlldyA9IDAsY291bnRfcmV2aWV3PTApID0+IHtcclxuICAgICAgICB2YXIgSU1BR0VOX1RXTyA9IFwiXCI7XHJcbiAgICAgICAgbGV0IEdBTEVSSUFTID0gW107XHJcbiAgICAgICAgICAgIGlmKHByb2R1Y3QuZ2FsZXJpYXMgJiYgcHJvZHVjdC5nYWxlcmlhcy5sZW5ndGggPiAwKXsvL05VRVZPIFBPUiBBR1JFR0FSXHJcbiAgICAgICAgICAgICAgICAgR0FMRVJJQVMgPSBwcm9kdWN0LmdhbGVyaWFzLm1hcCgoZ2FsZXJpYSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgIGdhbGVyaWEuaW1hZ2VuID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcrJy9hcGkvcHJvZHVjdHMvdXBsb2Fkcy9wcm9kdWN0LycrZ2FsZXJpYS5pbWFnZW47Ly8qXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnYWxlcmlhO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgIHZhciBWQUwgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwcm9kdWN0LmdhbGVyaWFzLmxlbmd0aCk7Ly8wLDEsMlxyXG4gICAgICAgICAgICAgICAgIElNQUdFTl9UV08gPSBHQUxFUklBU1tWQUxdLmltYWdlbjtcclxuICAgICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgX2lkOiBwcm9kdWN0Ll9pZCwgLy8gQWNjZWRlIGFsIF9pZCBlbiBsdWdhciBkZSBpZFxyXG4gICAgICAgICAgICB0aXRsZTogcHJvZHVjdC50aXRsZSxcclxuICAgICAgICAgICAgaW1hZ2VuOidodHRwOi8vbG9jYWxob3N0OjMwMDAnKycvYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC8nKyBwcm9kdWN0LnBvcnRhZGEsLy9mYWx0YW4gY29tcGxlbnRhclxyXG4gICAgICAgICAgICBza3U6cHJvZHVjdC5za3UsIFxyXG4gICAgICAgICAgICBzbHVnOiBwcm9kdWN0LnNsdWcsXHJcbiAgICAgICAgICAgIGNhdGVnb3JpYTogcHJvZHVjdC5jYXRlZ29yaWEsXHJcbiAgICAgICAgICAgIHByaWNlX2NvcDogcHJvZHVjdC5wcmljZV9jb3AsXHJcbiAgICAgICAgICAgIHByaWNlX3VzZDogcHJvZHVjdC5wcmljZV91c2QsXHJcbiAgICAgICAgICAgIHN0b2NrOiBwcm9kdWN0LnN0b2NrLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogcHJvZHVjdC5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgcmVzdW1lbjogcHJvZHVjdC5yZXN1bWVuLFxyXG4gICAgICAgICAgICB0YWdzOiBwcm9kdWN0LnRhZ3MgPyBKU09OLnBhcnNlKCBwcm9kdWN0LnRhZ3MpOltdLFxyXG4gICAgICAgICAgICB0eXBlX2ludmVudGFyaW86IHByb2R1Y3QudHlwZV9pbnZlbnRhcmlvLFxyXG4gICAgICAgICAgICBzdGF0ZTogcHJvZHVjdC5zdGF0ZSxcclxuICAgICAgICAgICAgdmFyaWVkYWRlczogdmFyaWVkYWRlcyxcclxuICAgICAgICAgICAgaW1hZ2VuX3R3bzpJTUFHRU5fVFdPLFxyXG4gICAgICAgICAgICBnYWxlcmlhczogR0FMRVJJQVMsXHJcbiAgICAgICAgICAgIGF2Z19yZXZpZXc6YXZnX3JldmlldyxcclxuICAgICAgICAgICAgY291bnRfcmV2aWV3OmNvdW50X3JldmlldyxcclxuXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztpQ0FBZTtFQUNYQSxZQUFZLEVBQUVBLENBQUNDLE9BQU8sRUFBRUMsVUFBVSxHQUFHLEVBQUUsRUFBQ0MsVUFBVSxHQUFHLENBQUMsRUFBQ0MsWUFBWSxHQUFDLENBQUMsS0FBSztJQUN0RSxJQUFJQyxVQUFVLEdBQUcsRUFBRTtJQUNuQixJQUFJQyxRQUFRLEdBQUcsRUFBRTtJQUNiLElBQUdMLE9BQU8sQ0FBQ00sUUFBUSxJQUFJTixPQUFPLENBQUNNLFFBQVEsQ0FBQ0MsTUFBTSxHQUFHLENBQUMsRUFBQztNQUFDO01BQy9DRixRQUFRLEdBQUdMLE9BQU8sQ0FBQ00sUUFBUSxDQUFDRSxHQUFHLENBQUVDLE9BQU8sSUFBSztRQUM3Q0EsT0FBTyxDQUFDQyxNQUFNLEdBQUcsdUJBQXVCLEdBQUMsZ0NBQWdDLEdBQUNELE9BQU8sQ0FBQ0MsTUFBTSxDQUFDO1FBQ2xGLE9BQU9ELE9BQU87TUFDbEIsQ0FBQyxDQUFDO01BQ0wsSUFBSUUsR0FBRyxHQUFHQyxJQUFJLENBQUNDLEtBQUssQ0FBQ0QsSUFBSSxDQUFDRSxNQUFNLENBQUMsQ0FBQyxHQUFHZCxPQUFPLENBQUNNLFFBQVEsQ0FBQ0MsTUFBTSxDQUFDLENBQUM7TUFDOURILFVBQVUsR0FBR0MsUUFBUSxDQUFDTSxHQUFHLENBQUMsQ0FBQ0QsTUFBTTtJQUN2QztJQUNILE9BQU87TUFDSEssR0FBRyxFQUFFZixPQUFPLENBQUNlLEdBQUc7TUFBRTtNQUNsQkMsS0FBSyxFQUFFaEIsT0FBTyxDQUFDZ0IsS0FBSztNQUNwQk4sTUFBTSxFQUFDLHVCQUF1QixHQUFDLGdDQUFnQyxHQUFFVixPQUFPLENBQUNpQixPQUFPO01BQUM7TUFDakZDLEdBQUcsRUFBQ2xCLE9BQU8sQ0FBQ2tCLEdBQUc7TUFDZkMsSUFBSSxFQUFFbkIsT0FBTyxDQUFDbUIsSUFBSTtNQUNsQkMsU0FBUyxFQUFFcEIsT0FBTyxDQUFDb0IsU0FBUztNQUM1QkMsU0FBUyxFQUFFckIsT0FBTyxDQUFDcUIsU0FBUztNQUM1QkMsU0FBUyxFQUFFdEIsT0FBTyxDQUFDc0IsU0FBUztNQUM1QkMsS0FBSyxFQUFFdkIsT0FBTyxDQUFDdUIsS0FBSztNQUNwQkMsV0FBVyxFQUFFeEIsT0FBTyxDQUFDd0IsV0FBVztNQUNoQ0MsT0FBTyxFQUFFekIsT0FBTyxDQUFDeUIsT0FBTztNQUN4QkMsSUFBSSxFQUFFMUIsT0FBTyxDQUFDMEIsSUFBSSxHQUFHQyxJQUFJLENBQUNDLEtBQUssQ0FBRTVCLE9BQU8sQ0FBQzBCLElBQUksQ0FBQyxHQUFDLEVBQUU7TUFDakRHLGVBQWUsRUFBRTdCLE9BQU8sQ0FBQzZCLGVBQWU7TUFDeENDLEtBQUssRUFBRTlCLE9BQU8sQ0FBQzhCLEtBQUs7TUFDcEI3QixVQUFVLEVBQUVBLFVBQVU7TUFDdEI4QixVQUFVLEVBQUMzQixVQUFVO01BQ3JCRSxRQUFRLEVBQUVELFFBQVE7TUFDbEJILFVBQVUsRUFBQ0EsVUFBVTtNQUNyQkMsWUFBWSxFQUFDQTtJQUVqQixDQUFDO0VBQ0w7QUFDSixDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["product_list","product","variedades","avg_review","count_review","IMAGEN_TWO","GALERIAS","galerias","length","map","galeria","imagen","VAL","Math","floor","random","_id","title","portada","sku","slug","categoria","price_cop","price_usd","stock","description","resumen","tags","JSON","parse","type_inventario","state","imagen_two"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\resources\\","sources":["Product.js"],"sourcesContent":["export default {\r\n    product_list: (product, variedades = [],avg_review = 0,count_review=0) => {\r\n        var IMAGEN_TWO = \"\";\r\n        let GALERIAS = [];\r\n            if(product.galerias && product.galerias.length > 0){//NUEVO POR AGREGAR\r\n                 GALERIAS = product.galerias.map((galeria) => {\r\n                 galeria.imagen = 'http://localhost:3000'+'/api/products/uploads/product/'+galeria.imagen;//*\r\n                        return galeria;\r\n                    });\r\n                 var VAL = Math.floor(Math.random() * product.galerias.length);//0,1,2\r\n                 IMAGEN_TWO = GALERIAS[VAL].imagen;\r\n           }\r\n        return {\r\n            _id: product._id, // Accede al _id en lugar de id\r\n            title: product.title,\r\n            imagen:'http://localhost:3000'+'/api/products/uploads/product/'+ product.portada,//faltan complentar\r\n            sku:product.sku, \r\n            slug: product.slug,\r\n            categoria: product.categoria,\r\n            price_cop: product.price_cop,\r\n            price_usd: product.price_usd,\r\n            stock: product.stock,\r\n            description: product.description,\r\n            resumen: product.resumen,\r\n            tags: product.tags ? JSON.parse( product.tags):[],\r\n            type_inventario: product.type_inventario,\r\n            state: product.state,\r\n            variedades: variedades,\r\n            imagen_two:IMAGEN_TWO,\r\n            galerias: GALERIAS,\r\n            avg_review:avg_review,\r\n            count_review:count_review,\r\n\r\n        };\r\n    }\r\n}\r\n"],"mappings":";;;;;;iCAAe;EACXA,YAAY,EAAEA,CAACC,OAAO,EAAEC,UAAU,GAAG,EAAE,EAACC,UAAU,GAAG,CAAC,EAACC,YAAY,GAAC,CAAC,KAAK;IACtE,IAAIC,UAAU,GAAG,EAAE;IACnB,IAAIC,QAAQ,GAAG,EAAE;IACb,IAAGL,OAAO,CAACM,QAAQ,IAAIN,OAAO,CAACM,QAAQ,CAACC,MAAM,GAAG,CAAC,EAAC;MAAC;MAC/CF,QAAQ,GAAGL,OAAO,CAACM,QAAQ,CAACE,GAAG,CAAEC,OAAO,IAAK;QAC7CA,OAAO,CAACC,MAAM,GAAG,uBAAuB,GAAC,gCAAgC,GAACD,OAAO,CAACC,MAAM,CAAC;QAClF,OAAOD,OAAO;MAClB,CAAC,CAAC;MACL,IAAIE,GAAG,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGd,OAAO,CAACM,QAAQ,CAACC,MAAM,CAAC,CAAC;MAC9DH,UAAU,GAAGC,QAAQ,CAACM,GAAG,CAAC,CAACD,MAAM;IACvC;IACH,OAAO;MACHK,GAAG,EAAEf,OAAO,CAACe,GAAG;MAAE;MAClBC,KAAK,EAAEhB,OAAO,CAACgB,KAAK;MACpBN,MAAM,EAAC,uBAAuB,GAAC,gCAAgC,GAAEV,OAAO,CAACiB,OAAO;MAAC;MACjFC,GAAG,EAAClB,OAAO,CAACkB,GAAG;MACfC,IAAI,EAAEnB,OAAO,CAACmB,IAAI;MAClBC,SAAS,EAAEpB,OAAO,CAACoB,SAAS;MAC5BC,SAAS,EAAErB,OAAO,CAACqB,SAAS;MAC5BC,SAAS,EAAEtB,OAAO,CAACsB,SAAS;MAC5BC,KAAK,EAAEvB,OAAO,CAACuB,KAAK;MACpBC,WAAW,EAAExB,OAAO,CAACwB,WAAW;MAChCC,OAAO,EAAEzB,OAAO,CAACyB,OAAO;MACxBC,IAAI,EAAE1B,OAAO,CAAC0B,IAAI,GAAGC,IAAI,CAACC,KAAK,CAAE5B,OAAO,CAAC0B,IAAI,CAAC,GAAC,EAAE;MACjDG,eAAe,EAAE7B,OAAO,CAAC6B,eAAe;MACxCC,KAAK,EAAE9B,OAAO,CAAC8B,KAAK;MACpB7B,UAAU,EAAEA,UAAU;MACtB8B,UAAU,EAAC3B,UAAU;MACrBE,QAAQ,EAAED,QAAQ;MAClBH,UAAU,EAACA,UAAU;MACrBC,YAAY,EAACA;IAEjB,CAAC;EACL;AACJ,CAAC","ignoreList":[]}},"mtime":1718081127080},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _ProductController = _interopRequireDefault(require(\"../controllers/ProductController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _VariedadController = _interopRequireDefault(require(\"../controllers/VariedadController\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//ojo con el nombre\n\nconst router = (0, _expressPromiseRouter.default)();\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/product'\n});\n//http://localhost:3000/api/users/register\n//http://localhost:3000/api/users/update\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _ProductController.default.register);\nrouter.post(\"/register_imagen\", [_auth.default.verifyAdmin, path], _ProductController.default.register_imagen);\nrouter.post(\"/remove_imagen\", [_auth.default.verifyAdmin, path], _ProductController.default.remove_imagen);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _ProductController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _ProductController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _ProductController.default.remove);\nrouter.get(\"/uploads/product/:img\", _ProductController.default.obtener_imagen);\nrouter.get(\"/show/:id\", _ProductController.default.show);\n\n//varieda\n\nrouter.post(\"/register-variedad\", [_auth.default.verifyAdmin, path], _VariedadController.default.register);\nrouter.put(\"/update-variedad\", [_auth.default.verifyAdmin, path], _VariedadController.default.update);\nrouter.delete(\"/delete-variedad/:id\", [_auth.default.verifyAdmin, path], _VariedadController.default.delete);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Qcm9kdWN0Q29udHJvbGxlciIsIl9hdXRoIiwiX1ZhcmllZGFkQ29udHJvbGxlciIsIl9jb25uZWN0TXVsdGlwYXJ0eSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsInBhdGgiLCJtdWx0eXBhcnR5IiwidXBsb2FkRGlyIiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlBZG1pbiIsInByb2R1Y3Rjb250cm9sbGVyIiwicmVnaXN0ZXIiLCJyZWdpc3Rlcl9pbWFnZW4iLCJyZW1vdmVfaW1hZ2VuIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImRlbGV0ZSIsInJlbW92ZSIsIm9idGVuZXJfaW1hZ2VuIiwic2hvdyIsInZhcmllZGFkQ29udHJvbGxlciIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxud29ybFxcRXNjcml0b3Jpb1xcUHJvZ3JhbWFjacOzblxcRWNvbW1lcmNlU29saXRla1xcYXBpX2Vjb21tZXJjZVxccm91dGVyXFwiLCJzb3VyY2VzIjpbIlByb2R1Y3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSBcImV4cHJlc3MtcHJvbWlzZS1yb3V0ZXJcIlxyXG5pbXBvcnQgcHJvZHVjdGNvbnRyb2xsZXIgZnJvbSBcIi4uL2NvbnRyb2xsZXJzL1Byb2R1Y3RDb250cm9sbGVyXCIvL29qbyBjb24gZWwgbm9tYnJlXHJcbmltcG9ydCBhdXRoIGZyb20gXCIuLi9taWRkbGV3YXJlcy9hdXRoXCI7XHJcbmltcG9ydCB2YXJpZWRhZENvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvVmFyaWVkYWRDb250cm9sbGVyJ1xyXG5cclxuaW1wb3J0IG11bHR5cGFydHkgZnJvbSAnY29ubmVjdC1tdWx0aXBhcnR5J1xyXG5pbXBvcnQgVmFyaWVkYWRDb250cm9sbGVyIGZyb20gXCIuLi9jb250cm9sbGVycy9WYXJpZWRhZENvbnRyb2xsZXJcIjtcclxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xyXG52YXIgcGF0aCA9IG11bHR5cGFydHkoe3VwbG9hZERpcjonLi91cGxvYWRzL3Byb2R1Y3QnfSk7XHJcbi8vaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2Vycy9yZWdpc3RlclxyXG4vL2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlcnMvdXBkYXRlXHJcblxyXG5cclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSxwcm9kdWN0Y29udHJvbGxlci5yZWdpc3Rlcik7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3Rlcl9pbWFnZW5cIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSxwcm9kdWN0Y29udHJvbGxlci5yZWdpc3Rlcl9pbWFnZW4pO1xyXG5yb3V0ZXIucG9zdChcIi9yZW1vdmVfaW1hZ2VuXCIsW2F1dGgudmVyaWZ5QWRtaW4scGF0aF0scHJvZHVjdGNvbnRyb2xsZXIucmVtb3ZlX2ltYWdlbik7XHJcblxyXG5cclxucm91dGVyLnB1dChcIi91cGRhdGVcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSxwcm9kdWN0Y29udHJvbGxlci51cGRhdGUpO1xyXG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIixhdXRoLnZlcmlmeUFkbWluLHByb2R1Y3Rjb250cm9sbGVyLmxpc3QpO1xyXG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZVwiLGF1dGgudmVyaWZ5QWRtaW4scHJvZHVjdGNvbnRyb2xsZXIucmVtb3ZlKTtcclxuXHJcblxyXG5yb3V0ZXIuZ2V0KFwiL3VwbG9hZHMvcHJvZHVjdC86aW1nXCIscHJvZHVjdGNvbnRyb2xsZXIub2J0ZW5lcl9pbWFnZW4pO1xyXG5cclxucm91dGVyLmdldChcIi9zaG93LzppZFwiLHByb2R1Y3Rjb250cm9sbGVyLnNob3cpO1xyXG5cclxuLy92YXJpZWRhXHJcblxyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3Rlci12YXJpZWRhZFwiLFthdXRoLnZlcmlmeUFkbWluLHBhdGhdLHZhcmllZGFkQ29udHJvbGxlci5yZWdpc3Rlcik7XHJcbnJvdXRlci5wdXQoXCIvdXBkYXRlLXZhcmllZGFkXCIsW2F1dGgudmVyaWZ5QWRtaW4scGF0aF0sdmFyaWVkYWRDb250cm9sbGVyLnVwZGF0ZSk7XHJcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlLXZhcmllZGFkLzppZFwiLFthdXRoLnZlcmlmeUFkbWluLHBhdGhdLHZhcmllZGFkQ29udHJvbGxlci5kZWxldGUpO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxrQkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsbUJBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUVBLElBQUFJLGtCQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFBMkMsU0FBQUQsdUJBQUFNLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFKcUI7O0FBTWhFLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFDeEIsSUFBSUMsSUFBSSxHQUFHLElBQUFDLDBCQUFVLEVBQUM7RUFBQ0MsU0FBUyxFQUFDO0FBQW1CLENBQUMsQ0FBQztBQUN0RDtBQUNBOztBQUdBSixNQUFNLENBQUNLLElBQUksQ0FBQyxXQUFXLEVBQUMsQ0FBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUNMLElBQUksQ0FBQyxFQUFDTSwwQkFBaUIsQ0FBQ0MsUUFBUSxDQUFDO0FBRTNFVCxNQUFNLENBQUNLLElBQUksQ0FBQyxrQkFBa0IsRUFBQyxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBQ0wsSUFBSSxDQUFDLEVBQUNNLDBCQUFpQixDQUFDRSxlQUFlLENBQUM7QUFDekZWLE1BQU0sQ0FBQ0ssSUFBSSxDQUFDLGdCQUFnQixFQUFDLENBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFDTCxJQUFJLENBQUMsRUFBQ00sMEJBQWlCLENBQUNHLGFBQWEsQ0FBQztBQUdyRlgsTUFBTSxDQUFDWSxHQUFHLENBQUMsU0FBUyxFQUFDLENBQUNOLGFBQUksQ0FBQ0MsV0FBVyxFQUFDTCxJQUFJLENBQUMsRUFBQ00sMEJBQWlCLENBQUNLLE1BQU0sQ0FBQztBQUN0RWIsTUFBTSxDQUFDYyxHQUFHLENBQUMsT0FBTyxFQUFDUixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMEJBQWlCLENBQUNPLElBQUksQ0FBQztBQUMzRGYsTUFBTSxDQUFDZ0IsTUFBTSxDQUFDLFNBQVMsRUFBQ1YsYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDBCQUFpQixDQUFDUyxNQUFNLENBQUM7QUFHbEVqQixNQUFNLENBQUNjLEdBQUcsQ0FBQyx1QkFBdUIsRUFBQ04sMEJBQWlCLENBQUNVLGNBQWMsQ0FBQztBQUVwRWxCLE1BQU0sQ0FBQ2MsR0FBRyxDQUFDLFdBQVcsRUFBQ04sMEJBQWlCLENBQUNXLElBQUksQ0FBQzs7QUFFOUM7O0FBRUFuQixNQUFNLENBQUNLLElBQUksQ0FBQyxvQkFBb0IsRUFBQyxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBQ0wsSUFBSSxDQUFDLEVBQUNrQiwyQkFBa0IsQ0FBQ1gsUUFBUSxDQUFDO0FBQ3JGVCxNQUFNLENBQUNZLEdBQUcsQ0FBQyxrQkFBa0IsRUFBQyxDQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0wsSUFBSSxDQUFDLEVBQUNrQiwyQkFBa0IsQ0FBQ1AsTUFBTSxDQUFDO0FBQ2hGYixNQUFNLENBQUNnQixNQUFNLENBQUMsc0JBQXNCLEVBQUMsQ0FBQ1YsYUFBSSxDQUFDQyxXQUFXLEVBQUNMLElBQUksQ0FBQyxFQUFDa0IsMkJBQWtCLENBQUNKLE1BQU0sQ0FBQztBQUFDLElBQUFLLFFBQUEsR0FBQUMsT0FBQSxDQUFBdkIsT0FBQSxHQUd6RUMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_ProductController","_auth","_VariedadController","_connectMultiparty","obj","__esModule","default","router","routerx","path","multyparty","uploadDir","post","auth","verifyAdmin","productcontroller","register","register_imagen","remove_imagen","put","update","get","list","delete","remove","obtener_imagen","show","variedadController","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\router\\","sources":["Product.js"],"sourcesContent":["import routerx from \"express-promise-router\"\r\nimport productcontroller from \"../controllers/ProductController\"//ojo con el nombre\r\nimport auth from \"../middlewares/auth\";\r\nimport variedadController from '../controllers/VariedadController'\r\n\r\nimport multyparty from 'connect-multiparty'\r\nimport VariedadController from \"../controllers/VariedadController\";\r\nconst router = routerx();\r\nvar path = multyparty({uploadDir:'./uploads/product'});\r\n//http://localhost:3000/api/users/register\r\n//http://localhost:3000/api/users/update\r\n\r\n\r\nrouter.post(\"/register\",[auth.verifyAdmin,path],productcontroller.register);\r\n\r\nrouter.post(\"/register_imagen\",[auth.verifyAdmin,path],productcontroller.register_imagen);\r\nrouter.post(\"/remove_imagen\",[auth.verifyAdmin,path],productcontroller.remove_imagen);\r\n\r\n\r\nrouter.put(\"/update\",[auth.verifyAdmin,path],productcontroller.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,productcontroller.list);\r\nrouter.delete(\"/delete\",auth.verifyAdmin,productcontroller.remove);\r\n\r\n\r\nrouter.get(\"/uploads/product/:img\",productcontroller.obtener_imagen);\r\n\r\nrouter.get(\"/show/:id\",productcontroller.show);\r\n\r\n//varieda\r\n\r\nrouter.post(\"/register-variedad\",[auth.verifyAdmin,path],variedadController.register);\r\nrouter.put(\"/update-variedad\",[auth.verifyAdmin,path],variedadController.update);\r\nrouter.delete(\"/delete-variedad/:id\",[auth.verifyAdmin,path],variedadController.delete);\r\n\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,kBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,mBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAEA,IAAAI,kBAAA,GAAAL,sBAAA,CAAAC,OAAA;AAA2C,SAAAD,uBAAAM,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAJqB;;AAMhE,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxB,IAAIC,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAC;AAAmB,CAAC,CAAC;AACtD;AACA;;AAGAJ,MAAM,CAACK,IAAI,CAAC,WAAW,EAAC,CAACC,aAAI,CAACC,WAAW,EAACL,IAAI,CAAC,EAACM,0BAAiB,CAACC,QAAQ,CAAC;AAE3ET,MAAM,CAACK,IAAI,CAAC,kBAAkB,EAAC,CAACC,aAAI,CAACC,WAAW,EAACL,IAAI,CAAC,EAACM,0BAAiB,CAACE,eAAe,CAAC;AACzFV,MAAM,CAACK,IAAI,CAAC,gBAAgB,EAAC,CAACC,aAAI,CAACC,WAAW,EAACL,IAAI,CAAC,EAACM,0BAAiB,CAACG,aAAa,CAAC;AAGrFX,MAAM,CAACY,GAAG,CAAC,SAAS,EAAC,CAACN,aAAI,CAACC,WAAW,EAACL,IAAI,CAAC,EAACM,0BAAiB,CAACK,MAAM,CAAC;AACtEb,MAAM,CAACc,GAAG,CAAC,OAAO,EAACR,aAAI,CAACC,WAAW,EAACC,0BAAiB,CAACO,IAAI,CAAC;AAC3Df,MAAM,CAACgB,MAAM,CAAC,SAAS,EAACV,aAAI,CAACC,WAAW,EAACC,0BAAiB,CAACS,MAAM,CAAC;AAGlEjB,MAAM,CAACc,GAAG,CAAC,uBAAuB,EAACN,0BAAiB,CAACU,cAAc,CAAC;AAEpElB,MAAM,CAACc,GAAG,CAAC,WAAW,EAACN,0BAAiB,CAACW,IAAI,CAAC;;AAE9C;;AAEAnB,MAAM,CAACK,IAAI,CAAC,oBAAoB,EAAC,CAACC,aAAI,CAACC,WAAW,EAACL,IAAI,CAAC,EAACkB,2BAAkB,CAACX,QAAQ,CAAC;AACrFT,MAAM,CAACY,GAAG,CAAC,kBAAkB,EAAC,CAACN,aAAI,CAACC,WAAW,EAACL,IAAI,CAAC,EAACkB,2BAAkB,CAACP,MAAM,CAAC;AAChFb,MAAM,CAACgB,MAAM,CAAC,sBAAsB,EAAC,CAACV,aAAI,CAACC,WAAW,EAACL,IAAI,CAAC,EAACkB,2BAAkB,CAACJ,MAAM,CAAC;AAAC,IAAAK,QAAA,GAAAC,OAAA,CAAAvB,OAAA,GAGzEC,MAAM","ignoreList":[]}},"mtime":1717647229331},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\ProductController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let valid_Product = await _models.default.Product.findOne({\n        title: data.title\n      });\n      console.log(valid_Product);\n      if (valid_Product) {\n        res.status(200).json({\n          code: 403,\n          message: \"El producto ya existe\"\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g, '-').replace(/[^\\w-]+/g, ''); //poner cuidado si da error //remplazar espacioads\n      if (req.files) {\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        data.portada = portada_name;\n      }\n      let product = await _models.default.Product.create(data);\n      res.status(200).json(product);\n    } catch (error) {\n      res.status(500).send({\n        error\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      let valid_Product = await _models.default.Product.findOne({\n        title: data.title,\n        _id: {\n          $ne: data._id\n        }\n      }); //buscame un producto diferente en titulo\n\n      if (valid_Product) {\n        res.status(500).json({\n          code: 403,\n          message: \"El producto ya existe\"\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g, '-').replace(/[^\\w-]+/g, ''); //poner cuidado si da error //remplazar espacioads\n      if (req.files && req.files.imagen) {\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        data.portada = portada_name;\n      }\n      await _models.default.Product.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      res.status(200).json({\n        message: \"Producto actualizado\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"Ocurrio un problema\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var filter = [];\n      if (req.query.search && req.query.search.trim() !== '') {\n        filter.push({\n          title: new RegExp(req.query.search, \"i\")\n        });\n      }\n      if (req.query.categoria && req.query.categoria.trim() !== '') {\n        filter.push({\n          categoria: req.query.categoria\n        });\n      }\n      let products = [];\n      if (filter.length > 0) {\n        products = await _models.default.Product.find({\n          $and: filter\n        }).populate(\"categoria\");\n      } else {\n        products = await _models.default.Product.find().populate(\"categoria\");\n      }\n      //NUEVO *\n      products = products.map(product => {\n        return _resources.default.Product.product_list(product);\n      });\n      // NUEVO *\n      res.status(200).json({\n        products: products\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"Ocurrio un problema\"\n      });\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Product.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: \"El producto se eliminó\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"Ocurrio un problema\"\n      });\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/product/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/product/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  show: async (req, res) => {\n    try {\n      var product_id = req.params.id;\n      let PRODUCT = await _models.default.Product.findById({\n        _id: product_id\n      }).populate(\"categoria\");\n      let VARIEDADES = await _models.default.Variedad.find({\n        product: product_id\n      });\n      res.status(200).json({\n        product: _resources.default.Product.product_list(PRODUCT, VARIEDADES)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register_imagen: async (req, res) => {\n    try {\n      var img_path = req.files.imagen.path;\n      var name = img_path.split('\\\\');\n      var imagen_name = name[2];\n      let product = await _models.default.Product.findByIdAndUpdate({\n        _id: req.body._id\n      }, {\n        $push: {\n          galerias: {\n            imagen: imagen_name,\n            _id: req.body.__id //va con dos _ _ ojo\n          }\n        }\n      });\n      res.status(200).json({\n        message: \"la imagen se subio correctamente\",\n        imagen: {\n          imagen: 'http://localhost:3000' + '/api/products/uploads/product/' + imagen_name,\n          _id: req.body.__id\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"Ocurrio un problema\"\n      });\n    }\n  },\n  remove_imagen: async (req, res) => {\n    try {\n      await _models.default.Product.findByIdAndUpdate({\n        _id: req.body._id\n      }, {\n        $pull: {\n          galerias: {\n            _id: req.body.__id //va con dos _ _ ojo\n          }\n        }\n      });\n      res.status(200).json({\n        message: \"la imagen se ELIMINO correctamente\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"Ocurrio un problema\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3VyY2VzIiwiX2ZzIiwiX3BhdGgiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiZGF0YSIsImJvZHkiLCJ2YWxpZF9Qcm9kdWN0IiwibW9kZWxzIiwiUHJvZHVjdCIsImZpbmRPbmUiLCJ0aXRsZSIsImNvbnNvbGUiLCJsb2ciLCJzdGF0dXMiLCJqc29uIiwiY29kZSIsIm1lc3NhZ2UiLCJzbHVnIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwiZmlsZXMiLCJpbWdfcGF0aCIsImltYWdlbiIsInBhdGgiLCJuYW1lIiwic3BsaXQiLCJwb3J0YWRhX25hbWUiLCJwb3J0YWRhIiwicHJvZHVjdCIsImNyZWF0ZSIsImVycm9yIiwic2VuZCIsInVwZGF0ZSIsIl9pZCIsIiRuZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwibGlzdCIsImZpbHRlciIsInF1ZXJ5Iiwic2VhcmNoIiwidHJpbSIsInB1c2giLCJSZWdFeHAiLCJjYXRlZ29yaWEiLCJwcm9kdWN0cyIsImxlbmd0aCIsImZpbmQiLCIkYW5kIiwicG9wdWxhdGUiLCJtYXAiLCJyZXNvdXJjZXMiLCJwcm9kdWN0X2xpc3QiLCJyZW1vdmUiLCJmaW5kQnlJZEFuZERlbGV0ZSIsIm9idGVuZXJfaW1hZ2VuIiwiaW1nIiwicGFyYW1zIiwiZnMiLCJzdGF0IiwiZXJyIiwicGF0aF9pbWciLCJzZW5kRmlsZSIsInJlc29sdmUiLCJzaG93IiwicHJvZHVjdF9pZCIsImlkIiwiUFJPRFVDVCIsImZpbmRCeUlkIiwiVkFSSUVEQURFUyIsIlZhcmllZGFkIiwicmVnaXN0ZXJfaW1hZ2VuIiwiaW1hZ2VuX25hbWUiLCIkcHVzaCIsImdhbGVyaWFzIiwiX19pZCIsInJlbW92ZV9pbWFnZW4iLCIkcHVsbCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxud29ybFxcRXNjcml0b3Jpb1xcUHJvZ3JhbWFjacOzblxcRWNvbW1lcmNlU29saXRla1xcYXBpX2Vjb21tZXJjZVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiUHJvZHVjdENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCI7XHJcbmltcG9ydCByZXNvdXJjZXMgZnJvbSBcIi4uL3Jlc291cmNlc1wiO1xyXG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xyXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0e1xyXG4gICAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpPT57XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuXHJcbiAgICAgICAgICAgIGxldCB2YWxpZF9Qcm9kdWN0ID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZE9uZSh7dGl0bGU6IGRhdGEudGl0bGV9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2codmFsaWRfUHJvZHVjdCk7XHJcbiAgICAgICAgICAgIGlmKHZhbGlkX1Byb2R1Y3Qpe1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6NDAzLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6XCJFbCBwcm9kdWN0byB5YSBleGlzdGVcIlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgZGF0YS5zbHVnID0gZGF0YS50aXRsZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLyAvZywnLScpLnJlcGxhY2UoL1teXFx3LV0rL2csJycpOy8vcG9uZXIgY3VpZGFkbyBzaSBkYSBlcnJvciAvL3JlbXBsYXphciBlc3BhY2lvYWRzXHJcbiAgICAgICAgICAgIGlmKHJlcS5maWxlcyApe1xyXG4gICAgICAgICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLmltYWdlbi5wYXRoO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnXFxcXCcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBvcnRhZGFfbmFtZSA9IG5hbWVbMl07XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGRhdGEucG9ydGFkYSA9IHBvcnRhZGFfbmFtZTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBwcm9kdWN0ID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuY3JlYXRlKGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24ocHJvZHVjdCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgZXJyb3JcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHVwZGF0ZTogYXN5bmMocmVxLHJlcyk9PntcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xyXG5cclxuICAgICAgICAgICAgbGV0IHZhbGlkX1Byb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kT25lKHt0aXRsZTogZGF0YS50aXRsZSxfaWQ6eyRuZSA6IGRhdGEuX2lkfX0pOy8vYnVzY2FtZSB1biBwcm9kdWN0byBkaWZlcmVudGUgZW4gdGl0dWxvXHJcblxyXG4gICAgICAgICAgICBpZih2YWxpZF9Qcm9kdWN0KXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBjb2RlOjQwMyxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOlwiRWwgcHJvZHVjdG8geWEgZXhpc3RlXCJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgZGF0YS5zbHVnID0gZGF0YS50aXRsZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLyAvZywnLScpLnJlcGxhY2UoL1teXFx3LV0rL2csJycpOy8vcG9uZXIgY3VpZGFkbyBzaSBkYSBlcnJvciAvL3JlbXBsYXphciBlc3BhY2lvYWRzXHJcbiAgICAgICAgICAgIGlmKHJlcS5maWxlcyAmJiByZXEuZmlsZXMuaW1hZ2VuKXtcclxuICAgICAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5pbWFnZW4ucGF0aDtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJ1xcXFwnKTtcclxuICAgICAgICAgICAgICAgIHZhciBwb3J0YWRhX25hbWUgPSBuYW1lWzJdO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBkYXRhLnBvcnRhZGEgPSBwb3J0YWRhX25hbWU7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgIGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6ZGF0YS5faWR9LGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTpcIlByb2R1Y3RvIGFjdHVhbGl6YWRvXCIsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTpcIk9jdXJyaW8gdW4gcHJvYmxlbWFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSxcclxubGlzdDogYXN5bmMocmVxLHJlcyk9PntcclxuICAgIHRyeSB7XHJcbiAgICAgICAgdmFyIGZpbHRlciA9IFtdO1xyXG4gICAgICAgIGlmIChyZXEucXVlcnkuc2VhcmNoICYmIHJlcS5xdWVyeS5zZWFyY2gudHJpbSgpICE9PSAnJykgeyBcclxuICAgICAgICAgICAgZmlsdGVyLnB1c2goeyB0aXRsZTogbmV3IFJlZ0V4cChyZXEucXVlcnkuc2VhcmNoLCBcImlcIikgfSk7XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgICAgIGlmIChyZXEucXVlcnkuY2F0ZWdvcmlhICYmIHJlcS5xdWVyeS5jYXRlZ29yaWEudHJpbSgpICE9PSAnJykgeyBcclxuICAgICAgICAgICAgICBmaWx0ZXIucHVzaCh7IGNhdGVnb3JpYTogcmVxLnF1ZXJ5LmNhdGVnb3JpYSB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgICBcclxuICAgICAgICAgICBcclxuICAgICAgICAgIGxldCBwcm9kdWN0cyA9IFtdOyBcclxuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXIubGVuZ3RoID4gMCkgeyBcclxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoeyAkYW5kOiBmaWx0ZXIgfSkucG9wdWxhdGUoXCJjYXRlZ29yaWFcIik7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCgpLnBvcHVsYXRlKFwiY2F0ZWdvcmlhXCIpOyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4vL05VRVZPICpcclxuICAgICAgICAgICAgcHJvZHVjdHMgPSBwcm9kdWN0cy5tYXAocHJvZHVjdCA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb3VyY2VzLlByb2R1Y3QucHJvZHVjdF9saXN0KHByb2R1Y3QpO1xyXG4gICAgICAgICAgICB9KVxyXG4vLyBOVUVWTyAqXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIHByb2R1Y3RzOiBwcm9kdWN0cyxcclxuICAgICAgICAgICAgfSlcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICBtZXNzYWdlOlwiT2N1cnJpbyB1biBwcm9ibGVtYVwiXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG59LFxyXG5yZW1vdmU6IGFzeW5jKHJlcSxyZXMpPT57XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGxldCBfaWQgPSByZXEucXVlcnkuX2lkO1xyXG4gICAgICAgIGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6X2lkfSk7XHJcblxyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgbWVzc2FnZTpcIkVsIHByb2R1Y3RvIHNlIGVsaW1pbsOzXCJcclxuICAgICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICBtZXNzYWdlOlwiT2N1cnJpbyB1biBwcm9ibGVtYVwiXHJcbiAgICAgICAgfSk7IFxyXG4gICAgfVxyXG59LFxyXG5vYnRlbmVyX2ltYWdlbjogYXN5bmMocmVxLHJlcyk9PntcclxuICAgIHRyeSB7XHJcbiAgICAgICAgdmFyIGltZyA9IHJlcS5wYXJhbXNbJ2ltZyddO1xyXG5cclxuXHJcbiAgICAgICAgZnMuc3RhdCgnLi91cGxvYWRzL3Byb2R1Y3QvJytpbWcsIGZ1bmN0aW9uKGVycil7XHJcbiAgICAgICAgICAgIGlmKCFlcnIpe1xyXG4gICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9wcm9kdWN0LycraW1nO1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKHBhdGgucmVzb2x2ZShwYXRoX2ltZykpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvZGVmYXVsdC5qcGcnO1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKHBhdGgucmVzb2x2ZShwYXRoX2ltZykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgIH1cclxufSxcclxuc2hvdzphc3luYyhyZXEscmVzKT0+e1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB2YXIgcHJvZHVjdF9pZCA9IHJlcS5wYXJhbXMuaWQ7XHJcbiAgICAgICAgbGV0IFBST0RVQ1QgPSAgYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWQoe19pZDpwcm9kdWN0X2lkfSkucG9wdWxhdGUoXCJjYXRlZ29yaWFcIik7XHJcblxyXG4gICAgICAgIGxldCBWQVJJRURBREVTID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmQoe3Byb2R1Y3Q6IHByb2R1Y3RfaWR9KTtcclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgIHByb2R1Y3Q6IHJlc291cmNlcy5Qcm9kdWN0LnByb2R1Y3RfbGlzdChQUk9EVUNULCBWQVJJRURBREVTKSxcclxuICAgICAgICB9KVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgIH1cclxufSxcclxucmVnaXN0ZXJfaW1hZ2VuOiBhc3luYyhyZXEscmVzKT0+e1xyXG4gICAgdHJ5IHtcclxuICAgICAgIFxyXG4gICAgICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMuaW1hZ2VuLnBhdGg7XHJcbiAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJ1xcXFwnKTtcclxuICAgICAgICAgICAgdmFyIGltYWdlbl9uYW1lID0gbmFtZVsyXTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgIGxldCBwcm9kdWN0ID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDpyZXEuYm9keS5faWR9LHtcclxuICAgICAgICAgICAgJHB1c2g6e1xyXG4gICAgICAgICAgICAgICAgZ2FsZXJpYXM6IHtcclxuICAgICAgICAgICAgICAgICAgICBpbWFnZW46IGltYWdlbl9uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIF9pZDpyZXEuYm9keS5fX2lkLCAvL3ZhIGNvbiBkb3MgXyBfIG9qb1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIFxyXG5cclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgIG1lc3NhZ2U6XCJsYSBpbWFnZW4gc2Ugc3ViaW8gY29ycmVjdGFtZW50ZVwiLFxyXG4gICAgICAgICAgICBpbWFnZW46IHtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaW1hZ2VuOidodHRwOi8vbG9jYWxob3N0OjMwMDAnKycvYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC8nKyBpbWFnZW5fbmFtZSxcclxuICAgICAgICAgICAgICAgIF9pZDpyZXEuYm9keS5fX2lkLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgICBcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICBtZXNzYWdlOlwiT2N1cnJpbyB1biBwcm9ibGVtYVwiXHJcbiAgICAgICAgfSk7IFxyXG4gICAgfVxyXG59LFxyXG5yZW1vdmVfaW1hZ2VuOiBhc3luYyhyZXEscmVzKT0+e1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBcclxuICAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgIGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6cmVxLmJvZHkuX2lkfSx7XHJcbiAgICAgICAgJHB1bGw6e1xyXG4gICAgICAgICAgICBnYWxlcmlhczoge1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgX2lkOnJlcS5ib2R5Ll9faWQsIC8vdmEgY29uIGRvcyBfIF8gb2pvXHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICB9KVxyXG5cclxuICAgIFxyXG5cclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBtZXNzYWdlOlwibGEgaW1hZ2VuIHNlIEVMSU1JTk8gY29ycmVjdGFtZW50ZVwiLFxyXG4gICAgICAgXHJcbiAgICB9KVxyXG4gICAgICAgIFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgIG1lc3NhZ2U6XCJPY3VycmlvIHVuIHByb2JsZW1hXCJcclxuICAgICAgICB9KTsgXHJcbiAgICB9XHJcbn0sXHJcblxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFB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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resources","_fs","_path","obj","__esModule","default","_default","exports","register","req","res","data","body","valid_Product","models","Product","findOne","title","console","log","status","json","code","message","slug","toLowerCase","replace","files","img_path","imagen","path","name","split","portada_name","portada","product","create","error","send","update","_id","$ne","findByIdAndUpdate","list","filter","query","search","trim","push","RegExp","categoria","products","length","find","$and","populate","map","resources","product_list","remove","findByIdAndDelete","obtener_imagen","img","params","fs","stat","err","path_img","sendFile","resolve","show","product_id","id","PRODUCT","findById","VARIEDADES","Variedad","register_imagen","imagen_name","$push","galerias","__id","remove_imagen","$pull"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\controllers\\","sources":["ProductController.js"],"sourcesContent":["import models from \"../models\";\r\nimport resources from \"../resources\";\r\nimport fs from 'fs';\r\nimport path from 'path';\r\n\r\nexport default{\r\n    register: async(req,res)=>{\r\n        try {\r\n            let data = req.body;\r\n\r\n            let valid_Product = await models.Product.findOne({title: data.title});\r\n            console.log(valid_Product);\r\n            if(valid_Product){\r\n                res.status(200).json({\r\n                    code:403,\r\n                    message:\"El producto ya existe\"\r\n                });\r\n\r\n                return;\r\n            }\r\n\r\n\r\n            data.slug = data.title.toLowerCase().replace(/ /g,'-').replace(/[^\\w-]+/g,'');//poner cuidado si da error //remplazar espacioads\r\n            if(req.files ){\r\n                var img_path = req.files.imagen.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                \r\n                data.portada = portada_name;\r\n                \r\n            }\r\n            let product = await models.Product.create(data);\r\n\r\n            res.status(200).json(product);\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                error\r\n            });\r\n        }\r\n    },\r\n    update: async(req,res)=>{\r\n        try {\r\n            let data = req.body;\r\n\r\n            let valid_Product = await models.Product.findOne({title: data.title,_id:{$ne : data._id}});//buscame un producto diferente en titulo\r\n\r\n            if(valid_Product){\r\n                res.status(500).json({\r\n                    code:403,\r\n                    message:\"El producto ya existe\"\r\n                });\r\n                return;\r\n            }\r\n\r\n\r\n            data.slug = data.title.toLowerCase().replace(/ /g,'-').replace(/[^\\w-]+/g,'');//poner cuidado si da error //remplazar espacioads\r\n            if(req.files && req.files.imagen){\r\n                var img_path = req.files.imagen.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                \r\n                data.portada = portada_name;\r\n                \r\n            }\r\n           await models.Product.findByIdAndUpdate({_id:data._id},data);\r\n\r\n            res.status(200).json({\r\n                message:\"Producto actualizado\",\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"Ocurrio un problema\"\r\n            });\r\n        }\r\n\r\n    },\r\nlist: async(req,res)=>{\r\n    try {\r\n        var filter = [];\r\n        if (req.query.search && req.query.search.trim() !== '') { \r\n            filter.push({ title: new RegExp(req.query.search, \"i\") });\r\n           }\r\n           if (req.query.categoria && req.query.categoria.trim() !== '') { \r\n              filter.push({ categoria: req.query.categoria });\r\n          }\r\n           \r\n           \r\n          let products = []; \r\n                if (filter.length > 0) { \r\n                    products = await models.Product.find({ $and: filter }).populate(\"categoria\"); \r\n                        } else { \r\n                            products = await models.Product.find().populate(\"categoria\"); \r\n                        }\r\n//NUEVO *\r\n            products = products.map(product => {\r\n                return resources.Product.product_list(product);\r\n            })\r\n// NUEVO *\r\n            res.status(200).json({\r\n                products: products,\r\n            })\r\n    } catch (error) {\r\n        res.status(500).send({\r\n            message:\"Ocurrio un problema\"\r\n        });\r\n    }\r\n\r\n},\r\nremove: async(req,res)=>{\r\n    try {\r\n        let _id = req.query._id;\r\n        await models.Product.findByIdAndDelete({_id:_id});\r\n\r\n        res.status(200).json({\r\n            message:\"El producto se eliminó\"\r\n        });\r\n    } catch (error) {\r\n        res.status(500).send({\r\n            message:\"Ocurrio un problema\"\r\n        }); \r\n    }\r\n},\r\nobtener_imagen: async(req,res)=>{\r\n    try {\r\n        var img = req.params['img'];\r\n\r\n\r\n        fs.stat('./uploads/product/'+img, function(err){\r\n            if(!err){\r\n                let path_img = './uploads/product/'+img;\r\n                res.status(200).sendFile(path.resolve(path_img));\r\n            }else{\r\n                let path_img = './uploads/default.jpg';\r\n                res.status(200).sendFile(path.resolve(path_img));\r\n            }\r\n        })\r\n    \r\n    } catch (error) {\r\n        \r\n        res.status(500).send({\r\n            message: \"OCURRIO UN PROBLEMA\"\r\n            \r\n        });\r\n        console.log(error);\r\n    }\r\n},\r\nshow:async(req,res)=>{\r\n    try {\r\n        var product_id = req.params.id;\r\n        let PRODUCT =  await models.Product.findById({_id:product_id}).populate(\"categoria\");\r\n\r\n        let VARIEDADES = await models.Variedad.find({product: product_id});\r\n        res.status(200).json({\r\n            product: resources.Product.product_list(PRODUCT, VARIEDADES),\r\n        })\r\n    } catch (error) {\r\n        res.status(500).send({\r\n            message: \"OCURRIO UN PROBLEMA\"\r\n            \r\n        });\r\n        console.log(error);\r\n    }\r\n},\r\nregister_imagen: async(req,res)=>{\r\n    try {\r\n       \r\n            var img_path = req.files.imagen.path;\r\n            var name = img_path.split('\\\\');\r\n            var imagen_name = name[2];\r\n            \r\n         let product = await models.Product.findByIdAndUpdate({_id:req.body._id},{\r\n            $push:{\r\n                galerias: {\r\n                    imagen: imagen_name,\r\n                    _id:req.body.__id, //va con dos _ _ ojo\r\n\r\n                }\r\n            }\r\n        \r\n        })\r\n\r\n        \r\n\r\n        res.status(200).json({\r\n            message:\"la imagen se subio correctamente\",\r\n            imagen: {\r\n                \r\n                imagen:'http://localhost:3000'+'/api/products/uploads/product/'+ imagen_name,\r\n                _id:req.body.__id,\r\n            }\r\n        })\r\n              \r\n    } catch (error) {\r\n        res.status(500).send({\r\n            message:\"Ocurrio un problema\"\r\n        }); \r\n    }\r\n},\r\nremove_imagen: async(req,res)=>{\r\n    try {\r\n        \r\n      \r\n        \r\n      await models.Product.findByIdAndUpdate({_id:req.body._id},{\r\n        $pull:{\r\n            galerias: {\r\n              \r\n                _id:req.body.__id, //va con dos _ _ ojo\r\n\r\n            }\r\n        }\r\n    \r\n    })\r\n\r\n    \r\n\r\n    res.status(200).json({\r\n        message:\"la imagen se ELIMINO correctamente\",\r\n       \r\n    })\r\n        \r\n    } catch (error) {\r\n        res.status(500).send({\r\n            message:\"Ocurrio un problema\"\r\n        }); \r\n    }\r\n},\r\n\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1717865883956},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\Product.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _ProductController = _interopRequireDefault(require(\"../controllers/ProductController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _VariedadController = _interopRequireDefault(require(\"../controllers/VariedadController\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//ojo con el nombre\n\nconst router = (0, _expressPromiseRouter.default)();\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/product'\n});\n//http://localhost:3000/api/users/register\n//http://localhost:3000/api/users/update\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _ProductController.default.register);\nrouter.post(\"/register_imagen\", [_auth.default.verifyAdmin, path], _ProductController.default.register_imagen);\nrouter.post(\"/remove_imagen\", [_auth.default.verifyAdmin, path], _ProductController.default.remove_imagen);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _ProductController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _ProductController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _ProductController.default.remove);\nrouter.get(\"/uploads/product/:img\", _ProductController.default.obtener_imagen);\nrouter.get(\"/show/:id\", _ProductController.default.show);\n\n//varieda\n\nrouter.post(\"/register-variedad\", [_auth.default.verifyAdmin, path], _VariedadController.default.register);\nrouter.put(\"/update-variedad\", [_auth.default.verifyAdmin, path], _VariedadController.default.update);\nrouter.delete(\"/delete-variedad/:id\", [_auth.default.verifyAdmin, path], _VariedadController.default.delete);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Qcm9kdWN0Q29udHJvbGxlciIsIl9hdXRoIiwiX1ZhcmllZGFkQ29udHJvbGxlciIsIl9jb25uZWN0TXVsdGlwYXJ0eSIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsInBhdGgiLCJtdWx0eXBhcnR5IiwidXBsb2FkRGlyIiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlBZG1pbiIsInByb2R1Y3Rjb250cm9sbGVyIiwicmVnaXN0ZXIiLCJyZWdpc3Rlcl9pbWFnZW4iLCJyZW1vdmVfaW1hZ2VuIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImRlbGV0ZSIsInJlbW92ZSIsIm9idGVuZXJfaW1hZ2VuIiwic2hvdyIsInZhcmllZGFkQ29udHJvbGxlciIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxud29ybFxcRXNjcml0b3Jpb1xcUHJvZ3JhbWFjacOzblxcRWNvbW1lcmNlU29saXRla1xcYXBpX2Vjb21tZXJjZVxccm91dGVyXFwiLCJzb3VyY2VzIjpbIlByb2R1Y3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSBcImV4cHJlc3MtcHJvbWlzZS1yb3V0ZXJcIlxyXG5pbXBvcnQgcHJvZHVjdGNvbnRyb2xsZXIgZnJvbSBcIi4uL2NvbnRyb2xsZXJzL1Byb2R1Y3RDb250cm9sbGVyXCIvL29qbyBjb24gZWwgbm9tYnJlXHJcbmltcG9ydCBhdXRoIGZyb20gXCIuLi9taWRkbGV3YXJlcy9hdXRoXCI7XHJcbmltcG9ydCB2YXJpZWRhZENvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvVmFyaWVkYWRDb250cm9sbGVyJ1xyXG5cclxuaW1wb3J0IG11bHR5cGFydHkgZnJvbSAnY29ubmVjdC1tdWx0aXBhcnR5J1xyXG5pbXBvcnQgVmFyaWVkYWRDb250cm9sbGVyIGZyb20gXCIuLi9jb250cm9sbGVycy9WYXJpZWRhZENvbnRyb2xsZXJcIjtcclxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xyXG52YXIgcGF0aCA9IG11bHR5cGFydHkoe3VwbG9hZERpcjonLi91cGxvYWRzL3Byb2R1Y3QnfSk7XHJcbi8vaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2Vycy9yZWdpc3RlclxyXG4vL2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlcnMvdXBkYXRlXHJcblxyXG5cclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSxwcm9kdWN0Y29udHJvbGxlci5yZWdpc3Rlcik7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3Rlcl9pbWFnZW5cIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSxwcm9kdWN0Y29udHJvbGxlci5yZWdpc3Rlcl9pbWFnZW4pO1xyXG5yb3V0ZXIucG9zdChcIi9yZW1vdmVfaW1hZ2VuXCIsW2F1dGgudmVyaWZ5QWRtaW4scGF0aF0scHJvZHVjdGNvbnRyb2xsZXIucmVtb3ZlX2ltYWdlbik7XHJcblxyXG5cclxucm91dGVyLnB1dChcIi91cGRhdGVcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSxwcm9kdWN0Y29udHJvbGxlci51cGRhdGUpO1xyXG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIixhdXRoLnZlcmlmeUFkbWluLHByb2R1Y3Rjb250cm9sbGVyLmxpc3QpO1xyXG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZVwiLGF1dGgudmVyaWZ5QWRtaW4scHJvZHVjdGNvbnRyb2xsZXIucmVtb3ZlKTtcclxuXHJcblxyXG5yb3V0ZXIuZ2V0KFwiL3VwbG9hZHMvcHJvZHVjdC86aW1nXCIscHJvZHVjdGNvbnRyb2xsZXIub2J0ZW5lcl9pbWFnZW4pO1xyXG5cclxucm91dGVyLmdldChcIi9zaG93LzppZFwiLHByb2R1Y3Rjb250cm9sbGVyLnNob3cpO1xyXG5cclxuLy92YXJpZWRhXHJcblxyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3Rlci12YXJpZWRhZFwiLFthdXRoLnZlcmlmeUFkbWluLHBhdGhdLHZhcmllZGFkQ29udHJvbGxlci5yZWdpc3Rlcik7XHJcbnJvdXRlci5wdXQoXCIvdXBkYXRlLXZhcmllZGFkXCIsW2F1dGgudmVyaWZ5QWRtaW4scGF0aF0sdmFyaWVkYWRDb250cm9sbGVyLnVwZGF0ZSk7XHJcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlLXZhcmllZGFkLzppZFwiLFthdXRoLnZlcmlmeUFkbWluLHBhdGhdLHZhcmllZGFkQ29udHJvbGxlci5kZWxldGUpO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxrQkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsbUJBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUVBLElBQUFJLGtCQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFBMkMsU0FBQUQsdUJBQUFNLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFKcUI7O0FBTWhFLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFDeEIsSUFBSUMsSUFBSSxHQUFHLElBQUFDLDBCQUFVLEVBQUM7RUFBQ0MsU0FBUyxFQUFDO0FBQW1CLENBQUMsQ0FBQztBQUN0RDtBQUNBOztBQUdBSixNQUFNLENBQUNLLElBQUksQ0FBQyxXQUFXLEVBQUMsQ0FBQ0MsYUFBSSxDQUFDQyxXQUFXLEVBQUNMLElBQUksQ0FBQyxFQUFDTSwwQkFBaUIsQ0FBQ0MsUUFBUSxDQUFDO0FBRTNFVCxNQUFNLENBQUNLLElBQUksQ0FBQyxrQkFBa0IsRUFBQyxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBQ0wsSUFBSSxDQUFDLEVBQUNNLDBCQUFpQixDQUFDRSxlQUFlLENBQUM7QUFDekZWLE1BQU0sQ0FBQ0ssSUFBSSxDQUFDLGdCQUFnQixFQUFDLENBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFDTCxJQUFJLENBQUMsRUFBQ00sMEJBQWlCLENBQUNHLGFBQWEsQ0FBQztBQUdyRlgsTUFBTSxDQUFDWSxHQUFHLENBQUMsU0FBUyxFQUFDLENBQUNOLGFBQUksQ0FBQ0MsV0FBVyxFQUFDTCxJQUFJLENBQUMsRUFBQ00sMEJBQWlCLENBQUNLLE1BQU0sQ0FBQztBQUN0RWIsTUFBTSxDQUFDYyxHQUFHLENBQUMsT0FBTyxFQUFDUixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMEJBQWlCLENBQUNPLElBQUksQ0FBQztBQUMzRGYsTUFBTSxDQUFDZ0IsTUFBTSxDQUFDLFNBQVMsRUFBQ1YsYUFBSSxDQUFDQyxXQUFXLEVBQUNDLDBCQUFpQixDQUFDUyxNQUFNLENBQUM7QUFHbEVqQixNQUFNLENBQUNjLEdBQUcsQ0FBQyx1QkFBdUIsRUFBQ04sMEJBQWlCLENBQUNVLGNBQWMsQ0FBQztBQUVwRWxCLE1BQU0sQ0FBQ2MsR0FBRyxDQUFDLFdBQVcsRUFBQ04sMEJBQWlCLENBQUNXLElBQUksQ0FBQzs7QUFFOUM7O0FBRUFuQixNQUFNLENBQUNLLElBQUksQ0FBQyxvQkFBb0IsRUFBQyxDQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBQ0wsSUFBSSxDQUFDLEVBQUNrQiwyQkFBa0IsQ0FBQ1gsUUFBUSxDQUFDO0FBQ3JGVCxNQUFNLENBQUNZLEdBQUcsQ0FBQyxrQkFBa0IsRUFBQyxDQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0wsSUFBSSxDQUFDLEVBQUNrQiwyQkFBa0IsQ0FBQ1AsTUFBTSxDQUFDO0FBQ2hGYixNQUFNLENBQUNnQixNQUFNLENBQUMsc0JBQXNCLEVBQUMsQ0FBQ1YsYUFBSSxDQUFDQyxXQUFXLEVBQUNMLElBQUksQ0FBQyxFQUFDa0IsMkJBQWtCLENBQUNKLE1BQU0sQ0FBQztBQUFDLElBQUFLLFFBQUEsR0FBQUMsT0FBQSxDQUFBdkIsT0FBQSxHQUd6RUMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_ProductController","_auth","_VariedadController","_connectMultiparty","obj","__esModule","default","router","routerx","path","multyparty","uploadDir","post","auth","verifyAdmin","productcontroller","register","register_imagen","remove_imagen","put","update","get","list","delete","remove","obtener_imagen","show","variedadController","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\router\\","sources":["Product.js"],"sourcesContent":["import routerx from \"express-promise-router\"\r\nimport productcontroller from \"../controllers/ProductController\"//ojo con el nombre\r\nimport auth from \"../middlewares/auth\";\r\nimport variedadController from '../controllers/VariedadController'\r\n\r\nimport multyparty from 'connect-multiparty'\r\nimport VariedadController from \"../controllers/VariedadController\";\r\nconst router = routerx();\r\nvar path = multyparty({uploadDir:'./uploads/product'});\r\n//http://localhost:3000/api/users/register\r\n//http://localhost:3000/api/users/update\r\n\r\n\r\nrouter.post(\"/register\",[auth.verifyAdmin,path],productcontroller.register);\r\n\r\nrouter.post(\"/register_imagen\",[auth.verifyAdmin,path],productcontroller.register_imagen);\r\nrouter.post(\"/remove_imagen\",[auth.verifyAdmin,path],productcontroller.remove_imagen);\r\n\r\n\r\nrouter.put(\"/update\",[auth.verifyAdmin,path],productcontroller.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,productcontroller.list);\r\nrouter.delete(\"/delete\",auth.verifyAdmin,productcontroller.remove);\r\n\r\n\r\nrouter.get(\"/uploads/product/:img\",productcontroller.obtener_imagen);\r\n\r\nrouter.get(\"/show/:id\",productcontroller.show);\r\n\r\n//varieda\r\n\r\nrouter.post(\"/register-variedad\",[auth.verifyAdmin,path],variedadController.register);\r\nrouter.put(\"/update-variedad\",[auth.verifyAdmin,path],variedadController.update);\r\nrouter.delete(\"/delete-variedad/:id\",[auth.verifyAdmin,path],variedadController.delete);\r\n\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,kBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,mBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAEA,IAAAI,kBAAA,GAAAL,sBAAA,CAAAC,OAAA;AAA2C,SAAAD,uBAAAM,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAJqB;;AAMhE,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxB,IAAIC,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAC;AAAmB,CAAC,CAAC;AACtD;AACA;;AAGAJ,MAAM,CAACK,IAAI,CAAC,WAAW,EAAC,CAACC,aAAI,CAACC,WAAW,EAACL,IAAI,CAAC,EAACM,0BAAiB,CAACC,QAAQ,CAAC;AAE3ET,MAAM,CAACK,IAAI,CAAC,kBAAkB,EAAC,CAACC,aAAI,CAACC,WAAW,EAACL,IAAI,CAAC,EAACM,0BAAiB,CAACE,eAAe,CAAC;AACzFV,MAAM,CAACK,IAAI,CAAC,gBAAgB,EAAC,CAACC,aAAI,CAACC,WAAW,EAACL,IAAI,CAAC,EAACM,0BAAiB,CAACG,aAAa,CAAC;AAGrFX,MAAM,CAACY,GAAG,CAAC,SAAS,EAAC,CAACN,aAAI,CAACC,WAAW,EAACL,IAAI,CAAC,EAACM,0BAAiB,CAACK,MAAM,CAAC;AACtEb,MAAM,CAACc,GAAG,CAAC,OAAO,EAACR,aAAI,CAACC,WAAW,EAACC,0BAAiB,CAACO,IAAI,CAAC;AAC3Df,MAAM,CAACgB,MAAM,CAAC,SAAS,EAACV,aAAI,CAACC,WAAW,EAACC,0BAAiB,CAACS,MAAM,CAAC;AAGlEjB,MAAM,CAACc,GAAG,CAAC,uBAAuB,EAACN,0BAAiB,CAACU,cAAc,CAAC;AAEpElB,MAAM,CAACc,GAAG,CAAC,WAAW,EAACN,0BAAiB,CAACW,IAAI,CAAC;;AAE9C;;AAEAnB,MAAM,CAACK,IAAI,CAAC,oBAAoB,EAAC,CAACC,aAAI,CAACC,WAAW,EAACL,IAAI,CAAC,EAACkB,2BAAkB,CAACX,QAAQ,CAAC;AACrFT,MAAM,CAACY,GAAG,CAAC,kBAAkB,EAAC,CAACN,aAAI,CAACC,WAAW,EAACL,IAAI,CAAC,EAACkB,2BAAkB,CAACP,MAAM,CAAC;AAChFb,MAAM,CAACgB,MAAM,CAAC,sBAAsB,EAAC,CAACV,aAAI,CAACC,WAAW,EAACL,IAAI,CAAC,EAACkB,2BAAkB,CAACJ,MAAM,CAAC;AAAC,IAAAK,QAAA,GAAAC,OAAA,CAAAvB,OAAA,GAGzEC,MAAM","ignoreList":[]}},"mtime":1717647229331},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\ProductController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let valid_Product = await _models.default.Product.findOne({\n        title: data.title\n      });\n      console.log(valid_Product);\n      if (valid_Product) {\n        res.status(200).json({\n          code: 403,\n          message: \"El producto ya existe\"\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g, '-').replace(/[^\\w-]+/g, ''); //poner cuidado si da error //remplazar espacioads\n      if (req.files) {\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        data.portada = portada_name;\n      }\n      let product = await _models.default.Product.create(data);\n      res.status(200).json(product);\n    } catch (error) {\n      res.status(500).send({\n        error\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      let valid_Product = await _models.default.Product.findOne({\n        title: data.title,\n        _id: {\n          $ne: data._id\n        }\n      }); //buscame un producto diferente en titulo\n\n      if (valid_Product) {\n        res.status(500).json({\n          code: 403,\n          message: \"El producto ya existe\"\n        });\n        return;\n      }\n      data.slug = data.title.toLowerCase().replace(/ /g, '-').replace(/[^\\w-]+/g, ''); //poner cuidado si da error //remplazar espacioads\n      if (req.files && req.files.imagen) {\n        var img_path = req.files.imagen.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        data.portada = portada_name;\n      }\n      await _models.default.Product.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      res.status(200).json({\n        message: \"Producto actualizado\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"Ocurrio un problema\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var filter = [];\n      if (req.query.search && req.query.search.trim() !== '') {\n        filter.push({\n          title: new RegExp(req.query.search, \"i\")\n        });\n      }\n      if (req.query.categoria && req.query.categoria.trim() !== '') {\n        filter.push({\n          categoria: req.query.categoria\n        });\n      }\n      let products = [];\n      if (filter.length > 0) {\n        products = await _models.default.Product.find({\n          $and: filter\n        }).populate(\"categoria\");\n      } else {\n        products = await _models.default.Product.find().populate(\"categoria\");\n      }\n      //NUEVO *\n      products = products.map(product => {\n        return _resources.default.Product.product_list(product);\n      });\n      // NUEVO *\n      res.status(200).json({\n        products: products\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"Ocurrio un problema\"\n      });\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Product.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: \"El producto se eliminó\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"Ocurrio un problema\"\n      });\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/product/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/product/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  show: async (req, res) => {\n    try {\n      var product_id = req.params.id;\n      let PRODUCT = await _models.default.Product.findById({\n        _id: product_id\n      }).populate(\"categoria\");\n      let VARIEDADES = await _models.default.Variedad.find({\n        product: product_id\n      });\n      res.status(200).json({\n        product: _resources.default.Product.product_list(PRODUCT, VARIEDADES)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  register_imagen: async (req, res) => {\n    try {\n      var img_path = req.files.imagen.path;\n      var name = img_path.split('\\\\');\n      var imagen_name = name[2];\n      let product = await _models.default.Product.findByIdAndUpdate({\n        _id: req.body._id\n      }, {\n        $push: {\n          galerias: {\n            imagen: imagen_name,\n            _id: req.body.__id //va con dos _ _ ojo\n          }\n        }\n      });\n      res.status(200).json({\n        message: \"la imagen se subio correctamente\",\n        imagen: {\n          imagen: 'http://localhost:3000' + '/api/products/uploads/product/' + imagen_name,\n          _id: req.body.__id\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"Ocurrio un problema\"\n      });\n    }\n  },\n  remove_imagen: async (req, res) => {\n    try {\n      await _models.default.Product.findByIdAndUpdate({\n        _id: req.body._id\n      }, {\n        $pull: {\n          galerias: {\n            _id: req.body.__id //va con dos _ _ ojo\n          }\n        }\n      });\n      res.status(200).json({\n        message: \"la imagen se ELIMINO correctamente\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"Ocurrio un problema\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3VyY2VzIiwiX2ZzIiwiX3BhdGgiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiZGF0YSIsImJvZHkiLCJ2YWxpZF9Qcm9kdWN0IiwibW9kZWxzIiwiUHJvZHVjdCIsImZpbmRPbmUiLCJ0aXRsZSIsImNvbnNvbGUiLCJsb2ciLCJzdGF0dXMiLCJqc29uIiwiY29kZSIsIm1lc3NhZ2UiLCJzbHVnIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwiZmlsZXMiLCJpbWdfcGF0aCIsImltYWdlbiIsInBhdGgiLCJuYW1lIiwic3BsaXQiLCJwb3J0YWRhX25hbWUiLCJwb3J0YWRhIiwicHJvZHVjdCIsImNyZWF0ZSIsImVycm9yIiwic2VuZCIsInVwZGF0ZSIsIl9pZCIsIiRuZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwibGlzdCIsImZpbHRlciIsInF1ZXJ5Iiwic2VhcmNoIiwidHJpbSIsInB1c2giLCJSZWdFeHAiLCJjYXRlZ29yaWEiLCJwcm9kdWN0cyIsImxlbmd0aCIsImZpbmQiLCIkYW5kIiwicG9wdWxhdGUiLCJtYXAiLCJyZXNvdXJjZXMiLCJwcm9kdWN0X2xpc3QiLCJyZW1vdmUiLCJmaW5kQnlJZEFuZERlbGV0ZSIsIm9idGVuZXJfaW1hZ2VuIiwiaW1nIiwicGFyYW1zIiwiZnMiLCJzdGF0IiwiZXJyIiwicGF0aF9pbWciLCJzZW5kRmlsZSIsInJlc29sdmUiLCJzaG93IiwicHJvZHVjdF9pZCIsImlkIiwiUFJPRFVDVCIsImZpbmRCeUlkIiwiVkFSSUVEQURFUyIsIlZhcmllZGFkIiwicmVnaXN0ZXJfaW1hZ2VuIiwiaW1hZ2VuX25hbWUiLCIkcHVzaCIsImdhbGVyaWFzIiwiX19pZCIsInJlbW92ZV9pbWFnZW4iLCIkcHVsbCJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxud29ybFxcRXNjcml0b3Jpb1xcUHJvZ3JhbWFjacOzblxcRWNvbW1lcmNlU29saXRla1xcYXBpX2Vjb21tZXJjZVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiUHJvZHVjdENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCI7XHJcbmltcG9ydCByZXNvdXJjZXMgZnJvbSBcIi4uL3Jlc291cmNlc1wiO1xyXG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xyXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0e1xyXG4gICAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpPT57XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuXHJcbiAgICAgICAgICAgIGxldCB2YWxpZF9Qcm9kdWN0ID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZE9uZSh7dGl0bGU6IGRhdGEudGl0bGV9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2codmFsaWRfUHJvZHVjdCk7XHJcbiAgICAgICAgICAgIGlmKHZhbGlkX1Byb2R1Y3Qpe1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6NDAzLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6XCJFbCBwcm9kdWN0byB5YSBleGlzdGVcIlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgZGF0YS5zbHVnID0gZGF0YS50aXRsZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLyAvZywnLScpLnJlcGxhY2UoL1teXFx3LV0rL2csJycpOy8vcG9uZXIgY3VpZGFkbyBzaSBkYSBlcnJvciAvL3JlbXBsYXphciBlc3BhY2lvYWRzXHJcbiAgICAgICAgICAgIGlmKHJlcS5maWxlcyApe1xyXG4gICAgICAgICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLmltYWdlbi5wYXRoO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnXFxcXCcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBvcnRhZGFfbmFtZSA9IG5hbWVbMl07XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGRhdGEucG9ydGFkYSA9IHBvcnRhZGFfbmFtZTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBwcm9kdWN0ID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuY3JlYXRlKGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24ocHJvZHVjdCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgZXJyb3JcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHVwZGF0ZTogYXN5bmMocmVxLHJlcyk9PntcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xyXG5cclxuICAgICAgICAgICAgbGV0IHZhbGlkX1Byb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kT25lKHt0aXRsZTogZGF0YS50aXRsZSxfaWQ6eyRuZSA6IGRhdGEuX2lkfX0pOy8vYnVzY2FtZSB1biBwcm9kdWN0byBkaWZlcmVudGUgZW4gdGl0dWxvXHJcblxyXG4gICAgICAgICAgICBpZih2YWxpZF9Qcm9kdWN0KXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBjb2RlOjQwMyxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOlwiRWwgcHJvZHVjdG8geWEgZXhpc3RlXCJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgZGF0YS5zbHVnID0gZGF0YS50aXRsZS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLyAvZywnLScpLnJlcGxhY2UoL1teXFx3LV0rL2csJycpOy8vcG9uZXIgY3VpZGFkbyBzaSBkYSBlcnJvciAvL3JlbXBsYXphciBlc3BhY2lvYWRzXHJcbiAgICAgICAgICAgIGlmKHJlcS5maWxlcyAmJiByZXEuZmlsZXMuaW1hZ2VuKXtcclxuICAgICAgICAgICAgICAgIHZhciBpbWdfcGF0aCA9IHJlcS5maWxlcy5pbWFnZW4ucGF0aDtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJ1xcXFwnKTtcclxuICAgICAgICAgICAgICAgIHZhciBwb3J0YWRhX25hbWUgPSBuYW1lWzJdO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBkYXRhLnBvcnRhZGEgPSBwb3J0YWRhX25hbWU7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgIGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6ZGF0YS5faWR9LGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTpcIlByb2R1Y3RvIGFjdHVhbGl6YWRvXCIsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTpcIk9jdXJyaW8gdW4gcHJvYmxlbWFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSxcclxubGlzdDogYXN5bmMocmVxLHJlcyk9PntcclxuICAgIHRyeSB7XHJcbiAgICAgICAgdmFyIGZpbHRlciA9IFtdO1xyXG4gICAgICAgIGlmIChyZXEucXVlcnkuc2VhcmNoICYmIHJlcS5xdWVyeS5zZWFyY2gudHJpbSgpICE9PSAnJykgeyBcclxuICAgICAgICAgICAgZmlsdGVyLnB1c2goeyB0aXRsZTogbmV3IFJlZ0V4cChyZXEucXVlcnkuc2VhcmNoLCBcImlcIikgfSk7XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgICAgIGlmIChyZXEucXVlcnkuY2F0ZWdvcmlhICYmIHJlcS5xdWVyeS5jYXRlZ29yaWEudHJpbSgpICE9PSAnJykgeyBcclxuICAgICAgICAgICAgICBmaWx0ZXIucHVzaCh7IGNhdGVnb3JpYTogcmVxLnF1ZXJ5LmNhdGVnb3JpYSB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgICBcclxuICAgICAgICAgICBcclxuICAgICAgICAgIGxldCBwcm9kdWN0cyA9IFtdOyBcclxuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXIubGVuZ3RoID4gMCkgeyBcclxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoeyAkYW5kOiBmaWx0ZXIgfSkucG9wdWxhdGUoXCJjYXRlZ29yaWFcIik7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCgpLnBvcHVsYXRlKFwiY2F0ZWdvcmlhXCIpOyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4vL05VRVZPICpcclxuICAgICAgICAgICAgcHJvZHVjdHMgPSBwcm9kdWN0cy5tYXAocHJvZHVjdCA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb3VyY2VzLlByb2R1Y3QucHJvZHVjdF9saXN0KHByb2R1Y3QpO1xyXG4gICAgICAgICAgICB9KVxyXG4vLyBOVUVWTyAqXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIHByb2R1Y3RzOiBwcm9kdWN0cyxcclxuICAgICAgICAgICAgfSlcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICBtZXNzYWdlOlwiT2N1cnJpbyB1biBwcm9ibGVtYVwiXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG59LFxyXG5yZW1vdmU6IGFzeW5jKHJlcSxyZXMpPT57XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGxldCBfaWQgPSByZXEucXVlcnkuX2lkO1xyXG4gICAgICAgIGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6X2lkfSk7XHJcblxyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgbWVzc2FnZTpcIkVsIHByb2R1Y3RvIHNlIGVsaW1pbsOzXCJcclxuICAgICAgICB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICBtZXNzYWdlOlwiT2N1cnJpbyB1biBwcm9ibGVtYVwiXHJcbiAgICAgICAgfSk7IFxyXG4gICAgfVxyXG59LFxyXG5vYnRlbmVyX2ltYWdlbjogYXN5bmMocmVxLHJlcyk9PntcclxuICAgIHRyeSB7XHJcbiAgICAgICAgdmFyIGltZyA9IHJlcS5wYXJhbXNbJ2ltZyddO1xyXG5cclxuXHJcbiAgICAgICAgZnMuc3RhdCgnLi91cGxvYWRzL3Byb2R1Y3QvJytpbWcsIGZ1bmN0aW9uKGVycil7XHJcbiAgICAgICAgICAgIGlmKCFlcnIpe1xyXG4gICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9wcm9kdWN0LycraW1nO1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKHBhdGgucmVzb2x2ZShwYXRoX2ltZykpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIGxldCBwYXRoX2ltZyA9ICcuL3VwbG9hZHMvZGVmYXVsdC5qcGcnO1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKHBhdGgucmVzb2x2ZShwYXRoX2ltZykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgIH1cclxufSxcclxuc2hvdzphc3luYyhyZXEscmVzKT0+e1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB2YXIgcHJvZHVjdF9pZCA9IHJlcS5wYXJhbXMuaWQ7XHJcbiAgICAgICAgbGV0IFBST0RVQ1QgPSAgYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWQoe19pZDpwcm9kdWN0X2lkfSkucG9wdWxhdGUoXCJjYXRlZ29yaWFcIik7XHJcblxyXG4gICAgICAgIGxldCBWQVJJRURBREVTID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmQoe3Byb2R1Y3Q6IHByb2R1Y3RfaWR9KTtcclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgIHByb2R1Y3Q6IHJlc291cmNlcy5Qcm9kdWN0LnByb2R1Y3RfbGlzdChQUk9EVUNULCBWQVJJRURBREVTKSxcclxuICAgICAgICB9KVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgIH1cclxufSxcclxucmVnaXN0ZXJfaW1hZ2VuOiBhc3luYyhyZXEscmVzKT0+e1xyXG4gICAgdHJ5IHtcclxuICAgICAgIFxyXG4gICAgICAgICAgICB2YXIgaW1nX3BhdGggPSByZXEuZmlsZXMuaW1hZ2VuLnBhdGg7XHJcbiAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJ1xcXFwnKTtcclxuICAgICAgICAgICAgdmFyIGltYWdlbl9uYW1lID0gbmFtZVsyXTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgIGxldCBwcm9kdWN0ID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDpyZXEuYm9keS5faWR9LHtcclxuICAgICAgICAgICAgJHB1c2g6e1xyXG4gICAgICAgICAgICAgICAgZ2FsZXJpYXM6IHtcclxuICAgICAgICAgICAgICAgICAgICBpbWFnZW46IGltYWdlbl9uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIF9pZDpyZXEuYm9keS5fX2lkLCAvL3ZhIGNvbiBkb3MgXyBfIG9qb1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIFxyXG5cclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgIG1lc3NhZ2U6XCJsYSBpbWFnZW4gc2Ugc3ViaW8gY29ycmVjdGFtZW50ZVwiLFxyXG4gICAgICAgICAgICBpbWFnZW46IHtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaW1hZ2VuOidodHRwOi8vbG9jYWxob3N0OjMwMDAnKycvYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC8nKyBpbWFnZW5fbmFtZSxcclxuICAgICAgICAgICAgICAgIF9pZDpyZXEuYm9keS5fX2lkLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgICBcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICBtZXNzYWdlOlwiT2N1cnJpbyB1biBwcm9ibGVtYVwiXHJcbiAgICAgICAgfSk7IFxyXG4gICAgfVxyXG59LFxyXG5yZW1vdmVfaW1hZ2VuOiBhc3luYyhyZXEscmVzKT0+e1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBcclxuICAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgIGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6cmVxLmJvZHkuX2lkfSx7XHJcbiAgICAgICAgJHB1bGw6e1xyXG4gICAgICAgICAgICBnYWxlcmlhczoge1xyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgX2lkOnJlcS5ib2R5Ll9faWQsIC8vdmEgY29uIGRvcyBfIF8gb2pvXHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICB9KVxyXG5cclxuICAgIFxyXG5cclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBtZXNzYWdlOlwibGEgaW1hZ2VuIHNlIEVMSU1JTk8gY29ycmVjdGFtZW50ZVwiLFxyXG4gICAgICAgXHJcbiAgICB9KVxyXG4gICAgICAgIFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgIG1lc3NhZ2U6XCJPY3VycmlvIHVuIHByb2JsZW1hXCJcclxuICAgICAgICB9KTsgXHJcbiAgICB9XHJcbn0sXHJcblxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFB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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resources","_fs","_path","obj","__esModule","default","_default","exports","register","req","res","data","body","valid_Product","models","Product","findOne","title","console","log","status","json","code","message","slug","toLowerCase","replace","files","img_path","imagen","path","name","split","portada_name","portada","product","create","error","send","update","_id","$ne","findByIdAndUpdate","list","filter","query","search","trim","push","RegExp","categoria","products","length","find","$and","populate","map","resources","product_list","remove","findByIdAndDelete","obtener_imagen","img","params","fs","stat","err","path_img","sendFile","resolve","show","product_id","id","PRODUCT","findById","VARIEDADES","Variedad","register_imagen","imagen_name","$push","galerias","__id","remove_imagen","$pull"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\controllers\\","sources":["ProductController.js"],"sourcesContent":["import models from \"../models\";\r\nimport resources from \"../resources\";\r\nimport fs from 'fs';\r\nimport path from 'path';\r\n\r\nexport default{\r\n    register: async(req,res)=>{\r\n        try {\r\n            let data = req.body;\r\n\r\n            let valid_Product = await models.Product.findOne({title: data.title});\r\n            console.log(valid_Product);\r\n            if(valid_Product){\r\n                res.status(200).json({\r\n                    code:403,\r\n                    message:\"El producto ya existe\"\r\n                });\r\n\r\n                return;\r\n            }\r\n\r\n\r\n            data.slug = data.title.toLowerCase().replace(/ /g,'-').replace(/[^\\w-]+/g,'');//poner cuidado si da error //remplazar espacioads\r\n            if(req.files ){\r\n                var img_path = req.files.imagen.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                \r\n                data.portada = portada_name;\r\n                \r\n            }\r\n            let product = await models.Product.create(data);\r\n\r\n            res.status(200).json(product);\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                error\r\n            });\r\n        }\r\n    },\r\n    update: async(req,res)=>{\r\n        try {\r\n            let data = req.body;\r\n\r\n            let valid_Product = await models.Product.findOne({title: data.title,_id:{$ne : data._id}});//buscame un producto diferente en titulo\r\n\r\n            if(valid_Product){\r\n                res.status(500).json({\r\n                    code:403,\r\n                    message:\"El producto ya existe\"\r\n                });\r\n                return;\r\n            }\r\n\r\n\r\n            data.slug = data.title.toLowerCase().replace(/ /g,'-').replace(/[^\\w-]+/g,'');//poner cuidado si da error //remplazar espacioads\r\n            if(req.files && req.files.imagen){\r\n                var img_path = req.files.imagen.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                \r\n                data.portada = portada_name;\r\n                \r\n            }\r\n           await models.Product.findByIdAndUpdate({_id:data._id},data);\r\n\r\n            res.status(200).json({\r\n                message:\"Producto actualizado\",\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"Ocurrio un problema\"\r\n            });\r\n        }\r\n\r\n    },\r\nlist: async(req,res)=>{\r\n    try {\r\n        var filter = [];\r\n        if (req.query.search && req.query.search.trim() !== '') { \r\n            filter.push({ title: new RegExp(req.query.search, \"i\") });\r\n           }\r\n           if (req.query.categoria && req.query.categoria.trim() !== '') { \r\n              filter.push({ categoria: req.query.categoria });\r\n          }\r\n           \r\n           \r\n          let products = []; \r\n                if (filter.length > 0) { \r\n                    products = await models.Product.find({ $and: filter }).populate(\"categoria\"); \r\n                        } else { \r\n                            products = await models.Product.find().populate(\"categoria\"); \r\n                        }\r\n//NUEVO *\r\n            products = products.map(product => {\r\n                return resources.Product.product_list(product);\r\n            })\r\n// NUEVO *\r\n            res.status(200).json({\r\n                products: products,\r\n            })\r\n    } catch (error) {\r\n        res.status(500).send({\r\n            message:\"Ocurrio un problema\"\r\n        });\r\n    }\r\n\r\n},\r\nremove: async(req,res)=>{\r\n    try {\r\n        let _id = req.query._id;\r\n        await models.Product.findByIdAndDelete({_id:_id});\r\n\r\n        res.status(200).json({\r\n            message:\"El producto se eliminó\"\r\n        });\r\n    } catch (error) {\r\n        res.status(500).send({\r\n            message:\"Ocurrio un problema\"\r\n        }); \r\n    }\r\n},\r\nobtener_imagen: async(req,res)=>{\r\n    try {\r\n        var img = req.params['img'];\r\n\r\n\r\n        fs.stat('./uploads/product/'+img, function(err){\r\n            if(!err){\r\n                let path_img = './uploads/product/'+img;\r\n                res.status(200).sendFile(path.resolve(path_img));\r\n            }else{\r\n                let path_img = './uploads/default.jpg';\r\n                res.status(200).sendFile(path.resolve(path_img));\r\n            }\r\n        })\r\n    \r\n    } catch (error) {\r\n        \r\n        res.status(500).send({\r\n            message: \"OCURRIO UN PROBLEMA\"\r\n            \r\n        });\r\n        console.log(error);\r\n    }\r\n},\r\nshow:async(req,res)=>{\r\n    try {\r\n        var product_id = req.params.id;\r\n        let PRODUCT =  await models.Product.findById({_id:product_id}).populate(\"categoria\");\r\n\r\n        let VARIEDADES = await models.Variedad.find({product: product_id});\r\n        res.status(200).json({\r\n            product: resources.Product.product_list(PRODUCT, VARIEDADES),\r\n        })\r\n    } catch (error) {\r\n        res.status(500).send({\r\n            message: \"OCURRIO UN PROBLEMA\"\r\n            \r\n        });\r\n        console.log(error);\r\n    }\r\n},\r\nregister_imagen: async(req,res)=>{\r\n    try {\r\n       \r\n            var img_path = req.files.imagen.path;\r\n            var name = img_path.split('\\\\');\r\n            var imagen_name = name[2];\r\n            \r\n         let product = await models.Product.findByIdAndUpdate({_id:req.body._id},{\r\n            $push:{\r\n                galerias: {\r\n                    imagen: imagen_name,\r\n                    _id:req.body.__id, //va con dos _ _ ojo\r\n\r\n                }\r\n            }\r\n        \r\n        })\r\n\r\n        \r\n\r\n        res.status(200).json({\r\n            message:\"la imagen se subio correctamente\",\r\n            imagen: {\r\n                \r\n                imagen:'http://localhost:3000'+'/api/products/uploads/product/'+ imagen_name,\r\n                _id:req.body.__id,\r\n            }\r\n        })\r\n              \r\n    } catch (error) {\r\n        res.status(500).send({\r\n            message:\"Ocurrio un problema\"\r\n        }); \r\n    }\r\n},\r\nremove_imagen: async(req,res)=>{\r\n    try {\r\n        \r\n      \r\n        \r\n      await models.Product.findByIdAndUpdate({_id:req.body._id},{\r\n        $pull:{\r\n            galerias: {\r\n              \r\n                _id:req.body.__id, //va con dos _ _ ojo\r\n\r\n            }\r\n        }\r\n    \r\n    })\r\n\r\n    \r\n\r\n    res.status(200).json({\r\n        message:\"la imagen se ELIMINO correctamente\",\r\n       \r\n    })\r\n        \r\n    } catch (error) {\r\n        res.status(500).send({\r\n            message:\"Ocurrio un problema\"\r\n        }); \r\n    }\r\n},\r\n\r\n}"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,GAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,KAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAAwB,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEV;EACVG,QAAQ,EAAE,MAAAA,CAAMC,GAAG,EAACC,GAAG,KAAG;IACtB,IAAI;MACA,IAAIC,IAAI,GAAGF,GAAG,CAACG,IAAI;MAEnB,IAAIC,aAAa,GAAG,MAAMC,eAAM,CAACC,OAAO,CAACC,OAAO,CAAC;QAACC,KAAK,EAAEN,IAAI,CAACM;MAAK,CAAC,CAAC;MACrEC,OAAO,CAACC,GAAG,CAACN,aAAa,CAAC;MAC1B,IAAGA,aAAa,EAAC;QACbH,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,IAAI,EAAC,GAAG;UACRC,OAAO,EAAC;QACZ,CAAC,CAAC;QAEF;MACJ;MAGAZ,IAAI,CAACa,IAAI,GAAGb,IAAI,CAACM,KAAK,CAACQ,WAAW,CAAC,CAAC,CAACC,OAAO,CAAC,IAAI,EAAC,GAAG,CAAC,CAACA,OAAO,CAAC,UAAU,EAAC,EAAE,CAAC,CAAC;MAC9E,IAAGjB,GAAG,CAACkB,KAAK,EAAE;QACV,IAAIC,QAAQ,GAAGnB,GAAG,CAACkB,KAAK,CAACE,MAAM,CAACC,IAAI;QACpC,IAAIC,IAAI,GAAGH,QAAQ,CAACI,KAAK,CAAC,IAAI,CAAC;QAC/B,IAAIC,YAAY,GAAGF,IAAI,CAAC,CAAC,CAAC;QAE1BpB,IAAI,CAACuB,OAAO,GAAGD,YAAY;MAE/B;MACA,IAAIE,OAAO,GAAG,MAAMrB,eAAM,CAACC,OAAO,CAACqB,MAAM,CAACzB,IAAI,CAAC;MAE/CD,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAACc,OAAO,CAAC;IACjC,CAAC,CAAC,OAAOE,KAAK,EAAE;MACZ3B,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACkB,IAAI,CAAC;QACjBD;MACJ,CAAC,CAAC;IACN;EACJ,CAAC;EACDE,MAAM,EAAE,MAAAA,CAAM9B,GAAG,EAACC,GAAG,KAAG;IACpB,IAAI;MACA,IAAIC,IAAI,GAAGF,GAAG,CAACG,IAAI;MAEnB,IAAIC,aAAa,GAAG,MAAMC,eAAM,CAACC,OAAO,CAACC,OAAO,CAAC;QAACC,KAAK,EAAEN,IAAI,CAACM,KAAK;QAACuB,GAAG,EAAC;UAACC,GAAG,EAAG9B,IAAI,CAAC6B;QAAG;MAAC,CAAC,CAAC,CAAC;;MAE3F,IAAG3B,aAAa,EAAC;QACbH,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;UACjBC,IAAI,EAAC,GAAG;UACRC,OAAO,EAAC;QACZ,CAAC,CAAC;QACF;MACJ;MAGAZ,IAAI,CAACa,IAAI,GAAGb,IAAI,CAACM,KAAK,CAACQ,WAAW,CAAC,CAAC,CAACC,OAAO,CAAC,IAAI,EAAC,GAAG,CAAC,CAACA,OAAO,CAAC,UAAU,EAAC,EAAE,CAAC,CAAC;MAC9E,IAAGjB,GAAG,CAACkB,KAAK,IAAIlB,GAAG,CAACkB,KAAK,CAACE,MAAM,EAAC;QAC7B,IAAID,QAAQ,GAAGnB,GAAG,CAACkB,KAAK,CAACE,MAAM,CAACC,IAAI;QACpC,IAAIC,IAAI,GAAGH,QAAQ,CAACI,KAAK,CAAC,IAAI,CAAC;QAC/B,IAAIC,YAAY,GAAGF,IAAI,CAAC,CAAC,CAAC;QAE1BpB,IAAI,CAACuB,OAAO,GAAGD,YAAY;MAE/B;MACD,MAAMnB,eAAM,CAACC,OAAO,CAAC2B,iBAAiB,CAAC;QAACF,GAAG,EAAC7B,IAAI,CAAC6B;MAAG,CAAC,EAAC7B,IAAI,CAAC;MAE1DD,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBE,OAAO,EAAC;MACZ,CAAC,CAAC;IACN,CAAC,CAAC,OAAOc,KAAK,EAAE;MACZ3B,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACkB,IAAI,CAAC;QACjBf,OAAO,EAAC;MACZ,CAAC,CAAC;IACN;EAEJ,CAAC;EACLoB,IAAI,EAAE,MAAAA,CAAMlC,GAAG,EAACC,GAAG,KAAG;IAClB,IAAI;MACA,IAAIkC,MAAM,GAAG,EAAE;MACf,IAAInC,GAAG,CAACoC,KAAK,CAACC,MAAM,IAAIrC,GAAG,CAACoC,KAAK,CAACC,MAAM,CAACC,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE;QACpDH,MAAM,CAACI,IAAI,CAAC;UAAE/B,KAAK,EAAE,IAAIgC,MAAM,CAACxC,GAAG,CAACoC,KAAK,CAACC,MAAM,EAAE,GAAG;QAAE,CAAC,CAAC;MAC1D;MACA,IAAIrC,GAAG,CAACoC,KAAK,CAACK,SAAS,IAAIzC,GAAG,CAACoC,KAAK,CAACK,SAAS,CAACH,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE;QAC3DH,MAAM,CAACI,IAAI,CAAC;UAAEE,SAAS,EAAEzC,GAAG,CAACoC,KAAK,CAACK;QAAU,CAAC,CAAC;MACnD;MAGA,IAAIC,QAAQ,GAAG,EAAE;MACX,IAAIP,MAAM,CAACQ,MAAM,GAAG,CAAC,EAAE;QACnBD,QAAQ,GAAG,MAAMrC,eAAM,CAACC,OAAO,CAACsC,IAAI,CAAC;UAAEC,IAAI,EAAEV;QAAO,CAAC,CAAC,CAACW,QAAQ,CAAC,WAAW,CAAC;MACxE,CAAC,MAAM;QACHJ,QAAQ,GAAG,MAAMrC,eAAM,CAACC,OAAO,CAACsC,IAAI,CAAC,CAAC,CAACE,QAAQ,CAAC,WAAW,CAAC;MAChE;MACxB;MACYJ,QAAQ,GAAGA,QAAQ,CAACK,GAAG,CAACrB,OAAO,IAAI;QAC/B,OAAOsB,kBAAS,CAAC1C,OAAO,CAAC2C,YAAY,CAACvB,OAAO,CAAC;MAClD,CAAC,CAAC;MACd;MACYzB,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjB8B,QAAQ,EAAEA;MACd,CAAC,CAAC;IACV,CAAC,CAAC,OAAOd,KAAK,EAAE;MACZ3B,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACkB,IAAI,CAAC;QACjBf,OAAO,EAAC;MACZ,CAAC,CAAC;IACN;EAEJ,CAAC;EACDoC,MAAM,EAAE,MAAAA,CAAMlD,GAAG,EAACC,GAAG,KAAG;IACpB,IAAI;MACA,IAAI8B,GAAG,GAAG/B,GAAG,CAACoC,KAAK,CAACL,GAAG;MACvB,MAAM1B,eAAM,CAACC,OAAO,CAAC6C,iBAAiB,CAAC;QAACpB,GAAG,EAACA;MAAG,CAAC,CAAC;MAEjD9B,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBE,OAAO,EAAC;MACZ,CAAC,CAAC;IACN,CAAC,CAAC,OAAOc,KAAK,EAAE;MACZ3B,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACkB,IAAI,CAAC;QACjBf,OAAO,EAAC;MACZ,CAAC,CAAC;IACN;EACJ,CAAC;EACDsC,cAAc,EAAE,MAAAA,CAAMpD,GAAG,EAACC,GAAG,KAAG;IAC5B,IAAI;MACA,IAAIoD,GAAG,GAAGrD,GAAG,CAACsD,MAAM,CAAC,KAAK,CAAC;MAG3BC,WAAE,CAACC,IAAI,CAAC,oBAAoB,GAACH,GAAG,EAAE,UAASI,GAAG,EAAC;QAC3C,IAAG,CAACA,GAAG,EAAC;UACJ,IAAIC,QAAQ,GAAG,oBAAoB,GAACL,GAAG;UACvCpD,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACgD,QAAQ,CAACtC,aAAI,CAACuC,OAAO,CAACF,QAAQ,CAAC,CAAC;QACpD,CAAC,MAAI;UACD,IAAIA,QAAQ,GAAG,uBAAuB;UACtCzD,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACgD,QAAQ,CAACtC,aAAI,CAACuC,OAAO,CAACF,QAAQ,CAAC,CAAC;QACpD;MACJ,CAAC,CAAC;IAEN,CAAC,CAAC,OAAO9B,KAAK,EAAE;MAEZ3B,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACkB,IAAI,CAAC;QACjBf,OAAO,EAAE;MAEb,CAAC,CAAC;MACFL,OAAO,CAACC,GAAG,CAACkB,KAAK,CAAC;IACtB;EACJ,CAAC;EACDiC,IAAI,EAAC,MAAAA,CAAM7D,GAAG,EAACC,GAAG,KAAG;IACjB,IAAI;MACA,IAAI6D,UAAU,GAAG9D,GAAG,CAACsD,MAAM,CAACS,EAAE;MAC9B,IAAIC,OAAO,GAAI,MAAM3D,eAAM,CAACC,OAAO,CAAC2D,QAAQ,CAAC;QAAClC,GAAG,EAAC+B;MAAU,CAAC,CAAC,CAAChB,QAAQ,CAAC,WAAW,CAAC;MAEpF,IAAIoB,UAAU,GAAG,MAAM7D,eAAM,CAAC8D,QAAQ,CAACvB,IAAI,CAAC;QAAClB,OAAO,EAAEoC;MAAU,CAAC,CAAC;MAClE7D,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBc,OAAO,EAAEsB,kBAAS,CAAC1C,OAAO,CAAC2C,YAAY,CAACe,OAAO,EAAEE,UAAU;MAC/D,CAAC,CAAC;IACN,CAAC,CAAC,OAAOtC,KAAK,EAAE;MACZ3B,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACkB,IAAI,CAAC;QACjBf,OAAO,EAAE;MAEb,CAAC,CAAC;MACFL,OAAO,CAACC,GAAG,CAACkB,KAAK,CAAC;IACtB;EACJ,CAAC;EACDwC,eAAe,EAAE,MAAAA,CAAMpE,GAAG,EAACC,GAAG,KAAG;IAC7B,IAAI;MAEI,IAAIkB,QAAQ,GAAGnB,GAAG,CAACkB,KAAK,CAACE,MAAM,CAACC,IAAI;MACpC,IAAIC,IAAI,GAAGH,QAAQ,CAACI,KAAK,CAAC,IAAI,CAAC;MAC/B,IAAI8C,WAAW,GAAG/C,IAAI,CAAC,CAAC,CAAC;MAE5B,IAAII,OAAO,GAAG,MAAMrB,eAAM,CAACC,OAAO,CAAC2B,iBAAiB,CAAC;QAACF,GAAG,EAAC/B,GAAG,CAACG,IAAI,CAAC4B;MAAG,CAAC,EAAC;QACrEuC,KAAK,EAAC;UACFC,QAAQ,EAAE;YACNnD,MAAM,EAAEiD,WAAW;YACnBtC,GAAG,EAAC/B,GAAG,CAACG,IAAI,CAACqE,IAAI,CAAE;UAEvB;QACJ;MAEJ,CAAC,CAAC;MAIFvE,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBE,OAAO,EAAC,kCAAkC;QAC1CM,MAAM,EAAE;UAEJA,MAAM,EAAC,uBAAuB,GAAC,gCAAgC,GAAEiD,WAAW;UAC5EtC,GAAG,EAAC/B,GAAG,CAACG,IAAI,CAACqE;QACjB;MACJ,CAAC,CAAC;IAEN,CAAC,CAAC,OAAO5C,KAAK,EAAE;MACZ3B,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACkB,IAAI,CAAC;QACjBf,OAAO,EAAC;MACZ,CAAC,CAAC;IACN;EACJ,CAAC;EACD2D,aAAa,EAAE,MAAAA,CAAMzE,GAAG,EAACC,GAAG,KAAG;IAC3B,IAAI;MAIF,MAAMI,eAAM,CAACC,OAAO,CAAC2B,iBAAiB,CAAC;QAACF,GAAG,EAAC/B,GAAG,CAACG,IAAI,CAAC4B;MAAG,CAAC,EAAC;QACxD2C,KAAK,EAAC;UACFH,QAAQ,EAAE;YAENxC,GAAG,EAAC/B,GAAG,CAACG,IAAI,CAACqE,IAAI,CAAE;UAEvB;QACJ;MAEJ,CAAC,CAAC;MAIFvE,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBE,OAAO,EAAC;MAEZ,CAAC,CAAC;IAEF,CAAC,CAAC,OAAOc,KAAK,EAAE;MACZ3B,GAAG,CAACU,MAAM,CAAC,GAAG,CAAC,CAACkB,IAAI,CAAC;QACjBf,OAAO,EAAC;MACZ,CAAC,CAAC;IACN;EACJ;AAEA,CAAC","ignoreList":[]}},"mtime":1717865883956},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\VariedadController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let variedad_exits = await _models.default.Variedad.findOne({\n        valor: data.valor,\n        product: data.product\n      });\n      var variedad = null;\n      if (variedad_exits) {\n        data.stock = variedad_exits.stock + data.stock;\n        await _models.default.Variedad.findByIdAndUpdate({\n          _id: variedad_exits._id\n        }, data);\n        variedad = await _models.default.Variedad.findById({\n          _id: variedad_exits._id\n        });\n      } else {\n        variedad = await _models.default.Variedad.create(data);\n      }\n      res.status(200).json({\n        variedad: variedad\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'Ocurrio problema'\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      await _models.default.Variedad.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let variedad = await _models.default.Variedad.findById({\n        _id: data._id\n      });\n      res.status(200).json({\n        variedad: variedad\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'Ocurrio problema'\n      });\n      console.log(error);\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.params.id;\n      await _models.default.Variedad.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: 'Eliminado'\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'Ocurrio problema'\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiZGF0YSIsImJvZHkiLCJ2YXJpZWRhZF9leGl0cyIsIm1vZGVscyIsIlZhcmllZGFkIiwiZmluZE9uZSIsInZhbG9yIiwicHJvZHVjdCIsInZhcmllZGFkIiwic3RvY2siLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIl9pZCIsImZpbmRCeUlkIiwiY3JlYXRlIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwic2VuZCIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIiwidXBkYXRlIiwiZGVsZXRlIiwicGFyYW1zIiwiaWQiLCJmaW5kQnlJZEFuZERlbGV0ZSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxud29ybFxcRXNjcml0b3Jpb1xcUHJvZ3JhbWFjacOzblxcRWNvbW1lcmNlU29saXRla1xcYXBpX2Vjb21tZXJjZVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiVmFyaWVkYWRDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbHMgZnJvbSAnLi4vbW9kZWxzJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHR7XHJcbiAgICByZWdpc3Rlcjphc3luYyhyZXEscmVzKT0+e1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xyXG5cclxuICAgICAgICAgbGV0IHZhcmllZGFkX2V4aXRzID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRPbmUoe3ZhbG9yOiBkYXRhLnZhbG9yLCBwcm9kdWN0OiBkYXRhLnByb2R1Y3R9KTtcclxuICAgICAgICAgICAgdmFyIHZhcmllZGFkID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIGlmKHZhcmllZGFkX2V4aXRzKXtcclxuICAgICAgICAgICAgICAgIGRhdGEuc3RvY2sgPSB2YXJpZWRhZF9leGl0cy5zdG9jayArIGRhdGEuc3RvY2s7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogdmFyaWVkYWRfZXhpdHMuX2lkfSxkYXRhKTtcclxuICAgICAgICAgICAgICAgIHZhcmllZGFkID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkKHtfaWQ6IHZhcmllZGFkX2V4aXRzLl9pZH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICB2YXJpZWRhZCA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5jcmVhdGUoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG5cclxuXHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgdmFyaWVkYWQ6IHZhcmllZGFkXHJcbiAgICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgbWVzc2FnZTonT2N1cnJpbyBwcm9ibGVtYSdcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICB9XHJcbiAgICB9LFxyXG4gICAgdXBkYXRlOmFzeW5jKHJlcSxyZXMpPT57XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuICAgIFxyXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogZGF0YS5faWR9LGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHZhcmllZGFkID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkKHtfaWQ6IGRhdGEuX2lkfSk7XHJcbiAgICBcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgdmFyaWVkYWQ6IHZhcmllZGFkXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6J09jdXJyaW8gcHJvYmxlbWEnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGRlbGV0ZTphc3luYyhyZXEscmVzKT0+e1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBfaWQgPSByZXEucGFyYW1zLmlkO1xyXG4gICAgXHJcbiAgICAgICAgICAgICBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZEJ5SWRBbmREZWxldGUoe19pZDogX2lkfSk7XHJcbiAgICBcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ0VsaW1pbmFkbydcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTonT2N1cnJpbyBwcm9ibGVtYSdcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBOEIsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUVoQjtFQUNWRyxRQUFRLEVBQUMsTUFBQUEsQ0FBTUMsR0FBRyxFQUFDQyxHQUFHLEtBQUc7SUFDekIsSUFBSTtNQUNBLElBQUlDLElBQUksR0FBR0YsR0FBRyxDQUFDRyxJQUFJO01BRWxCLElBQUlDLGNBQWMsR0FBRyxNQUFNQyxlQUFNLENBQUNDLFFBQVEsQ0FBQ0MsT0FBTyxDQUFDO1FBQUNDLEtBQUssRUFBRU4sSUFBSSxDQUFDTSxLQUFLO1FBQUVDLE9BQU8sRUFBRVAsSUFBSSxDQUFDTztNQUFPLENBQUMsQ0FBQztNQUMzRixJQUFJQyxRQUFRLEdBQUcsSUFBSTtNQUVuQixJQUFHTixjQUFjLEVBQUM7UUFDZEYsSUFBSSxDQUFDUyxLQUFLLEdBQUdQLGNBQWMsQ0FBQ08sS0FBSyxHQUFHVCxJQUFJLENBQUNTLEtBQUs7UUFDOUMsTUFBTU4sZUFBTSxDQUFDQyxRQUFRLENBQUNNLGlCQUFpQixDQUFDO1VBQUNDLEdBQUcsRUFBRVQsY0FBYyxDQUFDUztRQUFHLENBQUMsRUFBQ1gsSUFBSSxDQUFDO1FBQ3ZFUSxRQUFRLEdBQUcsTUFBTUwsZUFBTSxDQUFDQyxRQUFRLENBQUNRLFFBQVEsQ0FBQztVQUFDRCxHQUFHLEVBQUVULGNBQWMsQ0FBQ1M7UUFBRyxDQUFDLENBQUM7TUFFcEUsQ0FBQyxNQUFJO1FBQ0FILFFBQVEsR0FBRyxNQUFNTCxlQUFNLENBQUNDLFFBQVEsQ0FBQ1MsTUFBTSxDQUFDYixJQUFJLENBQUM7TUFDbEQ7TUFNUkQsR0FBRyxDQUFDZSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQlAsUUFBUSxFQUFFQTtNQUNkLENBQUMsQ0FBQztJQUNOLENBQUMsQ0FBQyxPQUFPUSxLQUFLLEVBQUU7TUFDWmpCLEdBQUcsQ0FBQ2UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBQztNQUNaLENBQUMsQ0FBQztNQUNGQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0osS0FBSyxDQUFDO0lBQ3RCO0VBQ0EsQ0FBQztFQUNESyxNQUFNLEVBQUMsTUFBQUEsQ0FBTXZCLEdBQUcsRUFBQ0MsR0FBRyxLQUFHO0lBQ25CLElBQUk7TUFDQSxJQUFJQyxJQUFJLEdBQUdGLEdBQUcsQ0FBQ0csSUFBSTtNQUVuQixNQUFNRSxlQUFNLENBQUNDLFFBQVEsQ0FBQ00saUJBQWlCLENBQUM7UUFBQ0MsR0FBRyxFQUFFWCxJQUFJLENBQUNXO01BQUcsQ0FBQyxFQUFDWCxJQUFJLENBQUM7TUFFN0QsSUFBSVEsUUFBUSxHQUFHLE1BQU1MLGVBQU0sQ0FBQ0MsUUFBUSxDQUFDUSxRQUFRLENBQUM7UUFBQ0QsR0FBRyxFQUFFWCxJQUFJLENBQUNXO01BQUcsQ0FBQyxDQUFDO01BRTlEWixHQUFHLENBQUNlLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCUCxRQUFRLEVBQUVBO01BQ2QsQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDLE9BQU9RLEtBQUssRUFBRTtNQUNaakIsR0FBRyxDQUFDZSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNHLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFDO01BQ1osQ0FBQyxDQUFDO01BQ0ZDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSixLQUFLLENBQUM7SUFDdEI7RUFDSixDQUFDO0VBQ0RNLE1BQU0sRUFBQyxNQUFBQSxDQUFNeEIsR0FBRyxFQUFDQyxHQUFHLEtBQUc7SUFFbkIsSUFBSTtNQUNBLElBQUlZLEdBQUcsR0FBR2IsR0FBRyxDQUFDeUIsTUFBTSxDQUFDQyxFQUFFO01BRXRCLE1BQU1yQixlQUFNLENBQUNDLFFBQVEsQ0FBQ3FCLGlCQUFpQixDQUFDO1FBQUNkLEdBQUcsRUFBRUE7TUFBRyxDQUFDLENBQUM7TUFFcERaLEdBQUcsQ0FBQ2UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJHLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztJQUNOLENBQUMsQ0FBQyxPQUFPRixLQUFLLEVBQUU7TUFDWmpCLEdBQUcsQ0FBQ2UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBQztNQUNaLENBQUMsQ0FBQztNQUNGQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0osS0FBSyxDQUFDO0lBQ3RCO0VBQ0o7QUFDSixDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_models","_interopRequireDefault","require","obj","__esModule","default","_default","exports","register","req","res","data","body","variedad_exits","models","Variedad","findOne","valor","product","variedad","stock","findByIdAndUpdate","_id","findById","create","status","json","error","send","message","console","log","update","delete","params","id","findByIdAndDelete"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\controllers\\","sources":["VariedadController.js"],"sourcesContent":["import models from '../models'\r\n\r\nexport default{\r\n    register:async(req,res)=>{\r\n    try {\r\n        let data = req.body;\r\n\r\n         let variedad_exits = await models.Variedad.findOne({valor: data.valor, product: data.product});\r\n            var variedad = null;\r\n\r\n            if(variedad_exits){\r\n                data.stock = variedad_exits.stock + data.stock;\r\n                await models.Variedad.findByIdAndUpdate({_id: variedad_exits._id},data);\r\n                variedad = await models.Variedad.findById({_id: variedad_exits._id});\r\n\r\n                }else{\r\n                     variedad = await models.Variedad.create(data);\r\n                }\r\n            \r\n\r\n\r\n        \r\n\r\n        res.status(200).json({\r\n            variedad: variedad\r\n        });\r\n    } catch (error) {\r\n        res.status(500).send({\r\n            message:'Ocurrio problema'\r\n        });\r\n        console.log(error);\r\n    }\r\n    },\r\n    update:async(req,res)=>{\r\n        try {\r\n            let data = req.body;\r\n    \r\n            await models.Variedad.findByIdAndUpdate({_id: data._id},data);\r\n\r\n            let variedad = await models.Variedad.findById({_id: data._id});\r\n    \r\n            res.status(200).json({\r\n                variedad: variedad\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:'Ocurrio problema'\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    delete:async(req,res)=>{\r\n        \r\n        try {\r\n            let _id = req.params.id;\r\n    \r\n             await models.Variedad.findByIdAndDelete({_id: _id});\r\n    \r\n            res.status(200).json({\r\n                message: 'Eliminado'\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:'Ocurrio problema'\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1717646815100},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\VariedadController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let variedad_exits = await _models.default.Variedad.findOne({\n        valor: data.valor,\n        product: data.product\n      });\n      var variedad = null;\n      if (variedad_exits) {\n        data.stock = variedad_exits.stock + data.stock;\n        await _models.default.Variedad.findByIdAndUpdate({\n          _id: variedad_exits._id\n        }, data);\n        variedad = await _models.default.Variedad.findById({\n          _id: variedad_exits._id\n        });\n      } else {\n        variedad = await _models.default.Variedad.create(data);\n      }\n      res.status(200).json({\n        variedad: variedad\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'Ocurrio problema'\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      await _models.default.Variedad.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let variedad = await _models.default.Variedad.findById({\n        _id: data._id\n      });\n      res.status(200).json({\n        variedad: variedad\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'Ocurrio problema'\n      });\n      console.log(error);\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.params.id;\n      await _models.default.Variedad.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: 'Eliminado'\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: 'Ocurrio problema'\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiZGF0YSIsImJvZHkiLCJ2YXJpZWRhZF9leGl0cyIsIm1vZGVscyIsIlZhcmllZGFkIiwiZmluZE9uZSIsInZhbG9yIiwicHJvZHVjdCIsInZhcmllZGFkIiwic3RvY2siLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIl9pZCIsImZpbmRCeUlkIiwiY3JlYXRlIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwic2VuZCIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIiwidXBkYXRlIiwiZGVsZXRlIiwicGFyYW1zIiwiaWQiLCJmaW5kQnlJZEFuZERlbGV0ZSJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxud29ybFxcRXNjcml0b3Jpb1xcUHJvZ3JhbWFjacOzblxcRWNvbW1lcmNlU29saXRla1xcYXBpX2Vjb21tZXJjZVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiVmFyaWVkYWRDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbHMgZnJvbSAnLi4vbW9kZWxzJ1xyXG5cclxuZXhwb3J0IGRlZmF1bHR7XHJcbiAgICByZWdpc3Rlcjphc3luYyhyZXEscmVzKT0+e1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xyXG5cclxuICAgICAgICAgbGV0IHZhcmllZGFkX2V4aXRzID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRPbmUoe3ZhbG9yOiBkYXRhLnZhbG9yLCBwcm9kdWN0OiBkYXRhLnByb2R1Y3R9KTtcclxuICAgICAgICAgICAgdmFyIHZhcmllZGFkID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIGlmKHZhcmllZGFkX2V4aXRzKXtcclxuICAgICAgICAgICAgICAgIGRhdGEuc3RvY2sgPSB2YXJpZWRhZF9leGl0cy5zdG9jayArIGRhdGEuc3RvY2s7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogdmFyaWVkYWRfZXhpdHMuX2lkfSxkYXRhKTtcclxuICAgICAgICAgICAgICAgIHZhcmllZGFkID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkKHtfaWQ6IHZhcmllZGFkX2V4aXRzLl9pZH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICB2YXJpZWRhZCA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5jcmVhdGUoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG5cclxuXHJcbiAgICAgICAgXHJcblxyXG4gICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgdmFyaWVkYWQ6IHZhcmllZGFkXHJcbiAgICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgbWVzc2FnZTonT2N1cnJpbyBwcm9ibGVtYSdcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICB9XHJcbiAgICB9LFxyXG4gICAgdXBkYXRlOmFzeW5jKHJlcSxyZXMpPT57XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuICAgIFxyXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogZGF0YS5faWR9LGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgbGV0IHZhcmllZGFkID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkKHtfaWQ6IGRhdGEuX2lkfSk7XHJcbiAgICBcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgdmFyaWVkYWQ6IHZhcmllZGFkXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6J09jdXJyaW8gcHJvYmxlbWEnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGRlbGV0ZTphc3luYyhyZXEscmVzKT0+e1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBfaWQgPSByZXEucGFyYW1zLmlkO1xyXG4gICAgXHJcbiAgICAgICAgICAgICBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZEJ5SWRBbmREZWxldGUoe19pZDogX2lkfSk7XHJcbiAgICBcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ0VsaW1pbmFkbydcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTonT2N1cnJpbyBwcm9ibGVtYSdcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBOEIsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUVoQjtFQUNWRyxRQUFRLEVBQUMsTUFBQUEsQ0FBTUMsR0FBRyxFQUFDQyxHQUFHLEtBQUc7SUFDekIsSUFBSTtNQUNBLElBQUlDLElBQUksR0FBR0YsR0FBRyxDQUFDRyxJQUFJO01BRWxCLElBQUlDLGNBQWMsR0FBRyxNQUFNQyxlQUFNLENBQUNDLFFBQVEsQ0FBQ0MsT0FBTyxDQUFDO1FBQUNDLEtBQUssRUFBRU4sSUFBSSxDQUFDTSxLQUFLO1FBQUVDLE9BQU8sRUFBRVAsSUFBSSxDQUFDTztNQUFPLENBQUMsQ0FBQztNQUMzRixJQUFJQyxRQUFRLEdBQUcsSUFBSTtNQUVuQixJQUFHTixjQUFjLEVBQUM7UUFDZEYsSUFBSSxDQUFDUyxLQUFLLEdBQUdQLGNBQWMsQ0FBQ08sS0FBSyxHQUFHVCxJQUFJLENBQUNTLEtBQUs7UUFDOUMsTUFBTU4sZUFBTSxDQUFDQyxRQUFRLENBQUNNLGlCQUFpQixDQUFDO1VBQUNDLEdBQUcsRUFBRVQsY0FBYyxDQUFDUztRQUFHLENBQUMsRUFBQ1gsSUFBSSxDQUFDO1FBQ3ZFUSxRQUFRLEdBQUcsTUFBTUwsZUFBTSxDQUFDQyxRQUFRLENBQUNRLFFBQVEsQ0FBQztVQUFDRCxHQUFHLEVBQUVULGNBQWMsQ0FBQ1M7UUFBRyxDQUFDLENBQUM7TUFFcEUsQ0FBQyxNQUFJO1FBQ0FILFFBQVEsR0FBRyxNQUFNTCxlQUFNLENBQUNDLFFBQVEsQ0FBQ1MsTUFBTSxDQUFDYixJQUFJLENBQUM7TUFDbEQ7TUFNUkQsR0FBRyxDQUFDZSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQlAsUUFBUSxFQUFFQTtNQUNkLENBQUMsQ0FBQztJQUNOLENBQUMsQ0FBQyxPQUFPUSxLQUFLLEVBQUU7TUFDWmpCLEdBQUcsQ0FBQ2UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBQztNQUNaLENBQUMsQ0FBQztNQUNGQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0osS0FBSyxDQUFDO0lBQ3RCO0VBQ0EsQ0FBQztFQUNESyxNQUFNLEVBQUMsTUFBQUEsQ0FBTXZCLEdBQUcsRUFBQ0MsR0FBRyxLQUFHO0lBQ25CLElBQUk7TUFDQSxJQUFJQyxJQUFJLEdBQUdGLEdBQUcsQ0FBQ0csSUFBSTtNQUVuQixNQUFNRSxlQUFNLENBQUNDLFFBQVEsQ0FBQ00saUJBQWlCLENBQUM7UUFBQ0MsR0FBRyxFQUFFWCxJQUFJLENBQUNXO01BQUcsQ0FBQyxFQUFDWCxJQUFJLENBQUM7TUFFN0QsSUFBSVEsUUFBUSxHQUFHLE1BQU1MLGVBQU0sQ0FBQ0MsUUFBUSxDQUFDUSxRQUFRLENBQUM7UUFBQ0QsR0FBRyxFQUFFWCxJQUFJLENBQUNXO01BQUcsQ0FBQyxDQUFDO01BRTlEWixHQUFHLENBQUNlLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCUCxRQUFRLEVBQUVBO01BQ2QsQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDLE9BQU9RLEtBQUssRUFBRTtNQUNaakIsR0FBRyxDQUFDZSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNHLElBQUksQ0FBQztRQUNqQkMsT0FBTyxFQUFDO01BQ1osQ0FBQyxDQUFDO01BQ0ZDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDSixLQUFLLENBQUM7SUFDdEI7RUFDSixDQUFDO0VBQ0RNLE1BQU0sRUFBQyxNQUFBQSxDQUFNeEIsR0FBRyxFQUFDQyxHQUFHLEtBQUc7SUFFbkIsSUFBSTtNQUNBLElBQUlZLEdBQUcsR0FBR2IsR0FBRyxDQUFDeUIsTUFBTSxDQUFDQyxFQUFFO01BRXRCLE1BQU1yQixlQUFNLENBQUNDLFFBQVEsQ0FBQ3FCLGlCQUFpQixDQUFDO1FBQUNkLEdBQUcsRUFBRUE7TUFBRyxDQUFDLENBQUM7TUFFcERaLEdBQUcsQ0FBQ2UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7UUFDakJHLE9BQU8sRUFBRTtNQUNiLENBQUMsQ0FBQztJQUNOLENBQUMsQ0FBQyxPQUFPRixLQUFLLEVBQUU7TUFDWmpCLEdBQUcsQ0FBQ2UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDRyxJQUFJLENBQUM7UUFDakJDLE9BQU8sRUFBQztNQUNaLENBQUMsQ0FBQztNQUNGQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0osS0FBSyxDQUFDO0lBQ3RCO0VBQ0o7QUFDSixDQUFDIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_models","_interopRequireDefault","require","obj","__esModule","default","_default","exports","register","req","res","data","body","variedad_exits","models","Variedad","findOne","valor","product","variedad","stock","findByIdAndUpdate","_id","findById","create","status","json","error","send","message","console","log","update","delete","params","id","findByIdAndDelete"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\controllers\\","sources":["VariedadController.js"],"sourcesContent":["import models from '../models'\r\n\r\nexport default{\r\n    register:async(req,res)=>{\r\n    try {\r\n        let data = req.body;\r\n\r\n         let variedad_exits = await models.Variedad.findOne({valor: data.valor, product: data.product});\r\n            var variedad = null;\r\n\r\n            if(variedad_exits){\r\n                data.stock = variedad_exits.stock + data.stock;\r\n                await models.Variedad.findByIdAndUpdate({_id: variedad_exits._id},data);\r\n                variedad = await models.Variedad.findById({_id: variedad_exits._id});\r\n\r\n                }else{\r\n                     variedad = await models.Variedad.create(data);\r\n                }\r\n            \r\n\r\n\r\n        \r\n\r\n        res.status(200).json({\r\n            variedad: variedad\r\n        });\r\n    } catch (error) {\r\n        res.status(500).send({\r\n            message:'Ocurrio problema'\r\n        });\r\n        console.log(error);\r\n    }\r\n    },\r\n    update:async(req,res)=>{\r\n        try {\r\n            let data = req.body;\r\n    \r\n            await models.Variedad.findByIdAndUpdate({_id: data._id},data);\r\n\r\n            let variedad = await models.Variedad.findById({_id: data._id});\r\n    \r\n            res.status(200).json({\r\n                variedad: variedad\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:'Ocurrio problema'\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    delete:async(req,res)=>{\r\n        \r\n        try {\r\n            let _id = req.params.id;\r\n    \r\n             await models.Variedad.findByIdAndDelete({_id: _id});\r\n    \r\n            res.status(200).json({\r\n                message: 'Eliminado'\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:'Ocurrio problema'\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n}"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA8B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEhB;EACVG,QAAQ,EAAC,MAAAA,CAAMC,GAAG,EAACC,GAAG,KAAG;IACzB,IAAI;MACA,IAAIC,IAAI,GAAGF,GAAG,CAACG,IAAI;MAElB,IAAIC,cAAc,GAAG,MAAMC,eAAM,CAACC,QAAQ,CAACC,OAAO,CAAC;QAACC,KAAK,EAAEN,IAAI,CAACM,KAAK;QAAEC,OAAO,EAAEP,IAAI,CAACO;MAAO,CAAC,CAAC;MAC3F,IAAIC,QAAQ,GAAG,IAAI;MAEnB,IAAGN,cAAc,EAAC;QACdF,IAAI,CAACS,KAAK,GAAGP,cAAc,CAACO,KAAK,GAAGT,IAAI,CAACS,KAAK;QAC9C,MAAMN,eAAM,CAACC,QAAQ,CAACM,iBAAiB,CAAC;UAACC,GAAG,EAAET,cAAc,CAACS;QAAG,CAAC,EAACX,IAAI,CAAC;QACvEQ,QAAQ,GAAG,MAAML,eAAM,CAACC,QAAQ,CAACQ,QAAQ,CAAC;UAACD,GAAG,EAAET,cAAc,CAACS;QAAG,CAAC,CAAC;MAEpE,CAAC,MAAI;QACAH,QAAQ,GAAG,MAAML,eAAM,CAACC,QAAQ,CAACS,MAAM,CAACb,IAAI,CAAC;MAClD;MAMRD,GAAG,CAACe,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBP,QAAQ,EAAEA;MACd,CAAC,CAAC;IACN,CAAC,CAAC,OAAOQ,KAAK,EAAE;MACZjB,GAAG,CAACe,MAAM,CAAC,GAAG,CAAC,CAACG,IAAI,CAAC;QACjBC,OAAO,EAAC;MACZ,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACtB;EACA,CAAC;EACDK,MAAM,EAAC,MAAAA,CAAMvB,GAAG,EAACC,GAAG,KAAG;IACnB,IAAI;MACA,IAAIC,IAAI,GAAGF,GAAG,CAACG,IAAI;MAEnB,MAAME,eAAM,CAACC,QAAQ,CAACM,iBAAiB,CAAC;QAACC,GAAG,EAAEX,IAAI,CAACW;MAAG,CAAC,EAACX,IAAI,CAAC;MAE7D,IAAIQ,QAAQ,GAAG,MAAML,eAAM,CAACC,QAAQ,CAACQ,QAAQ,CAAC;QAACD,GAAG,EAAEX,IAAI,CAACW;MAAG,CAAC,CAAC;MAE9DZ,GAAG,CAACe,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBP,QAAQ,EAAEA;MACd,CAAC,CAAC;IACN,CAAC,CAAC,OAAOQ,KAAK,EAAE;MACZjB,GAAG,CAACe,MAAM,CAAC,GAAG,CAAC,CAACG,IAAI,CAAC;QACjBC,OAAO,EAAC;MACZ,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACtB;EACJ,CAAC;EACDM,MAAM,EAAC,MAAAA,CAAMxB,GAAG,EAACC,GAAG,KAAG;IAEnB,IAAI;MACA,IAAIY,GAAG,GAAGb,GAAG,CAACyB,MAAM,CAACC,EAAE;MAEtB,MAAMrB,eAAM,CAACC,QAAQ,CAACqB,iBAAiB,CAAC;QAACd,GAAG,EAAEA;MAAG,CAAC,CAAC;MAEpDZ,GAAG,CAACe,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBG,OAAO,EAAE;MACb,CAAC,CAAC;IACN,CAAC,CAAC,OAAOF,KAAK,EAAE;MACZjB,GAAG,CAACe,MAAM,CAAC,GAAG,CAAC,CAACG,IAAI,CAAC;QACjBC,OAAO,EAAC;MACZ,CAAC,CAAC;MACFC,OAAO,CAACC,GAAG,CAACJ,KAAK,CAAC;IACtB;EACJ;AACJ,CAAC","ignoreList":[]}},"mtime":1717646815100},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst SliderSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  link: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  imagen: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  state: {\n    type: Number,\n    maxlength: 2,\n    default: 1\n  }\n}, {\n  timestamps: true\n});\nconst Slider = _mongoose.default.model(\"sliders\", SliderSchema);\nvar _default = exports.default = Slider;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJTbGlkZXJTY2hlbWEiLCJTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJyZXF1aXJlZCIsImxpbmsiLCJpbWFnZW4iLCJzdGF0ZSIsIk51bWJlciIsInRpbWVzdGFtcHMiLCJTbGlkZXIiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiU2xpZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IFNsaWRlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgdGl0bGU6e3R5cGU6U3RyaW5nLG1heGxlbmd0aCA6IDI1MCxyZXF1aXJlZDp0cnVlfSxcclxuICAgIGxpbms6e3R5cGU6U3RyaW5nLG1heGxlbmd0aCA6IDI1MCxyZXF1aXJlZDp0cnVlfSxcclxuICAgIGltYWdlbjp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgc3RhdGU6e3R5cGU6TnVtYmVyLG1heGxlbmd0aDoyLGRlZmF1bHQ6MX0sXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczogdHJ1ZVxyXG59KTtcclxuXHJcbmNvbnN0IFNsaWRlciA9IG1vbmdvb3NlLm1vZGVsKFwic2xpZGVyc1wiLFNsaWRlclNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IFNsaWRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFBQUwsQ0FBQSxRQUFBRyxDQUFBLEdBQUFKLHdCQUFBLENBQUFHLENBQUEsT0FBQUMsQ0FBQSxJQUFBQSxDQUFBLENBQUFHLEdBQUEsQ0FBQU4sQ0FBQSxVQUFBRyxDQUFBLENBQUFJLEdBQUEsQ0FBQVAsQ0FBQSxPQUFBUSxDQUFBLEtBQUFDLFNBQUEsVUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxDQUFBLElBQUFkLENBQUEsb0JBQUFjLENBQUEsT0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFoQixDQUFBLEVBQUFjLENBQUEsU0FBQUcsQ0FBQSxHQUFBUCxDQUFBLEdBQUFDLE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQWIsQ0FBQSxFQUFBYyxDQUFBLFVBQUFHLENBQUEsS0FBQUEsQ0FBQSxDQUFBVixHQUFBLElBQUFVLENBQUEsQ0FBQUMsR0FBQSxJQUFBUCxNQUFBLENBQUFDLGNBQUEsQ0FBQUosQ0FBQSxFQUFBTSxDQUFBLEVBQUFHLENBQUEsSUFBQVQsQ0FBQSxDQUFBTSxDQUFBLElBQUFkLENBQUEsQ0FBQWMsQ0FBQSxZQUFBTixDQUFBLENBQUFILE9BQUEsR0FBQUwsQ0FBQSxFQUFBRyxDQUFBLElBQUFBLENBQUEsQ0FBQWUsR0FBQSxDQUFBbEIsQ0FBQSxFQUFBUSxDQUFBLEdBQUFBLENBQUE7QUFFekMsTUFBTVcsWUFBWSxHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDNUJDLEtBQUssRUFBQztJQUFDQyxJQUFJLEVBQUNDLE1BQU07SUFBQ0MsU0FBUyxFQUFHLEdBQUc7SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNqREMsSUFBSSxFQUFDO0lBQUNKLElBQUksRUFBQ0MsTUFBTTtJQUFDQyxTQUFTLEVBQUcsR0FBRztJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2hERSxNQUFNLEVBQUM7SUFBQ0wsSUFBSSxFQUFDQyxNQUFNO0lBQUNDLFNBQVMsRUFBRSxHQUFHO0lBQUVDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDbERHLEtBQUssRUFBQztJQUFDTixJQUFJLEVBQUNPLE1BQU07SUFBQ0wsU0FBUyxFQUFDLENBQUM7SUFBQ25CLE9BQU8sRUFBQztFQUFDO0FBQzVDLENBQUMsRUFBQztFQUNFeUIsVUFBVSxFQUFFO0FBQ2hCLENBQUMsQ0FBQztBQUVGLE1BQU1DLE1BQU0sR0FBR0MsaUJBQVEsQ0FBQ0MsS0FBSyxDQUFDLFNBQVMsRUFBQ2QsWUFBWSxDQUFDO0FBQUMsSUFBQWUsUUFBQSxHQUFBQyxPQUFBLENBQUE5QixPQUFBLEdBQ3ZDMEIsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","SliderSchema","Schema","title","type","String","maxlength","required","link","imagen","state","Number","timestamps","Slider","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\models\\","sources":["Slider.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst SliderSchema = new Schema({\r\n    title:{type:String,maxlength : 250,required:true},\r\n    link:{type:String,maxlength : 250,required:true},\r\n    imagen:{type:String,maxlength: 250, required:true},\r\n    state:{type:Number,maxlength:2,default:1},\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst Slider = mongoose.model(\"sliders\",SliderSchema);\r\nexport default Slider;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,YAAY,GAAG,IAAIC,gBAAM,CAAC;EAC5BC,KAAK,EAAC;IAACC,IAAI,EAACC,MAAM;IAACC,SAAS,EAAG,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EACjDC,IAAI,EAAC;IAACJ,IAAI,EAACC,MAAM;IAACC,SAAS,EAAG,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAChDE,MAAM,EAAC;IAACL,IAAI,EAACC,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EAClDG,KAAK,EAAC;IAACN,IAAI,EAACO,MAAM;IAACL,SAAS,EAAC,CAAC;IAACnB,OAAO,EAAC;EAAC;AAC5C,CAAC,EAAC;EACEyB,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAGC,iBAAQ,CAACC,KAAK,CAAC,SAAS,EAACd,YAAY,CAAC;AAAC,IAAAe,QAAA,GAAAC,OAAA,CAAA9B,OAAA,GACvC0B,MAAM","ignoreList":[]}},"mtime":1717828089273},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst SliderSchema = new _mongoose.Schema({\n  title: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  link: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  imagen: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  state: {\n    type: Number,\n    maxlength: 2,\n    default: 1\n  }\n}, {\n  timestamps: true\n});\nconst Slider = _mongoose.default.model(\"sliders\", SliderSchema);\nvar _default = exports.default = Slider;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJTbGlkZXJTY2hlbWEiLCJTY2hlbWEiLCJ0aXRsZSIsInR5cGUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJyZXF1aXJlZCIsImxpbmsiLCJpbWFnZW4iLCJzdGF0ZSIsIk51bWJlciIsInRpbWVzdGFtcHMiLCJTbGlkZXIiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiU2xpZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IFNsaWRlclNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgdGl0bGU6e3R5cGU6U3RyaW5nLG1heGxlbmd0aCA6IDI1MCxyZXF1aXJlZDp0cnVlfSxcclxuICAgIGxpbms6e3R5cGU6U3RyaW5nLG1heGxlbmd0aCA6IDI1MCxyZXF1aXJlZDp0cnVlfSxcclxuICAgIGltYWdlbjp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgc3RhdGU6e3R5cGU6TnVtYmVyLG1heGxlbmd0aDoyLGRlZmF1bHQ6MX0sXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczogdHJ1ZVxyXG59KTtcclxuXHJcbmNvbnN0IFNsaWRlciA9IG1vbmdvb3NlLm1vZGVsKFwic2xpZGVyc1wiLFNsaWRlclNjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IFNsaWRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFBQUwsQ0FBQSxRQUFBRyxDQUFBLEdBQUFKLHdCQUFBLENBQUFHLENBQUEsT0FBQUMsQ0FBQSxJQUFBQSxDQUFBLENBQUFHLEdBQUEsQ0FBQU4sQ0FBQSxVQUFBRyxDQUFBLENBQUFJLEdBQUEsQ0FBQVAsQ0FBQSxPQUFBUSxDQUFBLEtBQUFDLFNBQUEsVUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxDQUFBLElBQUFkLENBQUEsb0JBQUFjLENBQUEsT0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFoQixDQUFBLEVBQUFjLENBQUEsU0FBQUcsQ0FBQSxHQUFBUCxDQUFBLEdBQUFDLE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQWIsQ0FBQSxFQUFBYyxDQUFBLFVBQUFHLENBQUEsS0FBQUEsQ0FBQSxDQUFBVixHQUFBLElBQUFVLENBQUEsQ0FBQUMsR0FBQSxJQUFBUCxNQUFBLENBQUFDLGNBQUEsQ0FBQUosQ0FBQSxFQUFBTSxDQUFBLEVBQUFHLENBQUEsSUFBQVQsQ0FBQSxDQUFBTSxDQUFBLElBQUFkLENBQUEsQ0FBQWMsQ0FBQSxZQUFBTixDQUFBLENBQUFILE9BQUEsR0FBQUwsQ0FBQSxFQUFBRyxDQUFBLElBQUFBLENBQUEsQ0FBQWUsR0FBQSxDQUFBbEIsQ0FBQSxFQUFBUSxDQUFBLEdBQUFBLENBQUE7QUFFekMsTUFBTVcsWUFBWSxHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDNUJDLEtBQUssRUFBQztJQUFDQyxJQUFJLEVBQUNDLE1BQU07SUFBQ0MsU0FBUyxFQUFHLEdBQUc7SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNqREMsSUFBSSxFQUFDO0lBQUNKLElBQUksRUFBQ0MsTUFBTTtJQUFDQyxTQUFTLEVBQUcsR0FBRztJQUFDQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ2hERSxNQUFNLEVBQUM7SUFBQ0wsSUFBSSxFQUFDQyxNQUFNO0lBQUNDLFNBQVMsRUFBRSxHQUFHO0lBQUVDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDbERHLEtBQUssRUFBQztJQUFDTixJQUFJLEVBQUNPLE1BQU07SUFBQ0wsU0FBUyxFQUFDLENBQUM7SUFBQ25CLE9BQU8sRUFBQztFQUFDO0FBQzVDLENBQUMsRUFBQztFQUNFeUIsVUFBVSxFQUFFO0FBQ2hCLENBQUMsQ0FBQztBQUVGLE1BQU1DLE1BQU0sR0FBR0MsaUJBQVEsQ0FBQ0MsS0FBSyxDQUFDLFNBQVMsRUFBQ2QsWUFBWSxDQUFDO0FBQUMsSUFBQWUsUUFBQSxHQUFBQyxPQUFBLENBQUE5QixPQUFBLEdBQ3ZDMEIsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","SliderSchema","Schema","title","type","String","maxlength","required","link","imagen","state","Number","timestamps","Slider","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\models\\","sources":["Slider.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst SliderSchema = new Schema({\r\n    title:{type:String,maxlength : 250,required:true},\r\n    link:{type:String,maxlength : 250,required:true},\r\n    imagen:{type:String,maxlength: 250, required:true},\r\n    state:{type:Number,maxlength:2,default:1},\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst Slider = mongoose.model(\"sliders\",SliderSchema);\r\nexport default Slider;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,YAAY,GAAG,IAAIC,gBAAM,CAAC;EAC5BC,KAAK,EAAC;IAACC,IAAI,EAACC,MAAM;IAACC,SAAS,EAAG,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EACjDC,IAAI,EAAC;IAACJ,IAAI,EAACC,MAAM;IAACC,SAAS,EAAG,GAAG;IAACC,QAAQ,EAAC;EAAI,CAAC;EAChDE,MAAM,EAAC;IAACL,IAAI,EAACC,MAAM;IAACC,SAAS,EAAE,GAAG;IAAEC,QAAQ,EAAC;EAAI,CAAC;EAClDG,KAAK,EAAC;IAACN,IAAI,EAACO,MAAM;IAACL,SAAS,EAAC,CAAC;IAACnB,OAAO,EAAC;EAAC;AAC5C,CAAC,EAAC;EACEyB,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAGC,iBAAQ,CAACC,KAAK,CAAC,SAAS,EAACd,YAAY,CAAC;AAAC,IAAAe,QAAA,GAAAC,OAAA,CAAA9B,OAAA,GACvC0B,MAAM","ignoreList":[]}},"mtime":1717828089273},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\resources\\\\Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  slider_list: slider => {\n    return {\n      _id: slider._id,\n      title: slider.title,\n      link: slider.link,\n      imagen: slider.imagen,\n      imagen_home: 'http://localhost:3000' + '/api/sliders/uploads/slider/' + slider.imagen,\n      state: slider.state\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzbGlkZXJfbGlzdCIsInNsaWRlciIsIl9pZCIsInRpdGxlIiwibGluayIsImltYWdlbiIsImltYWdlbl9ob21lIiwic3RhdGUiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbndvcmxcXEVzY3JpdG9yaW9cXFByb2dyYW1hY2nDs25cXEVjb21tZXJjZVNvbGl0ZWtcXGFwaV9lY29tbWVyY2VcXHJlc291cmNlc1xcIiwic291cmNlcyI6WyJTbGlkZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgc2xpZGVyX2xpc3Q6IChzbGlkZXIpID0+IHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBfaWQ6IHNsaWRlci5faWQsXHJcbiAgICAgICAgICAgIHRpdGxlOiBzbGlkZXIudGl0bGUsXHJcbiAgICAgICAgICAgIGxpbms6IHNsaWRlci5saW5rLFxyXG4gICAgICAgICAgICBpbWFnZW46IHNsaWRlci5pbWFnZW4sXHJcbiAgICAgICAgICAgIGltYWdlbl9ob21lOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwJysnL2FwaS9zbGlkZXJzL3VwbG9hZHMvc2xpZGVyLycrc2xpZGVyLmltYWdlbixcclxuICAgICAgICAgICAgc3RhdGU6IHNsaWRlci5zdGF0ZSxcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztpQ0FBZTtFQUNYQSxXQUFXLEVBQUdDLE1BQU0sSUFBSztJQUNyQixPQUFPO01BQ0hDLEdBQUcsRUFBRUQsTUFBTSxDQUFDQyxHQUFHO01BQ2ZDLEtBQUssRUFBRUYsTUFBTSxDQUFDRSxLQUFLO01BQ25CQyxJQUFJLEVBQUVILE1BQU0sQ0FBQ0csSUFBSTtNQUNqQkMsTUFBTSxFQUFFSixNQUFNLENBQUNJLE1BQU07TUFDckJDLFdBQVcsRUFBRSx1QkFBdUIsR0FBQyw4QkFBOEIsR0FBQ0wsTUFBTSxDQUFDSSxNQUFNO01BQ2pGRSxLQUFLLEVBQUVOLE1BQU0sQ0FBQ007SUFDbEIsQ0FBQztFQUNMO0FBQ0osQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["slider_list","slider","_id","title","link","imagen","imagen_home","state"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\resources\\","sources":["Slider.js"],"sourcesContent":["export default {\r\n    slider_list: (slider) => {\r\n        return {\r\n            _id: slider._id,\r\n            title: slider.title,\r\n            link: slider.link,\r\n            imagen: slider.imagen,\r\n            imagen_home: 'http://localhost:3000'+'/api/sliders/uploads/slider/'+slider.imagen,\r\n            state: slider.state,\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;iCAAe;EACXA,WAAW,EAAGC,MAAM,IAAK;IACrB,OAAO;MACHC,GAAG,EAAED,MAAM,CAACC,GAAG;MACfC,KAAK,EAAEF,MAAM,CAACE,KAAK;MACnBC,IAAI,EAAEH,MAAM,CAACG,IAAI;MACjBC,MAAM,EAAEJ,MAAM,CAACI,MAAM;MACrBC,WAAW,EAAE,uBAAuB,GAAC,8BAA8B,GAACL,MAAM,CAACI,MAAM;MACjFE,KAAK,EAAEN,MAAM,CAACM;IAClB,CAAC;EACL;AACJ,CAAC","ignoreList":[]}},"mtime":1717818656984},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\resources\\\\Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  slider_list: slider => {\n    return {\n      _id: slider._id,\n      title: slider.title,\n      link: slider.link,\n      imagen: slider.imagen,\n      imagen_home: 'http://localhost:3000' + '/api/sliders/uploads/slider/' + slider.imagen,\n      state: slider.state\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJzbGlkZXJfbGlzdCIsInNsaWRlciIsIl9pZCIsInRpdGxlIiwibGluayIsImltYWdlbiIsImltYWdlbl9ob21lIiwic3RhdGUiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbndvcmxcXEVzY3JpdG9yaW9cXFByb2dyYW1hY2nDs25cXEVjb21tZXJjZVNvbGl0ZWtcXGFwaV9lY29tbWVyY2VcXHJlc291cmNlc1xcIiwic291cmNlcyI6WyJTbGlkZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgc2xpZGVyX2xpc3Q6IChzbGlkZXIpID0+IHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBfaWQ6IHNsaWRlci5faWQsXHJcbiAgICAgICAgICAgIHRpdGxlOiBzbGlkZXIudGl0bGUsXHJcbiAgICAgICAgICAgIGxpbms6IHNsaWRlci5saW5rLFxyXG4gICAgICAgICAgICBpbWFnZW46IHNsaWRlci5pbWFnZW4sXHJcbiAgICAgICAgICAgIGltYWdlbl9ob21lOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwJysnL2FwaS9zbGlkZXJzL3VwbG9hZHMvc2xpZGVyLycrc2xpZGVyLmltYWdlbixcclxuICAgICAgICAgICAgc3RhdGU6IHNsaWRlci5zdGF0ZSxcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztpQ0FBZTtFQUNYQSxXQUFXLEVBQUdDLE1BQU0sSUFBSztJQUNyQixPQUFPO01BQ0hDLEdBQUcsRUFBRUQsTUFBTSxDQUFDQyxHQUFHO01BQ2ZDLEtBQUssRUFBRUYsTUFBTSxDQUFDRSxLQUFLO01BQ25CQyxJQUFJLEVBQUVILE1BQU0sQ0FBQ0csSUFBSTtNQUNqQkMsTUFBTSxFQUFFSixNQUFNLENBQUNJLE1BQU07TUFDckJDLFdBQVcsRUFBRSx1QkFBdUIsR0FBQyw4QkFBOEIsR0FBQ0wsTUFBTSxDQUFDSSxNQUFNO01BQ2pGRSxLQUFLLEVBQUVOLE1BQU0sQ0FBQ007SUFDbEIsQ0FBQztFQUNMO0FBQ0osQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["slider_list","slider","_id","title","link","imagen","imagen_home","state"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\resources\\","sources":["Slider.js"],"sourcesContent":["export default {\r\n    slider_list: (slider) => {\r\n        return {\r\n            _id: slider._id,\r\n            title: slider.title,\r\n            link: slider.link,\r\n            imagen: slider.imagen,\r\n            imagen_home: 'http://localhost:3000'+'/api/sliders/uploads/slider/'+slider.imagen,\r\n            state: slider.state,\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;iCAAe;EACXA,WAAW,EAAGC,MAAM,IAAK;IACrB,OAAO;MACHC,GAAG,EAAED,MAAM,CAACC,GAAG;MACfC,KAAK,EAAEF,MAAM,CAACE,KAAK;MACnBC,IAAI,EAAEH,MAAM,CAACG,IAAI;MACjBC,MAAM,EAAEJ,MAAM,CAACI,MAAM;MACrBC,WAAW,EAAE,uBAAuB,GAAC,8BAA8B,GAACL,MAAM,CAACI,MAAM;MACjFE,KAAK,EAAEN,MAAM,CAACM;IAClB,CAAC;EACL;AACJ,CAAC","ignoreList":[]}},"mtime":1717818656984},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _SliderController = _interopRequireDefault(require(\"../controllers/SliderController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/slider'\n});\nconst router = (0, _expressPromiseRouter.default)();\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _SliderController.default.register);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _SliderController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _SliderController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _SliderController.default.remove);\nrouter.get(\"/uploads/slider/:img\", _SliderController.default.obtener_imagen);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9TbGlkZXJDb250cm9sbGVyIiwiX2F1dGgiLCJfY29ubmVjdE11bHRpcGFydHkiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInBhdGgiLCJtdWx0aXBhcnR5IiwidXBsb2FkRGlyIiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJzbGlkZXJDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJnZXQiLCJsaXN0IiwiZGVsZXRlIiwicmVtb3ZlIiwib2J0ZW5lcl9pbWFnZW4iLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbndvcmxcXEVzY3JpdG9yaW9cXFByb2dyYW1hY2nDs25cXEVjb21tZXJjZVNvbGl0ZWtcXGFwaV9lY29tbWVyY2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJTbGlkZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcclxuaW1wb3J0IHNsaWRlckNvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvU2xpZGVyQ29udHJvbGxlcidcclxuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCdcclxuXHJcbmltcG9ydCBtdWx0aXBhcnR5IGZyb20gJ2Nvbm5lY3QtbXVsdGlwYXJ0eSdcclxudmFyIHBhdGggPSBtdWx0aXBhcnR5KHt1cGxvYWREaXI6ICcuL3VwbG9hZHMvc2xpZGVyJ30pXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxuLy8gaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2Vycy9yZWdpc3RlclxyXG5cclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSxzbGlkZXJDb250cm9sbGVyLnJlZ2lzdGVyKTtcclxucm91dGVyLnB1dChcIi91cGRhdGVcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSxzbGlkZXJDb250cm9sbGVyLnVwZGF0ZSk7XHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4sc2xpZGVyQ29udHJvbGxlci5saXN0KTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIixhdXRoLnZlcmlmeUFkbWluLHNsaWRlckNvbnRyb2xsZXIucmVtb3ZlKTtcclxuXHJcbnJvdXRlci5nZXQoXCIvdXBsb2Fkcy9zbGlkZXIvOmltZ1wiLHNsaWRlckNvbnRyb2xsZXIub2J0ZW5lcl9pbWFnZW4pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLGlCQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFBRyxrQkFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQTJDLFNBQUFELHVCQUFBSyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQzNDLElBQUlHLElBQUksR0FBRyxJQUFBQywwQkFBVSxFQUFDO0VBQUNDLFNBQVMsRUFBRTtBQUFrQixDQUFDLENBQUM7QUFDdEQsTUFBTUMsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUN4Qjs7QUFFQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFDLENBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFDUCxJQUFJLENBQUMsRUFBQ1EseUJBQWdCLENBQUNDLFFBQVEsQ0FBQztBQUMxRU4sTUFBTSxDQUFDTyxHQUFHLENBQUMsU0FBUyxFQUFDLENBQUNKLGFBQUksQ0FBQ0MsV0FBVyxFQUFDUCxJQUFJLENBQUMsRUFBQ1EseUJBQWdCLENBQUNHLE1BQU0sQ0FBQztBQUNyRVIsTUFBTSxDQUFDUyxHQUFHLENBQUMsT0FBTyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MseUJBQWdCLENBQUNLLElBQUksQ0FBQztBQUMxRFYsTUFBTSxDQUFDVyxNQUFNLENBQUMsU0FBUyxFQUFDUixhQUFJLENBQUNDLFdBQVcsRUFBQ0MseUJBQWdCLENBQUNPLE1BQU0sQ0FBQztBQUVqRVosTUFBTSxDQUFDUyxHQUFHLENBQUMsc0JBQXNCLEVBQUNKLHlCQUFnQixDQUFDUSxjQUFjLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQW5CLE9BQUEsR0FFcERJLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_SliderController","_auth","_connectMultiparty","obj","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","sliderController","register","put","update","get","list","delete","remove","obtener_imagen","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\router\\","sources":["Slider.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport sliderController from '../controllers/SliderController'\r\nimport auth from '../middlewares/auth'\r\n\r\nimport multiparty from 'connect-multiparty'\r\nvar path = multiparty({uploadDir: './uploads/slider'})\r\nconst router = routerx();\r\n// http://localhost:3000/api/users/register\r\n\r\nrouter.post(\"/register\",[auth.verifyAdmin,path],sliderController.register);\r\nrouter.put(\"/update\",[auth.verifyAdmin,path],sliderController.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,sliderController.list);\r\nrouter.delete(\"/delete\",auth.verifyAdmin,sliderController.remove);\r\n\r\nrouter.get(\"/uploads/slider/:img\",sliderController.obtener_imagen);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,iBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAEA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAA2C,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAC3C,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAE;AAAkB,CAAC,CAAC;AACtD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAC,CAACC,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,yBAAgB,CAACC,QAAQ,CAAC;AAC1EN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAC,CAACJ,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,yBAAgB,CAACG,MAAM,CAAC;AACrER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACK,IAAI,CAAC;AAC1DV,MAAM,CAACW,MAAM,CAAC,SAAS,EAACR,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACO,MAAM,CAAC;AAEjEZ,MAAM,CAACS,GAAG,CAAC,sBAAsB,EAACJ,yBAAgB,CAACQ,cAAc,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAnB,OAAA,GAEpDI,MAAM","ignoreList":[]}},"mtime":1717647230586},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\SliderController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        // console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      const slider = await _models.default.Slider.create(req.body);\n      res.status(200).json(slider);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files && req.files.portada) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        // console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      await _models.default.Slider.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let SliderT = await _models.default.Slider.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL SLIDER SE HA MODIFICADO CORRECTAMENTE\",\n        slider: _resources.default.Slider.slider_list(SliderT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Sliders = await _models.default.Slider.find({\n        $or: [{\n          \"title\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Sliders = Sliders.map(user => {\n        return _resources.default.Slider.slider_list(user);\n      });\n      res.status(200).json({\n        sliders: Sliders\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/slider/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/slider/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.Slider.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"EL SLIDER SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3VyY2VzIiwiX2ZzIiwiX3BhdGgiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiZmlsZXMiLCJpbWdfcGF0aCIsInBvcnRhZGEiLCJwYXRoIiwibmFtZSIsInNwbGl0IiwicG9ydGFkYV9uYW1lIiwiYm9keSIsImltYWdlbiIsInNsaWRlciIsIm1vZGVscyIsIlNsaWRlciIsImNyZWF0ZSIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsInNlbmQiLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyIsInVwZGF0ZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiX2lkIiwiU2xpZGVyVCIsImZpbmRPbmUiLCJyZXNvdXJjZSIsInNsaWRlcl9saXN0IiwibGlzdCIsInNlYXJjaCIsInF1ZXJ5IiwiU2xpZGVycyIsImZpbmQiLCIkb3IiLCJSZWdFeHAiLCJzb3J0IiwibWFwIiwidXNlciIsInNsaWRlcnMiLCJvYnRlbmVyX2ltYWdlbiIsImltZyIsInBhcmFtcyIsImZzIiwic3RhdCIsImVyciIsInBhdGhfaW1nIiwic2VuZEZpbGUiLCJyZXNvbHZlIiwicmVtb3ZlIiwiZmluZEJ5SWRBbmREZWxldGUiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbndvcmxcXEVzY3JpdG9yaW9cXFByb2dyYW1hY2nDs25cXEVjb21tZXJjZVNvbGl0ZWtcXGFwaV9lY29tbWVyY2VcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIlNsaWRlckNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnXHJcbmltcG9ydCByZXNvdXJjZSBmcm9tICcuLi9yZXNvdXJjZXMnXHJcbmltcG9ydCBmcyBmcm9tICdmcydcclxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZihyZXEuZmlsZXMpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLnBvcnRhZGEucGF0aDtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJ1xcXFwnKTtcclxuICAgICAgICAgICAgICAgIHZhciBwb3J0YWRhX25hbWUgPSBuYW1lWzJdO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocG9ydGFkYV9uYW1lKVxyXG4gICAgICAgICAgICAgICAgcmVxLmJvZHkuaW1hZ2VuID0gcG9ydGFkYV9uYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHNsaWRlciA9IGF3YWl0IG1vZGVscy5TbGlkZXIuY3JlYXRlKHJlcS5ib2R5KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oc2xpZGVyKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB1cGRhdGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZihyZXEuZmlsZXMgJiYgcmVxLmZpbGVzLnBvcnRhZGEpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLnBvcnRhZGEucGF0aDtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJ1xcXFwnKTtcclxuICAgICAgICAgICAgICAgIHZhciBwb3J0YWRhX25hbWUgPSBuYW1lWzJdO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocG9ydGFkYV9uYW1lKVxyXG4gICAgICAgICAgICAgICAgcmVxLmJvZHkuaW1hZ2VuID0gcG9ydGFkYV9uYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5TbGlkZXIuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogcmVxLmJvZHkuX2lkfSxyZXEuYm9keSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgU2xpZGVyVCA9IGF3YWl0IG1vZGVscy5TbGlkZXIuZmluZE9uZSh7X2lkOiByZXEuYm9keS5faWR9KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBTTElERVIgU0UgSEEgTU9ESUZJQ0FETyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICBzbGlkZXI6IHJlc291cmNlLlNsaWRlci5zbGlkZXJfbGlzdChTbGlkZXJUKSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbGlzdDogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBzZWFyY2ggPSByZXEucXVlcnkuc2VhcmNoO1xyXG4gICAgICAgICAgICBsZXQgU2xpZGVycyA9IGF3YWl0IG1vZGVscy5TbGlkZXIuZmluZCh7XHJcbiAgICAgICAgICAgICAgICAkb3I6W1xyXG4gICAgICAgICAgICAgICAgICAgIHtcInRpdGxlXCI6IG5ldyBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9KS5zb3J0KHsnY3JlYXRlZEF0JzogLTF9KTtcclxuXHJcbiAgICAgICAgICAgIFNsaWRlcnMgPSBTbGlkZXJzLm1hcCgodXNlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlLlNsaWRlci5zbGlkZXJfbGlzdCh1c2VyKTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIHNsaWRlcnM6IFNsaWRlcnNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgb2J0ZW5lcl9pbWFnZW46IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgaW1nID0gcmVxLnBhcmFtc1snaW1nJ107XHJcblxyXG4gICAgICAgICAgICBmcy5zdGF0KCcuL3VwbG9hZHMvc2xpZGVyLycraW1nLCBmdW5jdGlvbihlcnIpe1xyXG4gICAgICAgICAgICAgICAgaWYoIWVycil7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9zbGlkZXIvJytpbWc7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKHBhdGgucmVzb2x2ZShwYXRoX2ltZykpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9kZWZhdWx0LmpwZyc7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKHBhdGgucmVzb2x2ZShwYXRoX2ltZykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgIFxyXG4gICAgcmVtb3ZlOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlNsaWRlci5maW5kQnlJZEFuZERlbGV0ZSh7X2lkOiByZXEucXVlcnkuX2lkfSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgU0xJREVSIFNFIEVMSU1JTk8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFB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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resources","_fs","_path","obj","__esModule","default","_default","exports","register","req","res","files","img_path","portada","path","name","split","portada_name","body","imagen","slider","models","Slider","create","status","json","error","send","message","console","log","update","findByIdAndUpdate","_id","SliderT","findOne","resource","slider_list","list","search","query","Sliders","find","$or","RegExp","sort","map","user","sliders","obtener_imagen","img","params","fs","stat","err","path_img","sendFile","resolve","remove","findByIdAndDelete"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\controllers\\","sources":["SliderController.js"],"sourcesContent":["import models from '../models'\r\nimport resource from '../resources'\r\nimport fs from 'fs'\r\nimport path from 'path'\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            if(req.files){\r\n                var img_path = req.files.portada.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                // console.log(portada_name)\r\n                req.body.imagen = portada_name;\r\n            }\r\n            const slider = await models.Slider.create(req.body);\r\n            res.status(200).json(slider);\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    update: async(req,res) => {\r\n        try {\r\n            if(req.files && req.files.portada){\r\n                var img_path = req.files.portada.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                // console.log(portada_name)\r\n                req.body.imagen = portada_name;\r\n            }\r\n            await models.Slider.findByIdAndUpdate({_id: req.body._id},req.body);\r\n\r\n            let SliderT = await models.Slider.findOne({_id: req.body._id});\r\n            res.status(200).json({\r\n                message: \"EL SLIDER SE HA MODIFICADO CORRECTAMENTE\",\r\n                slider: resource.Slider.slider_list(SliderT),\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    list: async(req,res) => {\r\n        try {\r\n            var search = req.query.search;\r\n            let Sliders = await models.Slider.find({\r\n                $or:[\r\n                    {\"title\": new RegExp(search, \"i\")},\r\n                ]\r\n            }).sort({'createdAt': -1});\r\n\r\n            Sliders = Sliders.map((user) => {\r\n                return resource.Slider.slider_list(user);\r\n            })\r\n\r\n            res.status(200).json({\r\n                sliders: Sliders\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    obtener_imagen: async(req,res) => {\r\n        try {\r\n            var img = req.params['img'];\r\n\r\n            fs.stat('./uploads/slider/'+img, function(err){\r\n                if(!err){\r\n                    let path_img = './uploads/slider/'+img;\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }else{\r\n                    let path_img = './uploads/default.jpg';\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },  \r\n    remove: async(req,res) => {\r\n        try {\r\n            await models.Slider.findByIdAndDelete({_id: req.query._id});\r\n            res.status(200).json({\r\n                message: \"EL SLIDER SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    }\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1717388146543},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\Slider.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _SliderController = _interopRequireDefault(require(\"../controllers/SliderController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nvar _connectMultiparty = _interopRequireDefault(require(\"connect-multiparty\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar path = (0, _connectMultiparty.default)({\n  uploadDir: './uploads/slider'\n});\nconst router = (0, _expressPromiseRouter.default)();\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", [_auth.default.verifyAdmin, path], _SliderController.default.register);\nrouter.put(\"/update\", [_auth.default.verifyAdmin, path], _SliderController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _SliderController.default.list);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _SliderController.default.remove);\nrouter.get(\"/uploads/slider/:img\", _SliderController.default.obtener_imagen);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9TbGlkZXJDb250cm9sbGVyIiwiX2F1dGgiLCJfY29ubmVjdE11bHRpcGFydHkiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInBhdGgiLCJtdWx0aXBhcnR5IiwidXBsb2FkRGlyIiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJzbGlkZXJDb250cm9sbGVyIiwicmVnaXN0ZXIiLCJwdXQiLCJ1cGRhdGUiLCJnZXQiLCJsaXN0IiwiZGVsZXRlIiwicmVtb3ZlIiwib2J0ZW5lcl9pbWFnZW4iLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbndvcmxcXEVzY3JpdG9yaW9cXFByb2dyYW1hY2nDs25cXEVjb21tZXJjZVNvbGl0ZWtcXGFwaV9lY29tbWVyY2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJTbGlkZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcclxuaW1wb3J0IHNsaWRlckNvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvU2xpZGVyQ29udHJvbGxlcidcclxuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCdcclxuXHJcbmltcG9ydCBtdWx0aXBhcnR5IGZyb20gJ2Nvbm5lY3QtbXVsdGlwYXJ0eSdcclxudmFyIHBhdGggPSBtdWx0aXBhcnR5KHt1cGxvYWREaXI6ICcuL3VwbG9hZHMvc2xpZGVyJ30pXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxuLy8gaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS91c2Vycy9yZWdpc3RlclxyXG5cclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSxzbGlkZXJDb250cm9sbGVyLnJlZ2lzdGVyKTtcclxucm91dGVyLnB1dChcIi91cGRhdGVcIixbYXV0aC52ZXJpZnlBZG1pbixwYXRoXSxzbGlkZXJDb250cm9sbGVyLnVwZGF0ZSk7XHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5QWRtaW4sc2xpZGVyQ29udHJvbGxlci5saXN0KTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIixhdXRoLnZlcmlmeUFkbWluLHNsaWRlckNvbnRyb2xsZXIucmVtb3ZlKTtcclxuXHJcbnJvdXRlci5nZXQoXCIvdXBsb2Fkcy9zbGlkZXIvOmltZ1wiLHNsaWRlckNvbnRyb2xsZXIub2J0ZW5lcl9pbWFnZW4pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLGlCQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFBRyxrQkFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQTJDLFNBQUFELHVCQUFBSyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQzNDLElBQUlHLElBQUksR0FBRyxJQUFBQywwQkFBVSxFQUFDO0VBQUNDLFNBQVMsRUFBRTtBQUFrQixDQUFDLENBQUM7QUFDdEQsTUFBTUMsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUN4Qjs7QUFFQUQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFDLENBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFDUCxJQUFJLENBQUMsRUFBQ1EseUJBQWdCLENBQUNDLFFBQVEsQ0FBQztBQUMxRU4sTUFBTSxDQUFDTyxHQUFHLENBQUMsU0FBUyxFQUFDLENBQUNKLGFBQUksQ0FBQ0MsV0FBVyxFQUFDUCxJQUFJLENBQUMsRUFBQ1EseUJBQWdCLENBQUNHLE1BQU0sQ0FBQztBQUNyRVIsTUFBTSxDQUFDUyxHQUFHLENBQUMsT0FBTyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MseUJBQWdCLENBQUNLLElBQUksQ0FBQztBQUMxRFYsTUFBTSxDQUFDVyxNQUFNLENBQUMsU0FBUyxFQUFDUixhQUFJLENBQUNDLFdBQVcsRUFBQ0MseUJBQWdCLENBQUNPLE1BQU0sQ0FBQztBQUVqRVosTUFBTSxDQUFDUyxHQUFHLENBQUMsc0JBQXNCLEVBQUNKLHlCQUFnQixDQUFDUSxjQUFjLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQW5CLE9BQUEsR0FFcERJLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_SliderController","_auth","_connectMultiparty","obj","__esModule","default","path","multiparty","uploadDir","router","routerx","post","auth","verifyAdmin","sliderController","register","put","update","get","list","delete","remove","obtener_imagen","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\router\\","sources":["Slider.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport sliderController from '../controllers/SliderController'\r\nimport auth from '../middlewares/auth'\r\n\r\nimport multiparty from 'connect-multiparty'\r\nvar path = multiparty({uploadDir: './uploads/slider'})\r\nconst router = routerx();\r\n// http://localhost:3000/api/users/register\r\n\r\nrouter.post(\"/register\",[auth.verifyAdmin,path],sliderController.register);\r\nrouter.put(\"/update\",[auth.verifyAdmin,path],sliderController.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,sliderController.list);\r\nrouter.delete(\"/delete\",auth.verifyAdmin,sliderController.remove);\r\n\r\nrouter.get(\"/uploads/slider/:img\",sliderController.obtener_imagen);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,iBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAEA,IAAAG,kBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAA2C,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAC3C,IAAIG,IAAI,GAAG,IAAAC,0BAAU,EAAC;EAACC,SAAS,EAAE;AAAkB,CAAC,CAAC;AACtD,MAAMC,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAAC,CAACC,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,yBAAgB,CAACC,QAAQ,CAAC;AAC1EN,MAAM,CAACO,GAAG,CAAC,SAAS,EAAC,CAACJ,aAAI,CAACC,WAAW,EAACP,IAAI,CAAC,EAACQ,yBAAgB,CAACG,MAAM,CAAC;AACrER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACK,IAAI,CAAC;AAC1DV,MAAM,CAACW,MAAM,CAAC,SAAS,EAACR,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACO,MAAM,CAAC;AAEjEZ,MAAM,CAACS,GAAG,CAAC,sBAAsB,EAACJ,yBAAgB,CAACQ,cAAc,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAnB,OAAA,GAEpDI,MAAM","ignoreList":[]}},"mtime":1717647230586},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\SliderController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        // console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      const slider = await _models.default.Slider.create(req.body);\n      res.status(200).json(slider);\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      if (req.files && req.files.portada) {\n        var img_path = req.files.portada.path;\n        var name = img_path.split('\\\\');\n        var portada_name = name[2];\n        // console.log(portada_name)\n        req.body.imagen = portada_name;\n      }\n      await _models.default.Slider.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let SliderT = await _models.default.Slider.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"EL SLIDER SE HA MODIFICADO CORRECTAMENTE\",\n        slider: _resources.default.Slider.slider_list(SliderT)\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  list: async (req, res) => {\n    try {\n      var search = req.query.search;\n      let Sliders = await _models.default.Slider.find({\n        $or: [{\n          \"title\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      Sliders = Sliders.map(user => {\n        return _resources.default.Slider.slider_list(user);\n      });\n      res.status(200).json({\n        sliders: Sliders\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  obtener_imagen: async (req, res) => {\n    try {\n      var img = req.params['img'];\n      _fs.default.stat('./uploads/slider/' + img, function (err) {\n        if (!err) {\n          let path_img = './uploads/slider/' + img;\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        } else {\n          let path_img = './uploads/default.jpg';\n          res.status(200).sendFile(_path.default.resolve(path_img));\n        }\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.Slider.findByIdAndDelete({\n        _id: req.query._id\n      });\n      res.status(200).json({\n        message: \"EL SLIDER SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN PROBLEMA\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3VyY2VzIiwiX2ZzIiwiX3BhdGgiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiZmlsZXMiLCJpbWdfcGF0aCIsInBvcnRhZGEiLCJwYXRoIiwibmFtZSIsInNwbGl0IiwicG9ydGFkYV9uYW1lIiwiYm9keSIsImltYWdlbiIsInNsaWRlciIsIm1vZGVscyIsIlNsaWRlciIsImNyZWF0ZSIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsInNlbmQiLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyIsInVwZGF0ZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiX2lkIiwiU2xpZGVyVCIsImZpbmRPbmUiLCJyZXNvdXJjZSIsInNsaWRlcl9saXN0IiwibGlzdCIsInNlYXJjaCIsInF1ZXJ5IiwiU2xpZGVycyIsImZpbmQiLCIkb3IiLCJSZWdFeHAiLCJzb3J0IiwibWFwIiwidXNlciIsInNsaWRlcnMiLCJvYnRlbmVyX2ltYWdlbiIsImltZyIsInBhcmFtcyIsImZzIiwic3RhdCIsImVyciIsInBhdGhfaW1nIiwic2VuZEZpbGUiLCJyZXNvbHZlIiwicmVtb3ZlIiwiZmluZEJ5SWRBbmREZWxldGUiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbndvcmxcXEVzY3JpdG9yaW9cXFByb2dyYW1hY2nDs25cXEVjb21tZXJjZVNvbGl0ZWtcXGFwaV9lY29tbWVyY2VcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIlNsaWRlckNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnXHJcbmltcG9ydCByZXNvdXJjZSBmcm9tICcuLi9yZXNvdXJjZXMnXHJcbmltcG9ydCBmcyBmcm9tICdmcydcclxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZihyZXEuZmlsZXMpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLnBvcnRhZGEucGF0aDtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJ1xcXFwnKTtcclxuICAgICAgICAgICAgICAgIHZhciBwb3J0YWRhX25hbWUgPSBuYW1lWzJdO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocG9ydGFkYV9uYW1lKVxyXG4gICAgICAgICAgICAgICAgcmVxLmJvZHkuaW1hZ2VuID0gcG9ydGFkYV9uYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHNsaWRlciA9IGF3YWl0IG1vZGVscy5TbGlkZXIuY3JlYXRlKHJlcS5ib2R5KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oc2xpZGVyKTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB1cGRhdGU6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZihyZXEuZmlsZXMgJiYgcmVxLmZpbGVzLnBvcnRhZGEpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLnBvcnRhZGEucGF0aDtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lID0gaW1nX3BhdGguc3BsaXQoJ1xcXFwnKTtcclxuICAgICAgICAgICAgICAgIHZhciBwb3J0YWRhX25hbWUgPSBuYW1lWzJdO1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocG9ydGFkYV9uYW1lKVxyXG4gICAgICAgICAgICAgICAgcmVxLmJvZHkuaW1hZ2VuID0gcG9ydGFkYV9uYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5TbGlkZXIuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogcmVxLmJvZHkuX2lkfSxyZXEuYm9keSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgU2xpZGVyVCA9IGF3YWl0IG1vZGVscy5TbGlkZXIuZmluZE9uZSh7X2lkOiByZXEuYm9keS5faWR9KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFTCBTTElERVIgU0UgSEEgTU9ESUZJQ0FETyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICBzbGlkZXI6IHJlc291cmNlLlNsaWRlci5zbGlkZXJfbGlzdChTbGlkZXJUKSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbGlzdDogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHZhciBzZWFyY2ggPSByZXEucXVlcnkuc2VhcmNoO1xyXG4gICAgICAgICAgICBsZXQgU2xpZGVycyA9IGF3YWl0IG1vZGVscy5TbGlkZXIuZmluZCh7XHJcbiAgICAgICAgICAgICAgICAkb3I6W1xyXG4gICAgICAgICAgICAgICAgICAgIHtcInRpdGxlXCI6IG5ldyBSZWdFeHAoc2VhcmNoLCBcImlcIil9LFxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9KS5zb3J0KHsnY3JlYXRlZEF0JzogLTF9KTtcclxuXHJcbiAgICAgICAgICAgIFNsaWRlcnMgPSBTbGlkZXJzLm1hcCgodXNlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlLlNsaWRlci5zbGlkZXJfbGlzdCh1c2VyKTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIHNsaWRlcnM6IFNsaWRlcnNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIFBST0JMRU1BXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgb2J0ZW5lcl9pbWFnZW46IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgaW1nID0gcmVxLnBhcmFtc1snaW1nJ107XHJcblxyXG4gICAgICAgICAgICBmcy5zdGF0KCcuL3VwbG9hZHMvc2xpZGVyLycraW1nLCBmdW5jdGlvbihlcnIpe1xyXG4gICAgICAgICAgICAgICAgaWYoIWVycil7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9zbGlkZXIvJytpbWc7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKHBhdGgucmVzb2x2ZShwYXRoX2ltZykpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBhdGhfaW1nID0gJy4vdXBsb2Fkcy9kZWZhdWx0LmpwZyc7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLnNlbmRGaWxlKHBhdGgucmVzb2x2ZShwYXRoX2ltZykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBQUk9CTEVNQVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgIFxyXG4gICAgcmVtb3ZlOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlNsaWRlci5maW5kQnlJZEFuZERlbGV0ZSh7X2lkOiByZXEucXVlcnkuX2lkfSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRUwgU0xJREVSIFNFIEVMSU1JTk8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gUFJPQkxFTUFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFB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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resources","_fs","_path","obj","__esModule","default","_default","exports","register","req","res","files","img_path","portada","path","name","split","portada_name","body","imagen","slider","models","Slider","create","status","json","error","send","message","console","log","update","findByIdAndUpdate","_id","SliderT","findOne","resource","slider_list","list","search","query","Sliders","find","$or","RegExp","sort","map","user","sliders","obtener_imagen","img","params","fs","stat","err","path_img","sendFile","resolve","remove","findByIdAndDelete"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\controllers\\","sources":["SliderController.js"],"sourcesContent":["import models from '../models'\r\nimport resource from '../resources'\r\nimport fs from 'fs'\r\nimport path from 'path'\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            if(req.files){\r\n                var img_path = req.files.portada.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                // console.log(portada_name)\r\n                req.body.imagen = portada_name;\r\n            }\r\n            const slider = await models.Slider.create(req.body);\r\n            res.status(200).json(slider);\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    update: async(req,res) => {\r\n        try {\r\n            if(req.files && req.files.portada){\r\n                var img_path = req.files.portada.path;\r\n                var name = img_path.split('\\\\');\r\n                var portada_name = name[2];\r\n                // console.log(portada_name)\r\n                req.body.imagen = portada_name;\r\n            }\r\n            await models.Slider.findByIdAndUpdate({_id: req.body._id},req.body);\r\n\r\n            let SliderT = await models.Slider.findOne({_id: req.body._id});\r\n            res.status(200).json({\r\n                message: \"EL SLIDER SE HA MODIFICADO CORRECTAMENTE\",\r\n                slider: resource.Slider.slider_list(SliderT),\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    list: async(req,res) => {\r\n        try {\r\n            var search = req.query.search;\r\n            let Sliders = await models.Slider.find({\r\n                $or:[\r\n                    {\"title\": new RegExp(search, \"i\")},\r\n                ]\r\n            }).sort({'createdAt': -1});\r\n\r\n            Sliders = Sliders.map((user) => {\r\n                return resource.Slider.slider_list(user);\r\n            })\r\n\r\n            res.status(200).json({\r\n                sliders: Sliders\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    obtener_imagen: async(req,res) => {\r\n        try {\r\n            var img = req.params['img'];\r\n\r\n            fs.stat('./uploads/slider/'+img, function(err){\r\n                if(!err){\r\n                    let path_img = './uploads/slider/'+img;\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }else{\r\n                    let path_img = './uploads/default.jpg';\r\n                    res.status(200).sendFile(path.resolve(path_img));\r\n                }\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },  \r\n    remove: async(req,res) => {\r\n        try {\r\n            await models.Slider.findByIdAndDelete({_id: req.query._id});\r\n            res.status(200).json({\r\n                message: \"EL SLIDER SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN PROBLEMA\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    }\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1717388146543},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\Cupone.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst CuponeSchema = new _mongoose.Schema({\n  code: {\n    type: String,\n    maxlength: 50,\n    required: true\n  },\n  type_discount: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  //por porcentaje 1  o por moneda 2\n  discount: {\n    type: Number,\n    required: true\n  },\n  //por moneda o por porcentaje\n  type_count: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  //ilimitado 1 o limitado 2\n  num_use: {\n    type: Number,\n    required: false\n  },\n  type_segment: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es cupon por producto y 2 seria por categoria\n  state: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es activo\n  products: [{\n    type: Object\n  }],\n  //[{_id: asdasdas },{_id: dsdsds}]\n  categorias: [{\n    type: Object\n  }]\n}, {\n  timestamps: true\n});\nconst Cupone = _mongoose.default.model(\"cupones\", CuponeSchema);\nvar _default = exports.default = Cupone;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJDdXBvbmVTY2hlbWEiLCJTY2hlbWEiLCJjb2RlIiwidHlwZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsInJlcXVpcmVkIiwidHlwZV9kaXNjb3VudCIsIk51bWJlciIsImRpc2NvdW50IiwidHlwZV9jb3VudCIsIm51bV91c2UiLCJ0eXBlX3NlZ21lbnQiLCJzdGF0ZSIsInByb2R1Y3RzIiwiY2F0ZWdvcmlhcyIsInRpbWVzdGFtcHMiLCJDdXBvbmUiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiQ3Vwb25lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IEN1cG9uZVNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgY29kZTp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOjUwLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgdHlwZV9kaXNjb3VudDp7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZSxkZWZhdWx0OiAxfSwvL3BvciBwb3JjZW50YWplIDEgIG8gcG9yIG1vbmVkYSAyXHJcbiAgICBkaXNjb3VudDp7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZX0sLy9wb3IgbW9uZWRhIG8gcG9yIHBvcmNlbnRhamVcclxuICAgIHR5cGVfY291bnQ6e3R5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWUsZGVmYXVsdDoxfSwvL2lsaW1pdGFkbyAxIG8gbGltaXRhZG8gMlxyXG4gICAgbnVtX3VzZTp7dHlwZTpOdW1iZXIscmVxdWlyZWQ6ZmFsc2V9LFxyXG4gICAgdHlwZV9zZWdtZW50OiB7dHlwZTpOdW1iZXIscmVxdWlyZWQ6ZmFsc2UsZGVmYXVsdDoxfSwvLzEgZXMgY3Vwb24gcG9yIHByb2R1Y3RvIHkgMiBzZXJpYSBwb3IgY2F0ZWdvcmlhXHJcbiAgICBzdGF0ZTp7dHlwZTpOdW1iZXIscmVxdWlyZWQ6ZmFsc2UsZGVmYXVsdDogMX0sLy8xIGVzIGFjdGl2b1xyXG4gICAgcHJvZHVjdHM6W3t0eXBlOk9iamVjdH1dLC8vW3tfaWQ6IGFzZGFzZGFzIH0se19pZDogZHNkc2RzfV1cclxuICAgIGNhdGVnb3JpYXM6W3t0eXBlOk9iamVjdH1dXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczp0cnVlXHJcbn0pXHJcblxyXG5jb25zdCBDdXBvbmUgPSBtb25nb29zZS5tb2RlbChcImN1cG9uZXNcIixDdXBvbmVTY2hlbWEpO1xyXG5leHBvcnQgZGVmYXVsdCBDdXBvbmU7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBeUMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxLQUFBRixDQUFBO0FBQUEsU0FBQUgsd0JBQUFHLENBQUEsRUFBQUUsQ0FBQSxTQUFBQSxDQUFBLElBQUFGLENBQUEsSUFBQUEsQ0FBQSxDQUFBSSxVQUFBLFNBQUFKLENBQUEsZUFBQUEsQ0FB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","CuponeSchema","Schema","code","type","String","maxlength","required","type_discount","Number","discount","type_count","num_use","type_segment","state","products","categorias","timestamps","Cupone","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\models\\","sources":["Cupone.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst CuponeSchema = new Schema({\r\n    code:{type:String,maxlength:50,required:true},\r\n    type_discount:{type:Number,required:true,default: 1},//por porcentaje 1  o por moneda 2\r\n    discount:{type:Number,required:true},//por moneda o por porcentaje\r\n    type_count:{type:Number,required:true,default:1},//ilimitado 1 o limitado 2\r\n    num_use:{type:Number,required:false},\r\n    type_segment: {type:Number,required:false,default:1},//1 es cupon por producto y 2 seria por categoria\r\n    state:{type:Number,required:false,default: 1},//1 es activo\r\n    products:[{type:Object}],//[{_id: asdasdas },{_id: dsdsds}]\r\n    categorias:[{type:Object}]\r\n},{\r\n    timestamps:true\r\n})\r\n\r\nconst Cupone = mongoose.model(\"cupones\",CuponeSchema);\r\nexport default Cupone;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,YAAY,GAAG,IAAIC,gBAAM,CAAC;EAC5BC,IAAI,EAAC;IAACC,IAAI,EAACC,MAAM;IAACC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC7CC,aAAa,EAAC;IAACJ,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,IAAI;IAACpB,OAAO,EAAE;EAAC,CAAC;EAAC;EACrDuB,QAAQ,EAAC;IAACN,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC;EAAI,CAAC;EAAC;EACrCI,UAAU,EAAC;IAACP,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,IAAI;IAACpB,OAAO,EAAC;EAAC,CAAC;EAAC;EACjDyB,OAAO,EAAC;IAACR,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC;EAAK,CAAC;EACpCM,YAAY,EAAE;IAACT,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,KAAK;IAACpB,OAAO,EAAC;EAAC,CAAC;EAAC;EACrD2B,KAAK,EAAC;IAACV,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,KAAK;IAACpB,OAAO,EAAE;EAAC,CAAC;EAAC;EAC9C4B,QAAQ,EAAC,CAAC;IAACX,IAAI,EAACX;EAAM,CAAC,CAAC;EAAC;EACzBuB,UAAU,EAAC,CAAC;IAACZ,IAAI,EAACX;EAAM,CAAC;AAC7B,CAAC,EAAC;EACEwB,UAAU,EAAC;AACf,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAGC,iBAAQ,CAACC,KAAK,CAAC,SAAS,EAACnB,YAAY,CAAC;AAAC,IAAAoB,QAAA,GAAAC,OAAA,CAAAnC,OAAA,GACvC+B,MAAM","ignoreList":[]}},"mtime":1717558899583},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\Cupone.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst CuponeSchema = new _mongoose.Schema({\n  code: {\n    type: String,\n    maxlength: 50,\n    required: true\n  },\n  type_discount: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  //por porcentaje 1  o por moneda 2\n  discount: {\n    type: Number,\n    required: true\n  },\n  //por moneda o por porcentaje\n  type_count: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  //ilimitado 1 o limitado 2\n  num_use: {\n    type: Number,\n    required: false\n  },\n  type_segment: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es cupon por producto y 2 seria por categoria\n  state: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es activo\n  products: [{\n    type: Object\n  }],\n  //[{_id: asdasdas },{_id: dsdsds}]\n  categorias: [{\n    type: Object\n  }]\n}, {\n  timestamps: true\n});\nconst Cupone = _mongoose.default.model(\"cupones\", CuponeSchema);\nvar _default = exports.default = Cupone;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJDdXBvbmVTY2hlbWEiLCJTY2hlbWEiLCJjb2RlIiwidHlwZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsInJlcXVpcmVkIiwidHlwZV9kaXNjb3VudCIsIk51bWJlciIsImRpc2NvdW50IiwidHlwZV9jb3VudCIsIm51bV91c2UiLCJ0eXBlX3NlZ21lbnQiLCJzdGF0ZSIsInByb2R1Y3RzIiwiY2F0ZWdvcmlhcyIsInRpbWVzdGFtcHMiLCJDdXBvbmUiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiQ3Vwb25lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IEN1cG9uZVNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgY29kZTp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOjUwLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgdHlwZV9kaXNjb3VudDp7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZSxkZWZhdWx0OiAxfSwvL3BvciBwb3JjZW50YWplIDEgIG8gcG9yIG1vbmVkYSAyXHJcbiAgICBkaXNjb3VudDp7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZX0sLy9wb3IgbW9uZWRhIG8gcG9yIHBvcmNlbnRhamVcclxuICAgIHR5cGVfY291bnQ6e3R5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWUsZGVmYXVsdDoxfSwvL2lsaW1pdGFkbyAxIG8gbGltaXRhZG8gMlxyXG4gICAgbnVtX3VzZTp7dHlwZTpOdW1iZXIscmVxdWlyZWQ6ZmFsc2V9LFxyXG4gICAgdHlwZV9zZWdtZW50OiB7dHlwZTpOdW1iZXIscmVxdWlyZWQ6ZmFsc2UsZGVmYXVsdDoxfSwvLzEgZXMgY3Vwb24gcG9yIHByb2R1Y3RvIHkgMiBzZXJpYSBwb3IgY2F0ZWdvcmlhXHJcbiAgICBzdGF0ZTp7dHlwZTpOdW1iZXIscmVxdWlyZWQ6ZmFsc2UsZGVmYXVsdDogMX0sLy8xIGVzIGFjdGl2b1xyXG4gICAgcHJvZHVjdHM6W3t0eXBlOk9iamVjdH1dLC8vW3tfaWQ6IGFzZGFzZGFzIH0se19pZDogZHNkc2RzfV1cclxuICAgIGNhdGVnb3JpYXM6W3t0eXBlOk9iamVjdH1dXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczp0cnVlXHJcbn0pXHJcblxyXG5jb25zdCBDdXBvbmUgPSBtb25nb29zZS5tb2RlbChcImN1cG9uZXNcIixDdXBvbmVTY2hlbWEpO1xyXG5leHBvcnQgZGVmYXVsdCBDdXBvbmU7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBeUMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxLQUFBRixDQUFBO0FBQUEsU0FBQUgsd0JBQUFHLENBQUEsRUFBQUUsQ0FBQSxTQUFBQSxDQUFBLElBQUFGLENBQUEsSUFBQUEsQ0FBQSxDQUFBSSxVQUFBLFNBQUFKLENBQUEsZUFBQUEsQ0FB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","CuponeSchema","Schema","code","type","String","maxlength","required","type_discount","Number","discount","type_count","num_use","type_segment","state","products","categorias","timestamps","Cupone","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\models\\","sources":["Cupone.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst CuponeSchema = new Schema({\r\n    code:{type:String,maxlength:50,required:true},\r\n    type_discount:{type:Number,required:true,default: 1},//por porcentaje 1  o por moneda 2\r\n    discount:{type:Number,required:true},//por moneda o por porcentaje\r\n    type_count:{type:Number,required:true,default:1},//ilimitado 1 o limitado 2\r\n    num_use:{type:Number,required:false},\r\n    type_segment: {type:Number,required:false,default:1},//1 es cupon por producto y 2 seria por categoria\r\n    state:{type:Number,required:false,default: 1},//1 es activo\r\n    products:[{type:Object}],//[{_id: asdasdas },{_id: dsdsds}]\r\n    categorias:[{type:Object}]\r\n},{\r\n    timestamps:true\r\n})\r\n\r\nconst Cupone = mongoose.model(\"cupones\",CuponeSchema);\r\nexport default Cupone;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,YAAY,GAAG,IAAIC,gBAAM,CAAC;EAC5BC,IAAI,EAAC;IAACC,IAAI,EAACC,MAAM;IAACC,SAAS,EAAC,EAAE;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC7CC,aAAa,EAAC;IAACJ,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,IAAI;IAACpB,OAAO,EAAE;EAAC,CAAC;EAAC;EACrDuB,QAAQ,EAAC;IAACN,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC;EAAI,CAAC;EAAC;EACrCI,UAAU,EAAC;IAACP,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,IAAI;IAACpB,OAAO,EAAC;EAAC,CAAC;EAAC;EACjDyB,OAAO,EAAC;IAACR,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC;EAAK,CAAC;EACpCM,YAAY,EAAE;IAACT,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,KAAK;IAACpB,OAAO,EAAC;EAAC,CAAC;EAAC;EACrD2B,KAAK,EAAC;IAACV,IAAI,EAACK,MAAM;IAACF,QAAQ,EAAC,KAAK;IAACpB,OAAO,EAAE;EAAC,CAAC;EAAC;EAC9C4B,QAAQ,EAAC,CAAC;IAACX,IAAI,EAACX;EAAM,CAAC,CAAC;EAAC;EACzBuB,UAAU,EAAC,CAAC;IAACZ,IAAI,EAACX;EAAM,CAAC;AAC7B,CAAC,EAAC;EACEwB,UAAU,EAAC;AACf,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAGC,iBAAQ,CAACC,KAAK,CAAC,SAAS,EAACnB,YAAY,CAAC;AAAC,IAAAoB,QAAA,GAAAC,OAAA,CAAAnC,OAAA,GACvC+B,MAAM","ignoreList":[]}},"mtime":1717558899583},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\Cupone.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CuponeController = _interopRequireDefault(require(\"../controllers/CuponeController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", _auth.default.verifyAdmin, _CuponeController.default.register);\nrouter.put(\"/update\", _auth.default.verifyAdmin, _CuponeController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _CuponeController.default.list);\nrouter.get(\"/config\", _auth.default.verifyAdmin, _CuponeController.default.config);\nrouter.get(\"/show\", _auth.default.verifyAdmin, _CuponeController.default.show);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _CuponeController.default.delete);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DdXBvbmVDb250cm9sbGVyIiwiX2F1dGgiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsInJvdXRlcngiLCJwb3N0IiwiYXV0aCIsInZlcmlmeUFkbWluIiwiY3Vwb25lQ29udHJvbGxlciIsInJlZ2lzdGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImNvbmZpZyIsInNob3ciLCJkZWxldGUiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbndvcmxcXEVzY3JpdG9yaW9cXFByb2dyYW1hY2nDs25cXEVjb21tZXJjZVNvbGl0ZWtcXGFwaV9lY29tbWVyY2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJDdXBvbmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcclxuaW1wb3J0IGN1cG9uZUNvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvQ3Vwb25lQ29udHJvbGxlcidcclxuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCdcclxuXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxuXHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsYXV0aC52ZXJpZnlBZG1pbixjdXBvbmVDb250cm9sbGVyLnJlZ2lzdGVyKTtcclxucm91dGVyLnB1dChcIi91cGRhdGVcIixhdXRoLnZlcmlmeUFkbWluLGN1cG9uZUNvbnRyb2xsZXIudXBkYXRlKTtcclxucm91dGVyLmdldChcIi9saXN0XCIsYXV0aC52ZXJpZnlBZG1pbixjdXBvbmVDb250cm9sbGVyLmxpc3QpO1xyXG5yb3V0ZXIuZ2V0KFwiL2NvbmZpZ1wiLGF1dGgudmVyaWZ5QWRtaW4sY3Vwb25lQ29udHJvbGxlci5jb25maWcpO1xyXG5yb3V0ZXIuZ2V0KFwiL3Nob3dcIixhdXRoLnZlcmlmeUFkbWluLGN1cG9uZUNvbnRyb2xsZXIuc2hvdyk7XHJcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlXCIsYXV0aC52ZXJpZnlBZG1pbixjdXBvbmVDb250cm9sbGVyLmRlbGV0ZSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsaUJBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFzQyxTQUFBRCx1QkFBQUksR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUV0QyxNQUFNRyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDO0FBRXhCRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ0MsUUFBUSxDQUFDO0FBQ25FTixNQUFNLENBQUNPLEdBQUcsQ0FBQyxTQUFTLEVBQUNKLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ0csTUFBTSxDQUFDO0FBQzlEUixNQUFNLENBQUNTLEdBQUcsQ0FBQyxPQUFPLEVBQUNOLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ0ssSUFBSSxDQUFDO0FBQzFEVixNQUFNLENBQUNTLEdBQUcsQ0FBQyxTQUFTLEVBQUNOLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ00sTUFBTSxDQUFDO0FBQzlEWCxNQUFNLENBQUNTLEdBQUcsQ0FBQyxPQUFPLEVBQUNOLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ08sSUFBSSxDQUFDO0FBQzFEWixNQUFNLENBQUNhLE1BQU0sQ0FBQyxTQUFTLEVBQUNWLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ1EsTUFBTSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFoQixPQUFBLEdBRW5EQyxNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CuponeController","_auth","obj","__esModule","default","router","routerx","post","auth","verifyAdmin","cuponeController","register","put","update","get","list","config","show","delete","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\router\\","sources":["Cupone.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport cuponeController from '../controllers/CuponeController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n\r\nrouter.post(\"/register\",auth.verifyAdmin,cuponeController.register);\r\nrouter.put(\"/update\",auth.verifyAdmin,cuponeController.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,cuponeController.list);\r\nrouter.get(\"/config\",auth.verifyAdmin,cuponeController.config);\r\nrouter.get(\"/show\",auth.verifyAdmin,cuponeController.show);\r\nrouter.delete(\"/delete\",auth.verifyAdmin,cuponeController.delete);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,iBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACC,QAAQ,CAAC;AACnEN,MAAM,CAACO,GAAG,CAAC,SAAS,EAACJ,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACG,MAAM,CAAC;AAC9DR,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACK,IAAI,CAAC;AAC1DV,MAAM,CAACS,GAAG,CAAC,SAAS,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACM,MAAM,CAAC;AAC9DX,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACO,IAAI,CAAC;AAC1DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAACV,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACQ,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAEnDC,MAAM","ignoreList":[]}},"mtime":1717647232948},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\Cupone.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CuponeController = _interopRequireDefault(require(\"../controllers/CuponeController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", _auth.default.verifyAdmin, _CuponeController.default.register);\nrouter.put(\"/update\", _auth.default.verifyAdmin, _CuponeController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _CuponeController.default.list);\nrouter.get(\"/config\", _auth.default.verifyAdmin, _CuponeController.default.config);\nrouter.get(\"/show\", _auth.default.verifyAdmin, _CuponeController.default.show);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _CuponeController.default.delete);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DdXBvbmVDb250cm9sbGVyIiwiX2F1dGgiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsInJvdXRlcngiLCJwb3N0IiwiYXV0aCIsInZlcmlmeUFkbWluIiwiY3Vwb25lQ29udHJvbGxlciIsInJlZ2lzdGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImNvbmZpZyIsInNob3ciLCJkZWxldGUiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbndvcmxcXEVzY3JpdG9yaW9cXFByb2dyYW1hY2nDs25cXEVjb21tZXJjZVNvbGl0ZWtcXGFwaV9lY29tbWVyY2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJDdXBvbmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcclxuaW1wb3J0IGN1cG9uZUNvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvQ3Vwb25lQ29udHJvbGxlcidcclxuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCdcclxuXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxuXHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsYXV0aC52ZXJpZnlBZG1pbixjdXBvbmVDb250cm9sbGVyLnJlZ2lzdGVyKTtcclxucm91dGVyLnB1dChcIi91cGRhdGVcIixhdXRoLnZlcmlmeUFkbWluLGN1cG9uZUNvbnRyb2xsZXIudXBkYXRlKTtcclxucm91dGVyLmdldChcIi9saXN0XCIsYXV0aC52ZXJpZnlBZG1pbixjdXBvbmVDb250cm9sbGVyLmxpc3QpO1xyXG5yb3V0ZXIuZ2V0KFwiL2NvbmZpZ1wiLGF1dGgudmVyaWZ5QWRtaW4sY3Vwb25lQ29udHJvbGxlci5jb25maWcpO1xyXG5yb3V0ZXIuZ2V0KFwiL3Nob3dcIixhdXRoLnZlcmlmeUFkbWluLGN1cG9uZUNvbnRyb2xsZXIuc2hvdyk7XHJcbnJvdXRlci5kZWxldGUoXCIvZGVsZXRlXCIsYXV0aC52ZXJpZnlBZG1pbixjdXBvbmVDb250cm9sbGVyLmRlbGV0ZSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsaUJBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFzQyxTQUFBRCx1QkFBQUksR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUV0QyxNQUFNRyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDO0FBRXhCRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUNDLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ0MsUUFBUSxDQUFDO0FBQ25FTixNQUFNLENBQUNPLEdBQUcsQ0FBQyxTQUFTLEVBQUNKLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ0csTUFBTSxDQUFDO0FBQzlEUixNQUFNLENBQUNTLEdBQUcsQ0FBQyxPQUFPLEVBQUNOLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ0ssSUFBSSxDQUFDO0FBQzFEVixNQUFNLENBQUNTLEdBQUcsQ0FBQyxTQUFTLEVBQUNOLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ00sTUFBTSxDQUFDO0FBQzlEWCxNQUFNLENBQUNTLEdBQUcsQ0FBQyxPQUFPLEVBQUNOLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ08sSUFBSSxDQUFDO0FBQzFEWixNQUFNLENBQUNhLE1BQU0sQ0FBQyxTQUFTLEVBQUNWLGFBQUksQ0FBQ0MsV0FBVyxFQUFDQyx5QkFBZ0IsQ0FBQ1EsTUFBTSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFoQixPQUFBLEdBRW5EQyxNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CuponeController","_auth","obj","__esModule","default","router","routerx","post","auth","verifyAdmin","cuponeController","register","put","update","get","list","config","show","delete","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\router\\","sources":["Cupone.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport cuponeController from '../controllers/CuponeController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n\r\nrouter.post(\"/register\",auth.verifyAdmin,cuponeController.register);\r\nrouter.put(\"/update\",auth.verifyAdmin,cuponeController.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,cuponeController.list);\r\nrouter.get(\"/config\",auth.verifyAdmin,cuponeController.config);\r\nrouter.get(\"/show\",auth.verifyAdmin,cuponeController.show);\r\nrouter.delete(\"/delete\",auth.verifyAdmin,cuponeController.delete);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,iBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACC,QAAQ,CAAC;AACnEN,MAAM,CAACO,GAAG,CAAC,SAAS,EAACJ,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACG,MAAM,CAAC;AAC9DR,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACK,IAAI,CAAC;AAC1DV,MAAM,CAACS,GAAG,CAAC,SAAS,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACM,MAAM,CAAC;AAC9DX,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACO,IAAI,CAAC;AAC1DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAACV,aAAI,CAACC,WAAW,EAACC,yBAAgB,CAACQ,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAEnDC,MAAM","ignoreList":[]}},"mtime":1717647232948},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\CuponeController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let exits_cupone = await _models.default.Cupone.findOne({\n        code: data.code\n      });\n      if (exits_cupone) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\n        });\n        return;\n      }\n      let cupone = await _models.default.Cupone.create(data);\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL CUPON REGISTRO CORRECTAMENTE\",\n        cupone: cupone\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      let exits_cupone = await _models.default.Cupone.findOne({\n        code: data.code,\n        _id: {\n          $ne: data._id\n        }\n      });\n      if (exits_cupone) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\n        });\n        return;\n      }\n      let cupone = await _models.default.Cupone.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let cuponeT = await _models.default.Cupone.findById({\n        _id: data._id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL CUPON SE ACTUALIZO CORRECTAMENTE\",\n        cupone: cuponeT\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Cupone.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL CUPON SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      let search = req.query.search;\n      let cupones = await _models.default.Cupone.find({\n        $or: [{\n          \"code\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        message: 200,\n        cupones: cupones\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  show: async (req, res) => {\n    try {\n      let cupone_id = req.query.cupone_id;\n      let cupon = await _models.default.Cupone.findOne({\n        _id: cupone_id\n      });\n      res.status(200).json({\n        message: 200,\n        cupon: cupon\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  config: async (req, res) => {\n    try {\n      let Products = await _models.default.Product.find({\n        state: 2\n      });\n      let Categorias = await _models.default.Categoria.find({\n        state: 1\n      });\n      res.status(200).json({\n        message: 200,\n        products: Products,\n        categorias: Categorias\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiZGF0YSIsImJvZHkiLCJleGl0c19jdXBvbmUiLCJtb2RlbHMiLCJDdXBvbmUiLCJmaW5kT25lIiwiY29kZSIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwibWVzc2FnZV90ZXh0IiwiY3Vwb25lIiwiY3JlYXRlIiwiZXJyb3IiLCJzZW5kIiwidXBkYXRlIiwiX2lkIiwiJG5lIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJjdXBvbmVUIiwiZmluZEJ5SWQiLCJkZWxldGUiLCJxdWVyeSIsImZpbmRCeUlkQW5kRGVsZXRlIiwibGlzdCIsInNlYXJjaCIsImN1cG9uZXMiLCJmaW5kIiwiJG9yIiwiUmVnRXhwIiwic29ydCIsInNob3ciLCJjdXBvbmVfaWQiLCJjdXBvbiIsImNvbmZpZyIsIlByb2R1Y3RzIiwiUHJvZHVjdCIsInN0YXRlIiwiQ2F0ZWdvcmlhcyIsIkNhdGVnb3JpYSIsInByb2R1Y3RzIiwiY2F0ZWdvcmlhcyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxud29ybFxcRXNjcml0b3Jpb1xcUHJvZ3JhbWFjacOzblxcRWNvbW1lcmNlU29saXRla1xcYXBpX2Vjb21tZXJjZVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiQ3Vwb25lQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xyXG5cclxuICAgICAgICAgICAgbGV0IGV4aXRzX2N1cG9uZSA9IGF3YWl0IG1vZGVscy5DdXBvbmUuZmluZE9uZSh7Y29kZTogZGF0YS5jb2RlfSk7XHJcblxyXG4gICAgICAgICAgICBpZihleGl0c19jdXBvbmUpe1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6NDAzLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBDT0RJR08gREVMIENVUE9OIFlBIEVYSVNURVwiXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGN1cG9uZSA9IGF3YWl0IG1vZGVscy5DdXBvbmUuY3JlYXRlKGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIENVUE9OIFJFR0lTVFJPIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgICAgIGN1cG9uZTpjdXBvbmVcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgdXBkYXRlOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuXHJcbiAgICAgICAgICAgIGxldCBleGl0c19jdXBvbmUgPSBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmRPbmUoe2NvZGU6IGRhdGEuY29kZSxfaWQ6IHskbmU6IGRhdGEuX2lkfX0pO1xyXG5cclxuICAgICAgICAgICAgaWYoZXhpdHNfY3Vwb25lKXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOjQwMyxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgQ09ESUdPIERFTCBDVVBPTiBZQSBFWElTVEVcIlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBjdXBvbmUgPSBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IGRhdGEuX2lkfSxkYXRhKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBjdXBvbmVUID0gYXdhaXQgbW9kZWxzLkN1cG9uZS5maW5kQnlJZCh7X2lkOiBkYXRhLl9pZH0pO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIENVUE9OIFNFIEFDVFVBTElaTyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICBjdXBvbmU6Y3Vwb25lVCxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgZGVsZXRlOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IF9pZCA9IHJlcS5xdWVyeS5faWQ7XHJcblxyXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IF9pZH0pO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIENVUE9OIFNFIEVMSU1JTk8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBsaXN0OiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IHNlYXJjaCA9IHJlcS5xdWVyeS5zZWFyY2g7XHJcblxyXG4gICAgICAgICAgICBsZXQgY3Vwb25lcyA9IGF3YWl0IG1vZGVscy5DdXBvbmUuZmluZCh7XHJcbiAgICAgICAgICAgICAgICAkb3I6W1xyXG4gICAgICAgICAgICAgICAgICAgIHtcImNvZGVcIjogbmV3IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH0pLnNvcnQoeydjcmVhdGVkQXQnOiAtMX0pO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgY3Vwb25lczogY3Vwb25lcyxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgc2hvdzogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBjdXBvbmVfaWQgPSByZXEucXVlcnkuY3Vwb25lX2lkO1xyXG5cclxuICAgICAgICAgICAgbGV0IGN1cG9uID0gYXdhaXQgbW9kZWxzLkN1cG9uZS5maW5kT25lKHtfaWQ6IGN1cG9uZV9pZH0pO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgY3Vwb246IGN1cG9uLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBjb25maWc6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG5cclxuICAgICAgICAgICAgbGV0IFByb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7c3RhdGU6IDJ9KTtcclxuICAgICAgICAgICAgbGV0IENhdGVnb3JpYXMgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmlhLmZpbmQoe3N0YXRlOjF9KTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcclxuICAgICAgICAgICAgICAgIHByb2R1Y3RzOiBQcm9kdWN0cyxcclxuICAgICAgICAgICAgICAgIGNhdGVnb3JpYXM6IENhdGVnb3JpYXMsXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gRVJST1JcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQThCLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FFZjtFQUNYRyxRQUFRLEVBQUUsTUFBQUEsQ0FBTUMsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDeEIsSUFBSTtNQUNBLElBQUlDLElBQUksR0FBR0YsR0FBRyxDQUFDRyxJQUFJO01BRW5CLElBQUlDLFlBQVksR0FBRyxNQUFNQyxlQUFNLENBQUNDLE1BQU0sQ0FBQ0MsT0FBTyxDQUFDO1FBQUNDLElBQUksRUFBRU4sSUFBSSxDQUFDTTtNQUFJLENBQUMsQ0FBQztNQUVqRSxJQUFHSixZQUFZLEVBQUM7UUFDWkgsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztVQUNqQkMsT0FBTyxFQUFDLEdBQUc7VUFDWEMsWUFBWSxFQUFFO1FBQ2xCLENBQUMsQ0FBQztRQUNGO01BQ0o7TUFFQSxJQUFJQyxNQUFNLEdBQUcsTUFBTVIsZUFBTSxDQUFDQyxNQUFNLENBQUNRLE1BQU0sQ0FBQ1osSUFBSSxDQUFDO01BRTdDRCxHQUFHLENBQUNRLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUUsR0FBRztR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","map":{"version":3,"names":["_models","_interopRequireDefault","require","obj","__esModule","default","_default","exports","register","req","res","data","body","exits_cupone","models","Cupone","findOne","code","status","json","message","message_text","cupone","create","error","send","update","_id","$ne","findByIdAndUpdate","cuponeT","findById","delete","query","findByIdAndDelete","list","search","cupones","find","$or","RegExp","sort","show","cupone_id","cupon","config","Products","Product","state","Categorias","Categoria","products","categorias"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\controllers\\","sources":["CuponeController.js"],"sourcesContent":["import models from \"../models\"\r\n\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n\r\n            let exits_cupone = await models.Cupone.findOne({code: data.code});\r\n\r\n            if(exits_cupone){\r\n                res.status(200).json({\r\n                    message:403,\r\n                    message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\r\n                });\r\n                return;\r\n            }\r\n\r\n            let cupone = await models.Cupone.create(data);\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL CUPON REGISTRO CORRECTAMENTE\",\r\n                cupone:cupone\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    update: async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n\r\n            let exits_cupone = await models.Cupone.findOne({code: data.code,_id: {$ne: data._id}});\r\n\r\n            if(exits_cupone){\r\n                res.status(200).json({\r\n                    message:403,\r\n                    message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\r\n                });\r\n                return;\r\n            }\r\n\r\n            let cupone = await models.Cupone.findByIdAndUpdate({_id: data._id},data);\r\n            \r\n            let cuponeT = await models.Cupone.findById({_id: data._id});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL CUPON SE ACTUALIZO CORRECTAMENTE\",\r\n                cupone:cuponeT,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    delete: async(req,res) => {\r\n        try {\r\n            let _id = req.query._id;\r\n\r\n            await models.Cupone.findByIdAndDelete({_id: _id});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL CUPON SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    list: async(req,res) => {\r\n        try {\r\n            let search = req.query.search;\r\n\r\n            let cupones = await models.Cupone.find({\r\n                $or:[\r\n                    {\"code\": new RegExp(search, \"i\")},\r\n                ]\r\n            }).sort({'createdAt': -1});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                cupones: cupones,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    show: async(req,res) => {\r\n        try {\r\n            let cupone_id = req.query.cupone_id;\r\n\r\n            let cupon = await models.Cupone.findOne({_id: cupone_id});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                cupon: cupon,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    config: async(req,res) => {\r\n        try {\r\n\r\n            let Products = await models.Product.find({state: 2});\r\n            let Categorias = await models.Categoria.find({state:1});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                products: Products,\r\n                categorias: Categorias,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1717557216310},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\CuponeController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      let exits_cupone = await _models.default.Cupone.findOne({\n        code: data.code\n      });\n      if (exits_cupone) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\n        });\n        return;\n      }\n      let cupone = await _models.default.Cupone.create(data);\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL CUPON REGISTRO CORRECTAMENTE\",\n        cupone: cupone\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      let exits_cupone = await _models.default.Cupone.findOne({\n        code: data.code,\n        _id: {\n          $ne: data._id\n        }\n      });\n      if (exits_cupone) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\n        });\n        return;\n      }\n      let cupone = await _models.default.Cupone.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let cuponeT = await _models.default.Cupone.findById({\n        _id: data._id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL CUPON SE ACTUALIZO CORRECTAMENTE\",\n        cupone: cuponeT\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Cupone.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL CUPON SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      let search = req.query.search;\n      let cupones = await _models.default.Cupone.find({\n        $or: [{\n          \"code\": new RegExp(search, \"i\")\n        }]\n      }).sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        message: 200,\n        cupones: cupones\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  show: async (req, res) => {\n    try {\n      let cupone_id = req.query.cupone_id;\n      let cupon = await _models.default.Cupone.findOne({\n        _id: cupone_id\n      });\n      res.status(200).json({\n        message: 200,\n        cupon: cupon\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  config: async (req, res) => {\n    try {\n      let Products = await _models.default.Product.find({\n        state: 2\n      });\n      let Categorias = await _models.default.Categoria.find({\n        state: 1\n      });\n      res.status(200).json({\n        message: 200,\n        products: Products,\n        categorias: Categorias\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiZGF0YSIsImJvZHkiLCJleGl0c19jdXBvbmUiLCJtb2RlbHMiLCJDdXBvbmUiLCJmaW5kT25lIiwiY29kZSIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwibWVzc2FnZV90ZXh0IiwiY3Vwb25lIiwiY3JlYXRlIiwiZXJyb3IiLCJzZW5kIiwidXBkYXRlIiwiX2lkIiwiJG5lIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJjdXBvbmVUIiwiZmluZEJ5SWQiLCJkZWxldGUiLCJxdWVyeSIsImZpbmRCeUlkQW5kRGVsZXRlIiwibGlzdCIsInNlYXJjaCIsImN1cG9uZXMiLCJmaW5kIiwiJG9yIiwiUmVnRXhwIiwic29ydCIsInNob3ciLCJjdXBvbmVfaWQiLCJjdXBvbiIsImNvbmZpZyIsIlByb2R1Y3RzIiwiUHJvZHVjdCIsInN0YXRlIiwiQ2F0ZWdvcmlhcyIsIkNhdGVnb3JpYSIsInByb2R1Y3RzIiwiY2F0ZWdvcmlhcyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxud29ybFxcRXNjcml0b3Jpb1xcUHJvZ3JhbWFjacOzblxcRWNvbW1lcmNlU29saXRla1xcYXBpX2Vjb21tZXJjZVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiQ3Vwb25lQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gXCIuLi9tb2RlbHNcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgZGF0YSA9IHJlcS5ib2R5O1xyXG5cclxuICAgICAgICAgICAgbGV0IGV4aXRzX2N1cG9uZSA9IGF3YWl0IG1vZGVscy5DdXBvbmUuZmluZE9uZSh7Y29kZTogZGF0YS5jb2RlfSk7XHJcblxyXG4gICAgICAgICAgICBpZihleGl0c19jdXBvbmUpe1xyXG4gICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6NDAzLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBDT0RJR08gREVMIENVUE9OIFlBIEVYSVNURVwiXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGN1cG9uZSA9IGF3YWl0IG1vZGVscy5DdXBvbmUuY3JlYXRlKGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIENVUE9OIFJFR0lTVFJPIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgICAgIGN1cG9uZTpjdXBvbmVcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgdXBkYXRlOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuXHJcbiAgICAgICAgICAgIGxldCBleGl0c19jdXBvbmUgPSBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmRPbmUoe2NvZGU6IGRhdGEuY29kZSxfaWQ6IHskbmU6IGRhdGEuX2lkfX0pO1xyXG5cclxuICAgICAgICAgICAgaWYoZXhpdHNfY3Vwb25lKXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOjQwMyxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgQ09ESUdPIERFTCBDVVBPTiBZQSBFWElTVEVcIlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBjdXBvbmUgPSBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IGRhdGEuX2lkfSxkYXRhKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBjdXBvbmVUID0gYXdhaXQgbW9kZWxzLkN1cG9uZS5maW5kQnlJZCh7X2lkOiBkYXRhLl9pZH0pO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIENVUE9OIFNFIEFDVFVBTElaTyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICBjdXBvbmU6Y3Vwb25lVCxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgZGVsZXRlOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IF9pZCA9IHJlcS5xdWVyeS5faWQ7XHJcblxyXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuQ3Vwb25lLmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IF9pZH0pO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIENVUE9OIFNFIEVMSU1JTk8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBsaXN0OiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IHNlYXJjaCA9IHJlcS5xdWVyeS5zZWFyY2g7XHJcblxyXG4gICAgICAgICAgICBsZXQgY3Vwb25lcyA9IGF3YWl0IG1vZGVscy5DdXBvbmUuZmluZCh7XHJcbiAgICAgICAgICAgICAgICAkb3I6W1xyXG4gICAgICAgICAgICAgICAgICAgIHtcImNvZGVcIjogbmV3IFJlZ0V4cChzZWFyY2gsIFwiaVwiKX0sXHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH0pLnNvcnQoeydjcmVhdGVkQXQnOiAtMX0pO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgY3Vwb25lczogY3Vwb25lcyxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgc2hvdzogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBjdXBvbmVfaWQgPSByZXEucXVlcnkuY3Vwb25lX2lkO1xyXG5cclxuICAgICAgICAgICAgbGV0IGN1cG9uID0gYXdhaXQgbW9kZWxzLkN1cG9uZS5maW5kT25lKHtfaWQ6IGN1cG9uZV9pZH0pO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgY3Vwb246IGN1cG9uLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBjb25maWc6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG5cclxuICAgICAgICAgICAgbGV0IFByb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7c3RhdGU6IDJ9KTtcclxuICAgICAgICAgICAgbGV0IENhdGVnb3JpYXMgPSBhd2FpdCBtb2RlbHMuQ2F0ZWdvcmlhLmZpbmQoe3N0YXRlOjF9KTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcclxuICAgICAgICAgICAgICAgIHByb2R1Y3RzOiBQcm9kdWN0cyxcclxuICAgICAgICAgICAgICAgIGNhdGVnb3JpYXM6IENhdGVnb3JpYXMsXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gRVJST1JcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQThCLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFGLE9BQUEsR0FFZjtFQUNYRyxRQUFRLEVBQUUsTUFBQUEsQ0FBTUMsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDeEIsSUFBSTtNQUNBLElBQUlDLElBQUksR0FBR0YsR0FBRyxDQUFDRyxJQUFJO01BRW5CLElBQUlDLFlBQVksR0FBRyxNQUFNQyxlQUFNLENBQUNDLE1BQU0sQ0FBQ0MsT0FBTyxDQUFDO1FBQUNDLElBQUksRUFBRU4sSUFBSSxDQUFDTTtNQUFJLENBQUMsQ0FBQztNQUVqRSxJQUFHSixZQUFZLEVBQUM7UUFDWkgsR0FBRyxDQUFDUSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztVQUNqQkMsT0FBTyxFQUFDLEdBQUc7VUFDWEMsWUFBWSxFQUFFO1FBQ2xCLENBQUMsQ0FBQztRQUNGO01BQ0o7TUFFQSxJQUFJQyxNQUFNLEdBQUcsTUFBTVIsZUFBTSxDQUFDQyxNQUFNLENBQUNRLE1BQU0sQ0FBQ1osSUFBSSxDQUFDO01BRTdDRCxHQUFHLENBQUNRLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUUsR0FBRztR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","map":{"version":3,"names":["_models","_interopRequireDefault","require","obj","__esModule","default","_default","exports","register","req","res","data","body","exits_cupone","models","Cupone","findOne","code","status","json","message","message_text","cupone","create","error","send","update","_id","$ne","findByIdAndUpdate","cuponeT","findById","delete","query","findByIdAndDelete","list","search","cupones","find","$or","RegExp","sort","show","cupone_id","cupon","config","Products","Product","state","Categorias","Categoria","products","categorias"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\controllers\\","sources":["CuponeController.js"],"sourcesContent":["import models from \"../models\"\r\n\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n\r\n            let exits_cupone = await models.Cupone.findOne({code: data.code});\r\n\r\n            if(exits_cupone){\r\n                res.status(200).json({\r\n                    message:403,\r\n                    message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\r\n                });\r\n                return;\r\n            }\r\n\r\n            let cupone = await models.Cupone.create(data);\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL CUPON REGISTRO CORRECTAMENTE\",\r\n                cupone:cupone\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    update: async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n\r\n            let exits_cupone = await models.Cupone.findOne({code: data.code,_id: {$ne: data._id}});\r\n\r\n            if(exits_cupone){\r\n                res.status(200).json({\r\n                    message:403,\r\n                    message_text: \"EL CODIGO DEL CUPON YA EXISTE\"\r\n                });\r\n                return;\r\n            }\r\n\r\n            let cupone = await models.Cupone.findByIdAndUpdate({_id: data._id},data);\r\n            \r\n            let cuponeT = await models.Cupone.findById({_id: data._id});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL CUPON SE ACTUALIZO CORRECTAMENTE\",\r\n                cupone:cuponeT,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    delete: async(req,res) => {\r\n        try {\r\n            let _id = req.query._id;\r\n\r\n            await models.Cupone.findByIdAndDelete({_id: _id});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL CUPON SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    list: async(req,res) => {\r\n        try {\r\n            let search = req.query.search;\r\n\r\n            let cupones = await models.Cupone.find({\r\n                $or:[\r\n                    {\"code\": new RegExp(search, \"i\")},\r\n                ]\r\n            }).sort({'createdAt': -1});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                cupones: cupones,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    show: async(req,res) => {\r\n        try {\r\n            let cupone_id = req.query.cupone_id;\r\n\r\n            let cupon = await models.Cupone.findOne({_id: cupone_id});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                cupon: cupon,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    config: async(req,res) => {\r\n        try {\r\n\r\n            let Products = await models.Product.find({state: 2});\r\n            let Categorias = await models.Categoria.find({state:1});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                products: Products,\r\n                categorias: Categorias,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1717557216310},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\Discount.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst DiscountSchema = new _mongoose.Schema({\n  type_campaign: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // 1 es campaña norma y 2 es venta flash\n  type_discount: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // 1 es porcentaje y 2 es moneda\n  discount: {\n    type: Number,\n    required: true\n  },\n  start_date: {\n    type: Date,\n    required: true\n  },\n  end_date: {\n    type: Date,\n    required: true\n  },\n  start_date_num: {\n    type: Number,\n    required: true\n  },\n  end_date_num: {\n    type: Number,\n    required: true\n  },\n  state: {\n    type: Number,\n    default: 1\n  },\n  //1 es activo y 2 es desactivo\n  type_segment: {\n    type: Number,\n    default: 1\n  },\n  //1 es por producto y 2 es por categoria\n  products: [{\n    type: Object,\n    required: false\n  }],\n  categorias: [{\n    type: Object,\n    required: false\n  }]\n}, {\n  timestamps: true\n});\nconst Discount = _mongoose.default.model(\"discounts\", DiscountSchema);\nvar _default = exports.default = Discount;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJEaXNjb3VudFNjaGVtYSIsIlNjaGVtYSIsInR5cGVfY2FtcGFpZ24iLCJ0eXBlIiwiTnVtYmVyIiwicmVxdWlyZWQiLCJ0eXBlX2Rpc2NvdW50IiwiZGlzY291bnQiLCJzdGFydF9kYXRlIiwiRGF0ZSIsImVuZF9kYXRlIiwic3RhcnRfZGF0ZV9udW0iLCJlbmRfZGF0ZV9udW0iLCJzdGF0ZSIsInR5cGVfc2VnbWVudCIsInByb2R1Y3RzIiwiY2F0ZWdvcmlhcyIsInRpbWVzdGFtcHMiLCJEaXNjb3VudCIsIm1vbmdvb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbndvcmxcXEVzY3JpdG9yaW9cXFByb2dyYW1hY2nDs25cXEVjb21tZXJjZVNvbGl0ZWtcXGFwaV9lY29tbWVyY2VcXG1vZGVsc1xcIiwic291cmNlcyI6WyJEaXNjb3VudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UsIHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuY29uc3QgRGlzY291bnRTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIHR5cGVfY2FtcGFpZ246IHt0eXBlOk51bWJlciwgcmVxdWlyZWQ6dHJ1ZSwgZGVmYXVsdDogMX0sIC8vIDEgZXMgY2FtcGHDsWEgbm9ybWEgeSAyIGVzIHZlbnRhIGZsYXNoXHJcbiAgICB0eXBlX2Rpc2NvdW50OiB7dHlwZTpOdW1iZXIsIHJlcXVpcmVkOnRydWUsIGRlZmF1bHQ6IDF9LCAvLyAxIGVzIHBvcmNlbnRhamUgeSAyIGVzIG1vbmVkYVxyXG4gICAgZGlzY291bnQ6IHt0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgc3RhcnRfZGF0ZToge3R5cGU6RGF0ZSxyZXF1aXJlZDp0cnVlfSxcclxuICAgIGVuZF9kYXRlOnsgdHlwZTpEYXRlLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgc3RhcnRfZGF0ZV9udW06IHt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSxcclxuICAgIGVuZF9kYXRlX251bTp7IHR5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgc3RhdGU6e3R5cGU6TnVtYmVyLGRlZmF1bHQ6IDF9LCAvLzEgZXMgYWN0aXZvIHkgMiBlcyBkZXNhY3Rpdm9cclxuICAgIHR5cGVfc2VnbWVudDp7dHlwZTpOdW1iZXIsZGVmYXVsdDogMX0sLy8xIGVzIHBvciBwcm9kdWN0byB5IDIgZXMgcG9yIGNhdGVnb3JpYVxyXG4gICAgcHJvZHVjdHM6W3t0eXBlOk9iamVjdCwgcmVxdWlyZWQ6ZmFsc2V9XSxcclxuICAgIGNhdGVnb3JpYXM6W3t0eXBlOk9iamVjdCwgcmVxdWlyZWQ6ZmFsc2V9XSxcclxufSx7XHJcbiAgICB0aW1lc3RhbXBzOnRydWUsXHJcbn0pO1xyXG5cclxuY29uc3QgRGlzY291bnQgPSBtb25nb29zZS5tb2RlbChcImRpc2NvdW50c1wiLERpc2NvdW50U2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgRGlzY291bnQ7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBMEMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","DiscountSchema","Schema","type_campaign","type","Number","required","type_discount","discount","start_date","Date","end_date","start_date_num","end_date_num","state","type_segment","products","categorias","timestamps","Discount","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\models\\","sources":["Discount.js"],"sourcesContent":["import mongoose, {Schema} from \"mongoose\";\r\n\r\nconst DiscountSchema = new Schema({\r\n    type_campaign: {type:Number, required:true, default: 1}, // 1 es campaña norma y 2 es venta flash\r\n    type_discount: {type:Number, required:true, default: 1}, // 1 es porcentaje y 2 es moneda\r\n    discount: {type: Number, required:true},\r\n    start_date: {type:Date,required:true},\r\n    end_date:{ type:Date,required:true},\r\n    start_date_num: {type:Number,required:true},\r\n    end_date_num:{ type:Number,required:true},\r\n    state:{type:Number,default: 1}, //1 es activo y 2 es desactivo\r\n    type_segment:{type:Number,default: 1},//1 es por producto y 2 es por categoria\r\n    products:[{type:Object, required:false}],\r\n    categorias:[{type:Object, required:false}],\r\n},{\r\n    timestamps:true,\r\n});\r\n\r\nconst Discount = mongoose.model(\"discounts\",DiscountSchema);\r\nexport default Discount;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMW,cAAc,GAAG,IAAIC,gBAAM,CAAC;EAC9BC,aAAa,EAAE;IAACC,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC,IAAI;IAAEnB,OAAO,EAAE;EAAC,CAAC;EAAE;EACzDoB,aAAa,EAAE;IAACH,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC,IAAI;IAAEnB,OAAO,EAAE;EAAC,CAAC;EAAE;EACzDqB,QAAQ,EAAE;IAACJ,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACvCG,UAAU,EAAE;IAACL,IAAI,EAACM,IAAI;IAACJ,QAAQ,EAAC;EAAI,CAAC;EACrCK,QAAQ,EAAC;IAAEP,IAAI,EAACM,IAAI;IAACJ,QAAQ,EAAC;EAAI,CAAC;EACnCM,cAAc,EAAE;IAACR,IAAI,EAACC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC3CO,YAAY,EAAC;IAAET,IAAI,EAACC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EACzCQ,KAAK,EAAC;IAACV,IAAI,EAACC,MAAM;IAAClB,OAAO,EAAE;EAAC,CAAC;EAAE;EAChC4B,YAAY,EAAC;IAACX,IAAI,EAACC,MAAM;IAAClB,OAAO,EAAE;EAAC,CAAC;EAAC;EACtC6B,QAAQ,EAAC,CAAC;IAACZ,IAAI,EAACX,MAAM;IAAEa,QAAQ,EAAC;EAAK,CAAC,CAAC;EACxCW,UAAU,EAAC,CAAC;IAACb,IAAI,EAACX,MAAM;IAAEa,QAAQ,EAAC;EAAK,CAAC;AAC7C,CAAC,EAAC;EACEY,UAAU,EAAC;AACf,CAAC,CAAC;AAEF,MAAMC,QAAQ,GAAGC,iBAAQ,CAACC,KAAK,CAAC,WAAW,EAACpB,cAAc,CAAC;AAAC,IAAAqB,QAAA,GAAAC,OAAA,CAAApC,OAAA,GAC7CgC,QAAQ","ignoreList":[]}},"mtime":1717868205146},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\Discount.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _DiscountController = _interopRequireDefault(require(\"../controllers/DiscountController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", _auth.default.verifyAdmin, _DiscountController.default.register);\nrouter.put(\"/update\", _auth.default.verifyAdmin, _DiscountController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _DiscountController.default.list);\nrouter.get(\"/config\", _auth.default.verifyAdmin, _DiscountController.default.config);\nrouter.get(\"/show\", _auth.default.verifyAdmin, _DiscountController.default.show);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _DiscountController.default.delete);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9EaXNjb3VudENvbnRyb2xsZXIiLCJfYXV0aCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJkaXNjb3VudENvbnRyb2xsZXIiLCJyZWdpc3RlciIsInB1dCIsInVwZGF0ZSIsImdldCIsImxpc3QiLCJjb25maWciLCJzaG93IiwiZGVsZXRlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsiRGlzY291bnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcclxuaW1wb3J0IGRpc2NvdW50Q29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9EaXNjb3VudENvbnRyb2xsZXInXHJcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXHJcblxyXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLGF1dGgudmVyaWZ5QWRtaW4sZGlzY291bnRDb250cm9sbGVyLnJlZ2lzdGVyKTtcclxucm91dGVyLnB1dChcIi91cGRhdGVcIixhdXRoLnZlcmlmeUFkbWluLGRpc2NvdW50Q29udHJvbGxlci51cGRhdGUpO1xyXG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIixhdXRoLnZlcmlmeUFkbWluLGRpc2NvdW50Q29udHJvbGxlci5saXN0KTtcclxucm91dGVyLmdldChcIi9jb25maWdcIixhdXRoLnZlcmlmeUFkbWluLGRpc2NvdW50Q29udHJvbGxlci5jb25maWcpO1xyXG5yb3V0ZXIuZ2V0KFwiL3Nob3dcIixhdXRoLnZlcmlmeUFkbWluLGRpc2NvdW50Q29udHJvbGxlci5zaG93KTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIixhdXRoLnZlcmlmeUFkbWluLGRpc2NvdW50Q29udHJvbGxlci5kZWxldGUpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLG1CQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBc0MsU0FBQUQsdUJBQUFJLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFdEMsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUV4QkQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNDLFFBQVEsQ0FBQztBQUNyRU4sTUFBTSxDQUFDTyxHQUFHLENBQUMsU0FBUyxFQUFDSixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNHLE1BQU0sQ0FBQztBQUNoRVIsTUFBTSxDQUFDUyxHQUFHLENBQUMsT0FBTyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNLLElBQUksQ0FBQztBQUM1RFYsTUFBTSxDQUFDUyxHQUFHLENBQUMsU0FBUyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNNLE1BQU0sQ0FBQztBQUNoRVgsTUFBTSxDQUFDUyxHQUFHLENBQUMsT0FBTyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNPLElBQUksQ0FBQztBQUM1RFosTUFBTSxDQUFDYSxNQUFNLENBQUMsU0FBUyxFQUFDVixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNRLE1BQU0sQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBaEIsT0FBQSxHQUVyREMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_DiscountController","_auth","obj","__esModule","default","router","routerx","post","auth","verifyAdmin","discountController","register","put","update","get","list","config","show","delete","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\router\\","sources":["Discount.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport discountController from '../controllers/DiscountController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n\r\nrouter.post(\"/register\",auth.verifyAdmin,discountController.register);\r\nrouter.put(\"/update\",auth.verifyAdmin,discountController.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,discountController.list);\r\nrouter.get(\"/config\",auth.verifyAdmin,discountController.config);\r\nrouter.get(\"/show\",auth.verifyAdmin,discountController.show);\r\nrouter.delete(\"/delete\",auth.verifyAdmin,discountController.delete);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,mBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACC,QAAQ,CAAC;AACrEN,MAAM,CAACO,GAAG,CAAC,SAAS,EAACJ,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACG,MAAM,CAAC;AAChER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACK,IAAI,CAAC;AAC5DV,MAAM,CAACS,GAAG,CAAC,SAAS,EAACN,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACM,MAAM,CAAC;AAChEX,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACO,IAAI,CAAC;AAC5DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAACV,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACQ,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAErDC,MAAM","ignoreList":[]}},"mtime":1717601564423},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\DiscountController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      var filter_a = [];\n      var filter_b = [];\n      //product_s = [\"id\",\"id\"]\n      //categorie_s = [\"id\",\"id\"]\n      if (data.type_segment == 1) {\n        filter_a.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n      } else {\n        filter_a.push({\n          \"categorias\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categoria_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"categorias\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categoria_s\n              }\n            }\n          }\n        });\n      }\n      // 5 - 8 marzo -> televisor - laptop\n      // 4 - 7 de marzo ->  refrigeradora\n\n      // 5 - 8 marzo -> televisor - laptop\n      // 7 - 9 de marzo -> televisor - refrigeradora\n      filter_a.push({\n        type_campaign: data.type_campaign,\n        start_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      filter_b.push({\n        type_campaign: data.type_campaign,\n        end_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      let exits_start_date = await _models.default.Discount.find({\n        $and: filter_a\n      }); //[]\n\n      let exits_end_date = await _models.default.Discount.find({\n        $and: filter_b\n      });\n      if (exits_start_date.length > 0 || exits_end_date.length > 0) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR ELIMINAR ALGUNAS OPCIONES\"\n        });\n        return;\n      }\n      let discount = await _models.default.Discount.create(data);\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL DESCUENTO SE REGISTRO CORRECTAMENTE\",\n        discount: discount\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      var filter_a = [];\n      var filter_b = [];\n      //product_s = [\"id\",\"id\"]\n      //categorie_s = [\"id\",\"id\"]\n      if (data.type_segment == 1) {\n        filter_a.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n      } else {\n        filter_a.push({\n          \"categorias\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categoria_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"categorias\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categoria_s\n              }\n            }\n          }\n        });\n      }\n      // 5 - 8 marzo -> televisor - laptop\n      // 4 - 7 de marzo ->  refrigeradora\n\n      // 5 - 8 marzo -> televisor - laptop\n      // 7 - 9 de marzo -> televisor - refrigeradora\n      filter_a.push({\n        type_campaign: data.type_campaign,\n        _id: {\n          $ne: data._id\n        },\n        start_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      filter_b.push({\n        type_campaign: data.type_campaign,\n        _id: {\n          $ne: data._id\n        },\n        end_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      let exits_start_date = await _models.default.Discount.find({\n        $and: filter_a\n      });\n      let exits_end_date = await _models.default.Discount.find({\n        $and: filter_b\n      });\n      if (exits_start_date.length > 0 || exits_end_date.length > 0) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR ELIMINAR ALGUNAS OPCIONES\"\n        });\n        return;\n      }\n      let discount = await _models.default.Discount.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL DESCUENTO SE REGISTRO CORRECTAMENTE\",\n        discount: discount\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Discount.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL DESCUENTO SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      // let search = req.query.search;\n\n      let discounts = await _models.default.Discount.find().sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        message: 200,\n        discounts: discounts\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  show: async (req, res) => {\n    try {\n      let discount_id = req.query.discount_id;\n      let discount = await _models.default.Discount.findOne({\n        _id: discount_id\n      });\n      res.status(200).json({\n        message: 200,\n        discount: discount\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  config: async (req, res) => {\n    try {\n      let Products = await _models.default.Product.find({\n        state: 2\n      });\n      let Categorias = await _models.default.Categoria.find({\n        state: 1\n      });\n      res.status(200).json({\n        message: 200,\n        products: Products,\n        categorias: Categorias\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiZGF0YSIsImJvZHkiLCJmaWx0ZXJfYSIsImZpbHRlcl9iIiwidHlwZV9zZWdtZW50IiwicHVzaCIsIiRlbGVtTWF0Y2giLCJfaWQiLCIkaW4iLCJwcm9kdWN0X3MiLCJjYXRlZ29yaWFfcyIsInR5cGVfY2FtcGFpZ24iLCJzdGFydF9kYXRlX251bSIsIiRndGUiLCIkbHRlIiwiZW5kX2RhdGVfbnVtIiwiZXhpdHNfc3RhcnRfZGF0ZSIsIm1vZGVscyIsIkRpc2NvdW50IiwiZmluZCIsIiRhbmQiLCJleGl0c19lbmRfZGF0ZSIsImxlbmd0aCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwibWVzc2FnZV90ZXh0IiwiZGlzY291bnQiLCJjcmVhdGUiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJzZW5kIiwidXBkYXRlIiwiJG5lIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJkZWxldGUiLCJxdWVyeSIsImZpbmRCeUlkQW5kRGVsZXRlIiwibGlzdCIsImRpc2NvdW50cyIsInNvcnQiLCJzaG93IiwiZGlzY291bnRfaWQiLCJmaW5kT25lIiwiY29uZmlnIiwiUHJvZHVjdHMiLCJQcm9kdWN0Iiwic3RhdGUiLCJDYXRlZ29yaWFzIiwiQ2F0ZWdvcmlhIiwicHJvZHVjdHMiLCJjYXRlZ29yaWFzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJEaXNjb3VudENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHJlZ2lzdGVyOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuICAgICAgICAgICAgdmFyIGZpbHRlcl9hID0gW107XHJcbiAgICAgICAgICAgIHZhciBmaWx0ZXJfYiA9IFtdO1xyXG4gICAgICAgICAgICAvL3Byb2R1Y3RfcyA9IFtcImlkXCIsXCJpZFwiXVxyXG4gICAgICAgICAgICAvL2NhdGVnb3JpZV9zID0gW1wiaWRcIixcImlkXCJdXHJcbiAgICAgICAgICAgIGlmKGRhdGEudHlwZV9zZWdtZW50ID09IDEpe1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyX2EucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgXCJwcm9kdWN0c1wiOiB7JGVsZW1NYXRjaDoge19pZDogeyRpbjogZGF0YS5wcm9kdWN0X3N9fX1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyX2IucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwcm9kdWN0c1wiOiB7JGVsZW1NYXRjaDoge19pZDogeyRpbjogZGF0YS5wcm9kdWN0X3N9fX1cclxuICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIGZpbHRlcl9hLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIFwiY2F0ZWdvcmlhc1wiOiB7JGVsZW1NYXRjaDoge19pZDogeyRpbjogZGF0YS5jYXRlZ29yaWFfc319fVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJfYi5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBcImNhdGVnb3JpYXNcIjogeyRlbGVtTWF0Y2g6IHtfaWQ6IHskaW46IGRhdGEuY2F0ZWdvcmlhX3N9fX1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIDUgLSA4IG1hcnpvIC0+IHRlbGV2aXNvciAtIGxhcHRvcFxyXG4gICAgICAgICAgICAvLyA0IC0gNyBkZSBtYXJ6byAtPiAgcmVmcmlnZXJhZG9yYVxyXG5cclxuICAgICAgICAgICAgLy8gNSAtIDggbWFyem8gLT4gdGVsZXZpc29yIC0gbGFwdG9wXHJcbiAgICAgICAgICAgIC8vIDcgLSA5IGRlIG1hcnpvIC0+IHRlbGV2aXNvciAtIHJlZnJpZ2VyYWRvcmFcclxuICAgICAgICAgICAgZmlsdGVyX2EucHVzaCh7XHJcbiAgICAgICAgICAgICAgICB0eXBlX2NhbXBhaWduOiBkYXRhLnR5cGVfY2FtcGFpZ24sXHJcbiAgICAgICAgICAgICAgICBzdGFydF9kYXRlX251bTogeyRndGU6IGRhdGEuc3RhcnRfZGF0ZV9udW0sJGx0ZTogZGF0YS5lbmRfZGF0ZV9udW19XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGZpbHRlcl9iLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgdHlwZV9jYW1wYWlnbjogZGF0YS50eXBlX2NhbXBhaWduLFxyXG4gICAgICAgICAgICAgICAgZW5kX2RhdGVfbnVtOiB7JGd0ZTogZGF0YS5zdGFydF9kYXRlX251bSwkbHRlOiBkYXRhLmVuZF9kYXRlX251bX1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgbGV0IGV4aXRzX3N0YXJ0X2RhdGUgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZCh7JGFuZDogZmlsdGVyX2F9KTsvL1tdXHJcblxyXG4gICAgICAgICAgICBsZXQgZXhpdHNfZW5kX2RhdGUgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZCh7JGFuZDogZmlsdGVyX2J9KTtcclxuXHJcbiAgICAgICAgICAgIGlmKGV4aXRzX3N0YXJ0X2RhdGUubGVuZ3RoID4gMCB8fCBleGl0c19lbmRfZGF0ZS5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOjQwMyxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgREVTQ1VFTlRPIE5PIFNFIFBVRURFIFBST0dSQU1BUiBFTElNSU5BUiBBTEdVTkFTIE9QQ0lPTkVTXCJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgZGlzY291bnQgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuY3JlYXRlKGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIERFU0NVRU5UTyBTRSBSRUdJU1RSTyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICBkaXNjb3VudDpkaXNjb3VudFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gRVJST1JcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHVwZGF0ZTogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XHJcbiAgICAgICAgICAgIHZhciBmaWx0ZXJfYSA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgZmlsdGVyX2IgPSBbXTtcclxuICAgICAgICAgICAgLy9wcm9kdWN0X3MgPSBbXCJpZFwiLFwiaWRcIl1cclxuICAgICAgICAgICAgLy9jYXRlZ29yaWVfcyA9IFtcImlkXCIsXCJpZFwiXVxyXG4gICAgICAgICAgICBpZihkYXRhLnR5cGVfc2VnbWVudCA9PSAxKXtcclxuICAgICAgICAgICAgICAgIGZpbHRlcl9hLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgIFwicHJvZHVjdHNcIjogeyRlbGVtTWF0Y2g6IHtfaWQ6IHskaW46IGRhdGEucHJvZHVjdF9zfX19XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGZpbHRlcl9iLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIFwicHJvZHVjdHNcIjogeyRlbGVtTWF0Y2g6IHtfaWQ6IHskaW46IGRhdGEucHJvZHVjdF9zfX19XHJcbiAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJfYS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBcImNhdGVnb3JpYXNcIjogeyRlbGVtTWF0Y2g6IHtfaWQ6IHskaW46IGRhdGEuY2F0ZWdvcmlhX3N9fX1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyX2IucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJjYXRlZ29yaWFzXCI6IHskZWxlbU1hdGNoOiB7X2lkOiB7JGluOiBkYXRhLmNhdGVnb3JpYV9zfX19XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyA1IC0gOCBtYXJ6byAtPiB0ZWxldmlzb3IgLSBsYXB0b3BcclxuICAgICAgICAgICAgLy8gNCAtIDcgZGUgbWFyem8gLT4gIHJlZnJpZ2VyYWRvcmFcclxuXHJcbiAgICAgICAgICAgIC8vIDUgLSA4IG1hcnpvIC0+IHRlbGV2aXNvciAtIGxhcHRvcFxyXG4gICAgICAgICAgICAvLyA3IC0gOSBkZSBtYXJ6byAtPiB0ZWxldmlzb3IgLSByZWZyaWdlcmFkb3JhXHJcbiAgICAgICAgICAgIGZpbHRlcl9hLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgdHlwZV9jYW1wYWlnbjogZGF0YS50eXBlX2NhbXBhaWduLFxyXG4gICAgICAgICAgICAgICAgX2lkOiB7JG5lOiBkYXRhLl9pZH0sXHJcbiAgICAgICAgICAgICAgICBzdGFydF9kYXRlX251bTogeyRndGU6IGRhdGEuc3RhcnRfZGF0ZV9udW0sJGx0ZTogZGF0YS5lbmRfZGF0ZV9udW19XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGZpbHRlcl9iLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgdHlwZV9jYW1wYWlnbjogZGF0YS50eXBlX2NhbXBhaWduLFxyXG4gICAgICAgICAgICAgICAgX2lkOiB7JG5lOiBkYXRhLl9pZH0sXHJcbiAgICAgICAgICAgICAgICBlbmRfZGF0ZV9udW06IHskZ3RlOiBkYXRhLnN0YXJ0X2RhdGVfbnVtLCRsdGU6IGRhdGEuZW5kX2RhdGVfbnVtfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBsZXQgZXhpdHNfc3RhcnRfZGF0ZSA9IGF3YWl0IG1vZGVscy5EaXNjb3VudC5maW5kKHskYW5kOiBmaWx0ZXJfYX0pO1xyXG5cclxuICAgICAgICAgICAgbGV0IGV4aXRzX2VuZF9kYXRlID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmQoeyRhbmQ6IGZpbHRlcl9ifSk7XHJcblxyXG4gICAgICAgICAgICBpZihleGl0c19zdGFydF9kYXRlLmxlbmd0aCA+IDAgfHwgZXhpdHNfZW5kX2RhdGUubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTo0MDMsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIERFU0NVRU5UTyBOTyBTRSBQVUVERSBQUk9HUkFNQVIgRUxJTUlOQVIgQUxHVU5BUyBPUENJT05FU1wiXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGRpc2NvdW50ID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IGRhdGEuX2lkfSxkYXRhKTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBERVNDVUVOVE8gU0UgUkVHSVNUUk8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICAgICAgZGlzY291bnQ6ZGlzY291bnRcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgZGVsZXRlOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IF9pZCA9IHJlcS5xdWVyeS5faWQ7XHJcblxyXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZEJ5SWRBbmREZWxldGUoe19pZDogX2lkfSk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgREVTQ1VFTlRPIFNFIEVMSU1JTk8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBsaXN0OiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gbGV0IHNlYXJjaCA9IHJlcS5xdWVyeS5zZWFyY2g7XHJcblxyXG4gICAgICAgICAgICBsZXQgZGlzY291bnRzID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmQoKS5zb3J0KHsnY3JlYXRlZEF0JzogLTF9KTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcclxuICAgICAgICAgICAgICAgIGRpc2NvdW50czogZGlzY291bnRzLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzaG93OiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRpc2NvdW50X2lkID0gcmVxLnF1ZXJ5LmRpc2NvdW50X2lkO1xyXG5cclxuICAgICAgICAgICAgbGV0IGRpc2NvdW50ID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmRPbmUoe19pZDogZGlzY291bnRfaWR9KTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcclxuICAgICAgICAgICAgICAgIGRpc2NvdW50OiBkaXNjb3VudCxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgY29uZmlnOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuXHJcbiAgICAgICAgICAgIGxldCBQcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoe3N0YXRlOiAyfSk7XHJcbiAgICAgICAgICAgIGxldCBDYXRlZ29yaWFzID0gYXdhaXQgbW9kZWxzLkNhdGVnb3JpYS5maW5kKHtzdGF0ZToxfSk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICBwcm9kdWN0czogUHJvZHVjdHMsXHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWFzOiBDYXRlZ29yaWFzLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUE4QixTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElBQUFHLFFBQUEs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","map":{"version":3,"names":["_models","_interopRequireDefault","require","obj","__esModule","default","_default","exports","register","req","res","data","body","filter_a","filter_b","type_segment","push","$elemMatch","_id","$in","product_s","categoria_s","type_campaign","start_date_num","$gte","$lte","end_date_num","exits_start_date","models","Discount","find","$and","exits_end_date","length","status","json","message","message_text","discount","create","error","console","log","send","update","$ne","findByIdAndUpdate","delete","query","findByIdAndDelete","list","discounts","sort","show","discount_id","findOne","config","Products","Product","state","Categorias","Categoria","products","categorias"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\controllers\\","sources":["DiscountController.js"],"sourcesContent":["import models from \"../models\"\r\n\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            var filter_a = [];\r\n            var filter_b = [];\r\n            //product_s = [\"id\",\"id\"]\r\n            //categorie_s = [\"id\",\"id\"]\r\n            if(data.type_segment == 1){\r\n                filter_a.push({\r\n                 \"products\": {$elemMatch: {_id: {$in: data.product_s}}}\r\n                });\r\n                filter_b.push({\r\n                    \"products\": {$elemMatch: {_id: {$in: data.product_s}}}\r\n                   });\r\n            }else{\r\n                filter_a.push({\r\n                    \"categorias\": {$elemMatch: {_id: {$in: data.categoria_s}}}\r\n                });\r\n                filter_b.push({\r\n                    \"categorias\": {$elemMatch: {_id: {$in: data.categoria_s}}}\r\n                });\r\n            }\r\n            // 5 - 8 marzo -> televisor - laptop\r\n            // 4 - 7 de marzo ->  refrigeradora\r\n\r\n            // 5 - 8 marzo -> televisor - laptop\r\n            // 7 - 9 de marzo -> televisor - refrigeradora\r\n            filter_a.push({\r\n                type_campaign: data.type_campaign,\r\n                start_date_num: {$gte: data.start_date_num,$lte: data.end_date_num}\r\n            })\r\n            filter_b.push({\r\n                type_campaign: data.type_campaign,\r\n                end_date_num: {$gte: data.start_date_num,$lte: data.end_date_num}\r\n            })\r\n            let exits_start_date = await models.Discount.find({$and: filter_a});//[]\r\n\r\n            let exits_end_date = await models.Discount.find({$and: filter_b});\r\n\r\n            if(exits_start_date.length > 0 || exits_end_date.length > 0){\r\n                res.status(200).json({\r\n                    message:403,\r\n                    message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR ELIMINAR ALGUNAS OPCIONES\"\r\n                });\r\n                return;\r\n            }\r\n\r\n            let discount = await models.Discount.create(data);\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL DESCUENTO SE REGISTRO CORRECTAMENTE\",\r\n                discount:discount\r\n            });\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    update: async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            var filter_a = [];\r\n            var filter_b = [];\r\n            //product_s = [\"id\",\"id\"]\r\n            //categorie_s = [\"id\",\"id\"]\r\n            if(data.type_segment == 1){\r\n                filter_a.push({\r\n                 \"products\": {$elemMatch: {_id: {$in: data.product_s}}}\r\n                });\r\n                filter_b.push({\r\n                    \"products\": {$elemMatch: {_id: {$in: data.product_s}}}\r\n                   });\r\n            }else{\r\n                filter_a.push({\r\n                    \"categorias\": {$elemMatch: {_id: {$in: data.categoria_s}}}\r\n                });\r\n                filter_b.push({\r\n                    \"categorias\": {$elemMatch: {_id: {$in: data.categoria_s}}}\r\n                });\r\n            }\r\n            // 5 - 8 marzo -> televisor - laptop\r\n            // 4 - 7 de marzo ->  refrigeradora\r\n\r\n            // 5 - 8 marzo -> televisor - laptop\r\n            // 7 - 9 de marzo -> televisor - refrigeradora\r\n            filter_a.push({\r\n                type_campaign: data.type_campaign,\r\n                _id: {$ne: data._id},\r\n                start_date_num: {$gte: data.start_date_num,$lte: data.end_date_num}\r\n            })\r\n            filter_b.push({\r\n                type_campaign: data.type_campaign,\r\n                _id: {$ne: data._id},\r\n                end_date_num: {$gte: data.start_date_num,$lte: data.end_date_num}\r\n            })\r\n            let exits_start_date = await models.Discount.find({$and: filter_a});\r\n\r\n            let exits_end_date = await models.Discount.find({$and: filter_b});\r\n\r\n            if(exits_start_date.length > 0 || exits_end_date.length > 0){\r\n                res.status(200).json({\r\n                    message:403,\r\n                    message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR ELIMINAR ALGUNAS OPCIONES\"\r\n                });\r\n                return;\r\n            }\r\n\r\n            let discount = await models.Discount.findByIdAndUpdate({_id: data._id},data);\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL DESCUENTO SE REGISTRO CORRECTAMENTE\",\r\n                discount:discount\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    delete: async(req,res) => {\r\n        try {\r\n            let _id = req.query._id;\r\n\r\n            await models.Discount.findByIdAndDelete({_id: _id});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL DESCUENTO SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    list: async(req,res) => {\r\n        try {\r\n            // let search = req.query.search;\r\n\r\n            let discounts = await models.Discount.find().sort({'createdAt': -1});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                discounts: discounts,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    show: async(req,res) => {\r\n        try {\r\n            let discount_id = req.query.discount_id;\r\n\r\n            let discount = await models.Discount.findOne({_id: discount_id});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                discount: discount,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    config: async(req,res) => {\r\n        try {\r\n\r\n            let Products = await models.Product.find({state: 2});\r\n            let Categorias = await models.Categoria.find({state:1});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                products: Products,\r\n                categorias: Categorias,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1717868217679},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\Discount.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst DiscountSchema = new _mongoose.Schema({\n  type_campaign: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // 1 es campaña norma y 2 es venta flash\n  type_discount: {\n    type: Number,\n    required: true,\n    default: 1\n  },\n  // 1 es porcentaje y 2 es moneda\n  discount: {\n    type: Number,\n    required: true\n  },\n  start_date: {\n    type: Date,\n    required: true\n  },\n  end_date: {\n    type: Date,\n    required: true\n  },\n  start_date_num: {\n    type: Number,\n    required: true\n  },\n  end_date_num: {\n    type: Number,\n    required: true\n  },\n  state: {\n    type: Number,\n    default: 1\n  },\n  //1 es activo y 2 es desactivo\n  type_segment: {\n    type: Number,\n    default: 1\n  },\n  //1 es por producto y 2 es por categoria\n  products: [{\n    type: Object,\n    required: false\n  }],\n  categorias: [{\n    type: Object,\n    required: false\n  }]\n}, {\n  timestamps: true\n});\nconst Discount = _mongoose.default.model(\"discounts\", DiscountSchema);\nvar _default = exports.default = Discount;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJEaXNjb3VudFNjaGVtYSIsIlNjaGVtYSIsInR5cGVfY2FtcGFpZ24iLCJ0eXBlIiwiTnVtYmVyIiwicmVxdWlyZWQiLCJ0eXBlX2Rpc2NvdW50IiwiZGlzY291bnQiLCJzdGFydF9kYXRlIiwiRGF0ZSIsImVuZF9kYXRlIiwic3RhcnRfZGF0ZV9udW0iLCJlbmRfZGF0ZV9udW0iLCJzdGF0ZSIsInR5cGVfc2VnbWVudCIsInByb2R1Y3RzIiwiY2F0ZWdvcmlhcyIsInRpbWVzdGFtcHMiLCJEaXNjb3VudCIsIm1vbmdvb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbndvcmxcXEVzY3JpdG9yaW9cXFByb2dyYW1hY2nDs25cXEVjb21tZXJjZVNvbGl0ZWtcXGFwaV9lY29tbWVyY2VcXG1vZGVsc1xcIiwic291cmNlcyI6WyJEaXNjb3VudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UsIHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuY29uc3QgRGlzY291bnRTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIHR5cGVfY2FtcGFpZ246IHt0eXBlOk51bWJlciwgcmVxdWlyZWQ6dHJ1ZSwgZGVmYXVsdDogMX0sIC8vIDEgZXMgY2FtcGHDsWEgbm9ybWEgeSAyIGVzIHZlbnRhIGZsYXNoXHJcbiAgICB0eXBlX2Rpc2NvdW50OiB7dHlwZTpOdW1iZXIsIHJlcXVpcmVkOnRydWUsIGRlZmF1bHQ6IDF9LCAvLyAxIGVzIHBvcmNlbnRhamUgeSAyIGVzIG1vbmVkYVxyXG4gICAgZGlzY291bnQ6IHt0eXBlOiBOdW1iZXIsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgc3RhcnRfZGF0ZToge3R5cGU6RGF0ZSxyZXF1aXJlZDp0cnVlfSxcclxuICAgIGVuZF9kYXRlOnsgdHlwZTpEYXRlLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgc3RhcnRfZGF0ZV9udW06IHt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSxcclxuICAgIGVuZF9kYXRlX251bTp7IHR5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgc3RhdGU6e3R5cGU6TnVtYmVyLGRlZmF1bHQ6IDF9LCAvLzEgZXMgYWN0aXZvIHkgMiBlcyBkZXNhY3Rpdm9cclxuICAgIHR5cGVfc2VnbWVudDp7dHlwZTpOdW1iZXIsZGVmYXVsdDogMX0sLy8xIGVzIHBvciBwcm9kdWN0byB5IDIgZXMgcG9yIGNhdGVnb3JpYVxyXG4gICAgcHJvZHVjdHM6W3t0eXBlOk9iamVjdCwgcmVxdWlyZWQ6ZmFsc2V9XSxcclxuICAgIGNhdGVnb3JpYXM6W3t0eXBlOk9iamVjdCwgcmVxdWlyZWQ6ZmFsc2V9XSxcclxufSx7XHJcbiAgICB0aW1lc3RhbXBzOnRydWUsXHJcbn0pO1xyXG5cclxuY29uc3QgRGlzY291bnQgPSBtb25nb29zZS5tb2RlbChcImRpc2NvdW50c1wiLERpc2NvdW50U2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgRGlzY291bnQ7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBMEMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","DiscountSchema","Schema","type_campaign","type","Number","required","type_discount","discount","start_date","Date","end_date","start_date_num","end_date_num","state","type_segment","products","categorias","timestamps","Discount","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\models\\","sources":["Discount.js"],"sourcesContent":["import mongoose, {Schema} from \"mongoose\";\r\n\r\nconst DiscountSchema = new Schema({\r\n    type_campaign: {type:Number, required:true, default: 1}, // 1 es campaña norma y 2 es venta flash\r\n    type_discount: {type:Number, required:true, default: 1}, // 1 es porcentaje y 2 es moneda\r\n    discount: {type: Number, required:true},\r\n    start_date: {type:Date,required:true},\r\n    end_date:{ type:Date,required:true},\r\n    start_date_num: {type:Number,required:true},\r\n    end_date_num:{ type:Number,required:true},\r\n    state:{type:Number,default: 1}, //1 es activo y 2 es desactivo\r\n    type_segment:{type:Number,default: 1},//1 es por producto y 2 es por categoria\r\n    products:[{type:Object, required:false}],\r\n    categorias:[{type:Object, required:false}],\r\n},{\r\n    timestamps:true,\r\n});\r\n\r\nconst Discount = mongoose.model(\"discounts\",DiscountSchema);\r\nexport default Discount;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAA0C,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAE1C,MAAMW,cAAc,GAAG,IAAIC,gBAAM,CAAC;EAC9BC,aAAa,EAAE;IAACC,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC,IAAI;IAAEnB,OAAO,EAAE;EAAC,CAAC;EAAE;EACzDoB,aAAa,EAAE;IAACH,IAAI,EAACC,MAAM;IAAEC,QAAQ,EAAC,IAAI;IAAEnB,OAAO,EAAE;EAAC,CAAC;EAAE;EACzDqB,QAAQ,EAAE;IAACJ,IAAI,EAAEC,MAAM;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACvCG,UAAU,EAAE;IAACL,IAAI,EAACM,IAAI;IAACJ,QAAQ,EAAC;EAAI,CAAC;EACrCK,QAAQ,EAAC;IAAEP,IAAI,EAACM,IAAI;IAACJ,QAAQ,EAAC;EAAI,CAAC;EACnCM,cAAc,EAAE;IAACR,IAAI,EAACC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC3CO,YAAY,EAAC;IAAET,IAAI,EAACC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EACzCQ,KAAK,EAAC;IAACV,IAAI,EAACC,MAAM;IAAClB,OAAO,EAAE;EAAC,CAAC;EAAE;EAChC4B,YAAY,EAAC;IAACX,IAAI,EAACC,MAAM;IAAClB,OAAO,EAAE;EAAC,CAAC;EAAC;EACtC6B,QAAQ,EAAC,CAAC;IAACZ,IAAI,EAACX,MAAM;IAAEa,QAAQ,EAAC;EAAK,CAAC,CAAC;EACxCW,UAAU,EAAC,CAAC;IAACb,IAAI,EAACX,MAAM;IAAEa,QAAQ,EAAC;EAAK,CAAC;AAC7C,CAAC,EAAC;EACEY,UAAU,EAAC;AACf,CAAC,CAAC;AAEF,MAAMC,QAAQ,GAAGC,iBAAQ,CAACC,KAAK,CAAC,WAAW,EAACpB,cAAc,CAAC;AAAC,IAAAqB,QAAA,GAAAC,OAAA,CAAApC,OAAA,GAC7CgC,QAAQ","ignoreList":[]}},"mtime":1717868205146},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\Home.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _HomeController = _interopRequireDefault(require(\"../controllers/HomeController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.get(\"/list\", _HomeController.default.list);\nrouter.get(\"/landing-product/:slug\", _HomeController.default.show_landing_product);\nrouter.post(\"/profile_client\", _auth.default.verifyEcommerce, _HomeController.default.profile_client);\nrouter.post(\"/update_client\", _auth.default.verifyEcommerce, _HomeController.default.update_client);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Ib21lQ29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwiZ2V0IiwiaG9tZUNvbnRyb2xsZXIiLCJsaXN0Iiwic2hvd19sYW5kaW5nX3Byb2R1Y3QiLCJwb3N0IiwiYXV0aCIsInZlcmlmeUVjb21tZXJjZSIsInByb2ZpbGVfY2xpZW50IiwidXBkYXRlX2NsaWVudCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxud29ybFxcRXNjcml0b3Jpb1xcUHJvZ3JhbWFjacOzblxcRWNvbW1lcmNlU29saXRla1xcYXBpX2Vjb21tZXJjZVxccm91dGVyXFwiLCJzb3VyY2VzIjpbIkhvbWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcclxuaW1wb3J0IGhvbWVDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL0hvbWVDb250cm9sbGVyJ1xyXG5pbXBvcnQgYXV0aCBmcm9tICcuLi9taWRkbGV3YXJlcy9hdXRoJ1xyXG5cclxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xyXG5cclxucm91dGVyLmdldChcIi9saXN0XCIsaG9tZUNvbnRyb2xsZXIubGlzdCk7XHJcbnJvdXRlci5nZXQoXCIvbGFuZGluZy1wcm9kdWN0LzpzbHVnXCIsaG9tZUNvbnRyb2xsZXIuc2hvd19sYW5kaW5nX3Byb2R1Y3QpO1xyXG5cclxuXHJcblxyXG5yb3V0ZXIucG9zdChcIi9wcm9maWxlX2NsaWVudFwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLGhvbWVDb250cm9sbGVyLnByb2ZpbGVfY2xpZW50KTtcclxucm91dGVyLnBvc3QoXCIvdXBkYXRlX2NsaWVudFwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLGhvbWVDb250cm9sbGVyLnVwZGF0ZV9jbGllbnQpO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxlQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBc0MsU0FBQUQsdUJBQUFJLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFdEMsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUV4QkQsTUFBTSxDQUFDRSxHQUFHLENBQUMsT0FBTyxFQUFDQyx1QkFBYyxDQUFDQyxJQUFJLENBQUM7QUFDdkNKLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLHdCQUF3QixFQUFDQyx1QkFBYyxDQUFDRSxvQkFBb0IsQ0FBQztBQUl4RUwsTUFBTSxDQUFDTSxJQUFJLENBQUMsaUJBQWlCLEVBQUNDLGFBQUksQ0FBQ0MsZUFBZSxFQUFDTCx1QkFBYyxDQUFDTSxjQUFjLENBQUM7QUFDakZULE1BQU0sQ0FBQ00sSUFBSSxDQUFDLGdCQUFnQixFQUFDQyxhQUFJLENBQUNDLGVBQWUsRUFBQ0wsdUJBQWMsQ0FBQ08sYUFBYSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFiLE9BQUEsR0FHakVDLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_HomeController","_auth","obj","__esModule","default","router","routerx","get","homeController","list","show_landing_product","post","auth","verifyEcommerce","profile_client","update_client","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\router\\","sources":["Home.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport homeController from '../controllers/HomeController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n\r\nrouter.get(\"/list\",homeController.list);\r\nrouter.get(\"/landing-product/:slug\",homeController.show_landing_product);\r\n\r\n\r\n\r\nrouter.post(\"/profile_client\",auth.verifyEcommerce,homeController.profile_client);\r\nrouter.post(\"/update_client\",auth.verifyEcommerce,homeController.update_client);\r\n\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,GAAG,CAAC,OAAO,EAACC,uBAAc,CAACC,IAAI,CAAC;AACvCJ,MAAM,CAACE,GAAG,CAAC,wBAAwB,EAACC,uBAAc,CAACE,oBAAoB,CAAC;AAIxEL,MAAM,CAACM,IAAI,CAAC,iBAAiB,EAACC,aAAI,CAACC,eAAe,EAACL,uBAAc,CAACM,cAAc,CAAC;AACjFT,MAAM,CAACM,IAAI,CAAC,gBAAgB,EAACC,aAAI,CAACC,eAAe,EAACL,uBAAc,CAACO,aAAa,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAb,OAAA,GAGjEC,MAAM","ignoreList":[]}},"mtime":1718062253811},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\HomeController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nvar _Categoria = _interopRequireDefault(require(\"../resources/Categoria\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  list: async (req, res) => {\n    try {\n      var TIME_NOW = req.query.TIME_NOW;\n      console.log(TIME_NOW);\n      let Sliders = await _models.default.Slider.find({\n        state: 1\n      });\n      Sliders = Sliders.map(slider => {\n        return _resources.default.Slider.slider_list(slider);\n      });\n      let Categorias = await _models.default.Categoria.find({\n        state: 1\n      });\n      Categorias = Categorias.map(categoria => {\n        return _resources.default.Categoria.categoria_list(categoria);\n      });\n      let BestProducts = await _models.default.Product.find({\n        state: 2\n      }).sort({\n        \"createdAt\": -1\n      });\n      var ObjectBestProducts = [];\n      for (const Product of BestProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        let REVIEWS = await _models.default.Review.find({\n          product: Product._id\n        });\n        let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n        let COUNT_REVIEW = REVIEWS.length;\n        ObjectBestProducts.push(_resources.default.Product.product_list(Product, VARIEDADES, AVG_REVIEW, COUNT_REVIEW));\n      }\n      let OursProducts = await _models.default.Product.find({\n        state: 2\n      }).sort({\n        \"createdAt\": 1\n      });\n      var ObjectOursProducts = [];\n      for (const Product of OursProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        let REVIEWS = await _models.default.Review.find({\n          product: Product._id\n        });\n        let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n        let COUNT_REVIEW = REVIEWS.length;\n        ObjectOursProducts.push(_resources.default.Product.product_list(Product, VARIEDADES, AVG_REVIEW, COUNT_REVIEW));\n      }\n      let FlashSale = await _models.default.Discount.findOne({\n        type_campaign: 2,\n        start_date_num: {\n          $lte: TIME_NOW\n        },\n        //<=\n        end_date_num: {\n          $gte: TIME_NOW\n        } //>=\n      });\n      let ProductList = [];\n      if (FlashSale) {\n        for (const product of FlashSale.products) {\n          var ObjecT = await _models.default.Product.findById({\n            _id: product._id\n          });\n          let VARIEDADES = await _models.default.Variedad.find({\n            product: product._id\n          });\n          ProductList.push(_resources.default.Product.product_list(ObjecT, VARIEDADES));\n        }\n      }\n      console.log(FlashSale);\n      res.status(200).json({\n        sliders: Sliders,\n        categorias: Categorias,\n        best_products: ObjectBestProducts,\n        our_products: ObjectOursProducts,\n        FlashSale: FlashSale,\n        campaign_products: ProductList\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  show_landing_product: async (req, res) => {\n    try {\n      let SLUG = req.params.slug;\n      let DISCOUNT_ID = req.query._id;\n      console.log(DISCOUNT_ID);\n      let Product = await _models.default.Product.findOne({\n        slug: SLUG,\n        state: 2\n      });\n      let VARIEDADES = await _models.default.Variedad.find({\n        product: Product._id\n      });\n      let RelatedProducts = await _models.default.Product.find({\n        categoria: Product.categoria,\n        state: 2\n      });\n      var ObjectRelatedProducts = [];\n      for (const Product of RelatedProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        ObjectRelatedProducts.push(_resources.default.Product.product_list(Product, VARIEDADES));\n      }\n      let SALE_FLASH = null;\n      if (DISCOUNT_ID) {\n        SALE_FLASH = await _models.default.Discount.findById({\n          _id: DISCOUNT_ID\n        });\n      }\n      res.status(200).json({\n        product: _resources.default.Product.product_list(Product, VARIEDADES),\n        related_products: ObjectRelatedProducts,\n        SALE_FLASH: SALE_FLASH\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  profile_client: async (req, res) => {\n    try {\n      let user_id = req.body.user_id;\n      let Orders = await _models.default.Sale.find({\n        user: user_id\n      });\n      let sale_orders = [];\n      for (const order of Orders) {\n        let detail_orders = await _models.default.SaleDetail.find({\n          sale: order._id\n        }).populate({\n          path: \"product\",\n          populate: {\n            path: \"categoria\"\n          }\n        }).populate(\"variedad\");\n        let sale_address = await _models.default.SaleAddress.find({\n          sale: order._id\n        });\n        let collection_detail_orders = [];\n        for (const detail_order of detail_orders) {\n          let reviewS = await _models.default.Review.findOne({\n            sale_detail: detail_order._id\n          });\n          collection_detail_orders.push({\n            _id: detail_order._id,\n            product: {\n              _id: detail_order.product._id,\n              title: detail_order.product.title,\n              sku: detail_order.product.sku,\n              slug: detail_order.product.slug,\n              imagen: 'http://localhost:3000' + '/api/products/uploads/product/' + detail_order.product.portada,\n              //*\n              categoria: detail_order.product.categoria,\n              price_soles: detail_order.product.price_soles,\n              price_usd: detail_order.product.price_usd\n            },\n            type_discount: detail_order.type_discount,\n            discount: detail_order.discount,\n            cantidad: detail_order.cantidad,\n            variedad: detail_order.variedad,\n            code_cupon: detail_order.code_cupon,\n            code_discount: detail_order.code_discount,\n            price_unitario: detail_order.price_unitario,\n            subtotal: detail_order.subtotal,\n            total: detail_order.total,\n            review: reviewS\n          });\n        }\n        sale_orders.push({\n          sale: order,\n          sale_details: collection_detail_orders,\n          sale_address: sale_address\n        });\n      }\n      let ADDRESS_CLIENT = await _models.default.AddressClient.find({\n        user: user_id\n      }).sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        sale_orders: sale_orders,\n        address_client: ADDRESS_CLIENT\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"Ocurrio un error\"\n      });\n    }\n  },\n  update_client: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.avatar.path;\n        var name = img_path.split('\\\\');\n        var avatar_name = name[2];\n        console.log(avatar_name);\n      }\n      if (req.body.password) {\n        req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let User = await _models.default.User.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"SE GUARDO SU INFORMACIÓN CORRECTAMENTE\",\n        user: {\n          name: User.name,\n          subname: User.subname,\n          email: User.email,\n          _id: User._id\n        }\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"Ocurrio un error\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3VyY2VzIiwiX0NhdGVnb3JpYSIsIl9iY3J5cHRqcyIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwibGlzdCIsInJlcSIsInJlcyIsIlRJTUVfTk9XIiwicXVlcnkiLCJjb25zb2xlIiwibG9nIiwiU2xpZGVycyIsIm1vZGVscyIsIlNsaWRlciIsImZpbmQiLCJzdGF0ZSIsIm1hcCIsInNsaWRlciIsInJlc291cmNlIiwic2xpZGVyX2xpc3QiLCJDYXRlZ29yaWFzIiwiQ2F0ZWdvcmlhIiwiY2F0ZWdvcmlhIiwiY2F0ZWdvcmlhX2xpc3QiLCJCZXN0UHJvZHVjdHMiLCJQcm9kdWN0Iiwic29ydCIsIk9iamVjdEJlc3RQcm9kdWN0cyIsIlZBUklFREFERVMiLCJWYXJpZWRhZCIsInByb2R1Y3QiLCJfaWQiLCJSRVZJRVdTIiwiUmV2aWV3IiwiQVZHX1JFVklFVyIsImxlbmd0aCIsIk1hdGgiLCJjZWlsIiwicmVkdWNlIiwic3VtIiwiaXRlbSIsImNhbnRpZGFkIiwiQ09VTlRfUkVWSUVXIiwicHVzaCIsInByb2R1Y3RfbGlzdCIsIk91cnNQcm9kdWN0cyIsIk9iamVjdE91cnNQcm9kdWN0cyIsIkZsYXNoU2FsZSIsIkRpc2NvdW50IiwiZmluZE9uZSIsInR5cGVfY2FtcGFpZ24iLCJzdGFydF9kYXRlX251bSIsIiRsdGUiLCJlbmRfZGF0ZV9udW0iLCIkZ3RlIiwiUHJvZHVjdExpc3QiLCJwcm9kdWN0cyIsIk9iamVjVCIsImZpbmRCeUlkIiwic3RhdHVzIiwianNvbiIsInNsaWRlcnMiLCJjYXRlZ29yaWFzIiwiYmVzdF9wcm9kdWN0cyIsIm91cl9wcm9kdWN0cyIsImNhbXBhaWduX3Byb2R1Y3RzIiwiZXJyb3IiLCJzZW5kIiwibWVzc2FnZSIsInNob3dfbGFuZGluZ19wcm9kdWN0IiwiU0xVRyIsInBhcmFtcyIsInNsdWciLCJESVNDT1VOVF9JRCIsIlJlbGF0ZWRQcm9kdWN0cyIsIk9iamVjdFJlbGF0ZWRQcm9kdWN0cyIsIlNBTEVfRkxBU0giLCJyZWxhdGVkX3Byb2R1Y3RzIiwicHJvZmlsZV9jbGllbnQiLCJ1c2VyX2lkIiwiYm9keSIsIk9yZGVycyIsIlNhbGUiLCJ1c2VyIiwic2FsZV9vcmRlcnMiLCJvcmRlciIsImRldGFpbF9vcmRlcnMiLCJTYWxlRGV0YWlsIiwic2FsZSIsInBvcHVsYXRlIiwicGF0aCIsInNhbGVfYWRkcmVzcyIsIlNhbGVBZGRyZXNzIiwiY29sbGVjdGlvbl9kZXRhaWxfb3JkZXJzIiwiZGV0YWlsX29yZGVyIiwicmV2aWV3UyIsInNhbGVfZGV0YWlsIiwidGl0bGUiLCJza3UiLCJpbWFnZW4iLCJwb3J0YWRhIiwicHJpY2Vfc29sZXMiLCJwcmljZV91c2QiLCJ0eXBlX2Rpc2NvdW50IiwiZGlzY291bnQiLCJ2YXJpZWRhZCIsImNvZGVfY3Vwb24iLCJjb2RlX2Rpc2NvdW50IiwicHJpY2VfdW5pdGFyaW8iLCJzdWJ0b3RhbCIsInRvdGFsIiwicmV2aWV3Iiwic2FsZV9kZXRhaWxzIiwiQUREUkVTU19DTElFTlQiLCJBZGRyZXNzQ2xpZW50IiwiYWRkcmVzc19jbGllbnQiLCJ1cGRhdGVfY2xpZW50IiwiZmlsZXMiLCJpbWdfcGF0aCIsImF2YXRhciIsIm5hbWUiLCJzcGxpdCIsImF2YXRhcl9uYW1lIiwicGFzc3dvcmQiLCJiY3J5cHQiLCJoYXNoIiwiVXNlciIsImZpbmRCeUlkQW5kVXBkYXRlIiwic3VibmFtZSIsImVtYWlsIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJIb21lQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gJy4uL21vZGVscydcclxuaW1wb3J0IHJlc291cmNlIGZyb20gJy4uL3Jlc291cmNlcyc7XHJcbmltcG9ydCBDYXRlZ29yaWEgZnJvbSAnLi4vcmVzb3VyY2VzL0NhdGVnb3JpYSc7XHJcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnXHJcblxyXG5leHBvcnQgZGVmYXVsdHtcclxuICAgIGxpc3Q6YXN5bmMocmVxLHJlcyk9PntcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgVElNRV9OT1cgPSAgcmVxLnF1ZXJ5LlRJTUVfTk9XO1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coVElNRV9OT1cpO1xyXG4gICAgICAgICAgICBsZXQgU2xpZGVycyA9IGF3YWl0IG1vZGVscy5TbGlkZXIuZmluZCh7c3RhdGU6MX0pO1xyXG4gICAgICAgICAgICBTbGlkZXJzID0gU2xpZGVycy5tYXAoKHNsaWRlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlLlNsaWRlci5zbGlkZXJfbGlzdChzbGlkZXIpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBsZXQgQ2F0ZWdvcmlhcyA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWEuZmluZCh7c3RhdGU6MX0pO1xyXG5cclxuICAgICAgICAgICAgQ2F0ZWdvcmlhcyA9IENhdGVnb3JpYXMubWFwKChjYXRlZ29yaWEpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvdXJjZS5DYXRlZ29yaWEuY2F0ZWdvcmlhX2xpc3QoY2F0ZWdvcmlhKTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgQmVzdFByb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7c3RhdGU6Mn0pLnNvcnQoe1wiY3JlYXRlZEF0XCI6LTF9KTtcclxuICAgICAgICAgICAgdmFyIE9iamVjdEJlc3RQcm9kdWN0cyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFByb2R1Y3Qgb2YgQmVzdFByb2R1Y3RzKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgVkFSSUVEQURFUyA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHtwcm9kdWN0OiBQcm9kdWN0Ll9pZH0pO1xyXG4gICAgICAgICAgICAgICAgbGV0IFJFVklFV1MgPSBhd2FpdCBtb2RlbHMuUmV2aWV3LmZpbmQoe3Byb2R1Y3Q6IFByb2R1Y3QuX2lkfSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgQVZHX1JFVklFVyA9IFJFVklFV1MubGVuZ3RoID4gMCA/IE1hdGguY2VpbChSRVZJRVdTLnJlZHVjZSgoc3VtLGl0ZW0pID0+IHN1bSArIGl0ZW0uY2FudGlkYWQsMCkvUkVWSUVXUy5sZW5ndGgpIDogMDtcclxuICAgICAgICAgICAgICAgIGxldCBDT1VOVF9SRVZJRVcgPSBSRVZJRVdTLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIE9iamVjdEJlc3RQcm9kdWN0cy5wdXNoKHJlc291cmNlLlByb2R1Y3QucHJvZHVjdF9saXN0KFByb2R1Y3QsVkFSSUVEQURFUyxBVkdfUkVWSUVXLENPVU5UX1JFVklFVykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICBsZXQgT3Vyc1Byb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7c3RhdGU6Mn0pLnNvcnQoe1wiY3JlYXRlZEF0XCI6MX0pO1xyXG4gICAgICAgICAgICB2YXIgT2JqZWN0T3Vyc1Byb2R1Y3RzID0gW107XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgUHJvZHVjdCBvZiBPdXJzUHJvZHVjdHMpIHtcclxuICAgICAgICAgICAgICAgIGxldCBWQVJJRURBREVTID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmQoe3Byb2R1Y3Q6IFByb2R1Y3QuX2lkfSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgUkVWSUVXUyA9IGF3YWl0IG1vZGVscy5SZXZpZXcuZmluZCh7cHJvZHVjdDogUHJvZHVjdC5faWR9KTtcclxuICAgICAgICAgICAgICAgIGxldCBBVkdfUkVWSUVXID0gUkVWSUVXUy5sZW5ndGggPiAwID8gTWF0aC5jZWlsKFJFVklFV1MucmVkdWNlKChzdW0saXRlbSkgPT4gc3VtICsgaXRlbS5jYW50aWRhZCwwKS9SRVZJRVdTLmxlbmd0aCkgOiAwO1xyXG4gICAgICAgICAgICAgICAgbGV0IENPVU5UX1JFVklFVyA9IFJFVklFV1MubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0T3Vyc1Byb2R1Y3RzLnB1c2gocmVzb3VyY2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QoUHJvZHVjdCxWQVJJRURBREVTLEFWR19SRVZJRVcsQ09VTlRfUkVWSUVXKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIGxldCBGbGFzaFNhbGUgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZE9uZSh7XHJcbiAgICAgICAgICAgICAgICB0eXBlX2NhbXBhaWduOiAyLFxyXG4gICAgICAgICAgICAgICAgc3RhcnRfZGF0ZV9udW06eyRsdGU6VElNRV9OT1d9LC8vPD1cclxuICAgICAgICAgICAgICAgIGVuZF9kYXRlX251bTp7JGd0ZTpUSU1FX05PV30sLy8+PVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbGV0IFByb2R1Y3RMaXN0ID0gW107XHJcbiAgICAgICAgICAgIGlmKEZsYXNoU2FsZSl7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHByb2R1Y3Qgb2YgRmxhc2hTYWxlLnByb2R1Y3RzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIE9iamVjVCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkKHtfaWQ6cHJvZHVjdC5faWR9KTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgVkFSSUVEQURFUyA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHtwcm9kdWN0OiBwcm9kdWN0Ll9pZH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIFByb2R1Y3RMaXN0LnB1c2gocmVzb3VyY2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QoT2JqZWNULFZBUklFREFERVMpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICBcclxuICAgICAgICAgICAgY29uc29sZS5sb2coRmxhc2hTYWxlKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgc2xpZGVyczogU2xpZGVycyxcclxuICAgICAgICAgICAgICAgIGNhdGVnb3JpYXM6IENhdGVnb3JpYXMsXHJcbiAgICAgICAgICAgICAgICBiZXN0X3Byb2R1Y3RzOk9iamVjdEJlc3RQcm9kdWN0cyxcclxuICAgICAgICAgICAgICAgIG91cl9wcm9kdWN0czpPYmplY3RPdXJzUHJvZHVjdHMsXHJcbiAgICAgICAgICAgICAgICBGbGFzaFNhbGU6IEZsYXNoU2FsZSxcclxuXHJcbiAgICAgICAgICAgICAgICBjYW1wYWlnbl9wcm9kdWN0czogUHJvZHVjdExpc3QsXHJcblxyXG4gICAgICAgICAgICAgICAgXHJcblxyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICBcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOlwiRVJST1JcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzaG93X2xhbmRpbmdfcHJvZHVjdDphc3luYyhyZXEscmVzKT0+e1xyXG4gICAgICAgdHJ5IHtcclxuICAgICAgICBsZXQgU0xVRyA9IHJlcS5wYXJhbXMuc2x1ZztcclxuICAgICAgICBsZXQgRElTQ09VTlRfSUQgPSByZXEucXVlcnkuX2lkO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKERJU0NPVU5UX0lEKTtcclxuICAgICAgICBsZXQgUHJvZHVjdCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRPbmUoe3NsdWc6IFNMVUcsc3RhdGU6Mn0pO1xyXG4gICAgICAgIGxldCAgVkFSSUVEQURFUyA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHtwcm9kdWN0OlByb2R1Y3QuX2lkfSk7XHJcbiAgICAgICAgbGV0IFJlbGF0ZWRQcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoe2NhdGVnb3JpYTogUHJvZHVjdC5jYXRlZ29yaWEsc3RhdGU6Mn0pO1xyXG4gICAgICAgIHZhciBPYmplY3RSZWxhdGVkUHJvZHVjdHMgPSBbXTtcclxuICAgICAgICBmb3IgKGNvbnN0IFByb2R1Y3Qgb2YgUmVsYXRlZFByb2R1Y3RzKSB7XHJcbiAgICAgICAgICAgIGxldCBWQVJJRURBREVTID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmQoe3Byb2R1Y3Q6IFByb2R1Y3QuX2lkfSk7XHJcbiAgICAgICAgICAgIE9iamVjdFJlbGF0ZWRQcm9kdWN0cy5wdXNoKHJlc291cmNlLlByb2R1Y3QucHJvZHVjdF9saXN0KFByb2R1Y3QsVkFSSUVEQURFUykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgU0FMRV9GTEFTSCA9IG51bGw7XHJcbiAgICAgICAgaWYoRElTQ09VTlRfSUQpe1xyXG4gICAgICAgICAgICBTQUxFX0ZMQVNIID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmRCeUlkKHtfaWQ6IERJU0NPVU5UX0lEfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgIHByb2R1Y3Q6IHJlc291cmNlLlByb2R1Y3QucHJvZHVjdF9saXN0KFByb2R1Y3QsVkFSSUVEQURFUyksXHJcbiAgICAgICAgICAgIHJlbGF0ZWRfcHJvZHVjdHM6IE9iamVjdFJlbGF0ZWRQcm9kdWN0cyxcclxuICAgICAgICAgICAgU0FMRV9GTEFTSDpTQUxFX0ZMQVNILFxyXG4gICAgICAgIH0pXHJcbiAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgbWVzc2FnZTpcIkVSUk9SXCJcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICB9IFxyXG4gICAgfSxcclxuXHJcbiAgICBwcm9maWxlX2NsaWVudDphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCB1c2VyX2lkID0gcmVxLmJvZHkudXNlcl9pZDtcclxuXHJcbiAgICAgICAgICAgIGxldCBPcmRlcnMgPSBhd2FpdCBtb2RlbHMuU2FsZS5maW5kKHt1c2VyOiB1c2VyX2lkfSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgc2FsZV9vcmRlcnMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGZvciAoY29uc3Qgb3JkZXIgb2YgT3JkZXJzKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGV0YWlsX29yZGVycyA9IGF3YWl0IG1vZGVscy5TYWxlRGV0YWlsLmZpbmQoe3NhbGU6IG9yZGVyLl9pZH0pLnBvcHVsYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBcInByb2R1Y3RcIixcclxuICAgICAgICAgICAgICAgICAgICBwb3B1bGF0ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBcImNhdGVnb3JpYVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH0pLnBvcHVsYXRlKFwidmFyaWVkYWRcIik7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2FsZV9hZGRyZXNzID0gYXdhaXQgbW9kZWxzLlNhbGVBZGRyZXNzLmZpbmQoe3NhbGU6IG9yZGVyLl9pZH0pO1xyXG4gICAgICAgICAgICAgICAgbGV0IGNvbGxlY3Rpb25fZGV0YWlsX29yZGVycyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBkZXRhaWxfb3JkZXIgb2YgZGV0YWlsX29yZGVycykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCByZXZpZXdTID0gYXdhaXQgbW9kZWxzLlJldmlldy5maW5kT25lKHtzYWxlX2RldGFpbDogZGV0YWlsX29yZGVyLl9pZH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25fZGV0YWlsX29yZGVycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2lkOiBkZXRhaWxfb3JkZXIuX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaWQ6IGRldGFpbF9vcmRlci5wcm9kdWN0Ll9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBkZXRhaWxfb3JkZXIucHJvZHVjdC50aXRsZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNrdTogZGV0YWlsX29yZGVyLnByb2R1Y3Quc2t1LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2x1ZzogZGV0YWlsX29yZGVyLnByb2R1Y3Quc2x1ZyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlbjogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcrJy9hcGkvcHJvZHVjdHMvdXBsb2Fkcy9wcm9kdWN0LycrZGV0YWlsX29yZGVyLnByb2R1Y3QucG9ydGFkYSwvLypcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpYTogZGV0YWlsX29yZGVyLnByb2R1Y3QuY2F0ZWdvcmlhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2Vfc29sZXM6IGRldGFpbF9vcmRlci5wcm9kdWN0LnByaWNlX3NvbGVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2VfdXNkOiBkZXRhaWxfb3JkZXIucHJvZHVjdC5wcmljZV91c2QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVfZGlzY291bnQ6IGRldGFpbF9vcmRlci50eXBlX2Rpc2NvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudDogZGV0YWlsX29yZGVyLmRpc2NvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW50aWRhZDogZGV0YWlsX29yZGVyLmNhbnRpZGFkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXJpZWRhZDogZGV0YWlsX29yZGVyLnZhcmllZGFkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlX2N1cG9uOiBkZXRhaWxfb3JkZXIuY29kZV9jdXBvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZV9kaXNjb3VudDogZGV0YWlsX29yZGVyLmNvZGVfZGlzY291bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlX3VuaXRhcmlvOiBkZXRhaWxfb3JkZXIucHJpY2VfdW5pdGFyaW8sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRvdGFsOiBkZXRhaWxfb3JkZXIuc3VidG90YWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsOiBkZXRhaWxfb3JkZXIudG90YWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldmlldzogcmV2aWV3UyxcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc2FsZV9vcmRlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgc2FsZTogb3JkZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgc2FsZV9kZXRhaWxzOiBjb2xsZWN0aW9uX2RldGFpbF9vcmRlcnMsXHJcbiAgICAgICAgICAgICAgICAgICAgc2FsZV9hZGRyZXNzOiBzYWxlX2FkZHJlc3MsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgQUREUkVTU19DTElFTlQgPSBhd2FpdCBtb2RlbHMuQWRkcmVzc0NsaWVudC5maW5kKHt1c2VyOiB1c2VyX2lkfSkuc29ydCh7J2NyZWF0ZWRBdCc6IC0xfSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIHNhbGVfb3JkZXJzOiBzYWxlX29yZGVycyxcclxuICAgICAgICAgICAgICAgIGFkZHJlc3NfY2xpZW50OiBBRERSRVNTX0NMSUVOVCxcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9jdXJyaW8gdW4gZXJyb3JcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHVwZGF0ZV9jbGllbnQ6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZihyZXEuZmlsZXMpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLmF2YXRhci5wYXRoO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnXFxcXCcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGF2YXRhcl9uYW1lID0gbmFtZVsyXTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGF2YXRhcl9uYW1lKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKHJlcS5ib2R5LnBhc3N3b3JkKXtcclxuICAgICAgICAgICAgICAgIHJlcS5ib2R5LnBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocmVxLmJvZHkucGFzc3dvcmQsMTApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHJlcS5ib2R5Ll9pZH0scmVxLmJvZHkpO1xyXG4gICAgICAgICAgICBsZXQgVXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoe19pZDogcmVxLmJvZHkuX2lkfSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiU0UgR1VBUkRPIFNVIElORk9STUFDScOTTiBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICB1c2VyOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogVXNlci5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1Ym5hbWU6IFVzZXIuc3VibmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBlbWFpbDpVc2VyLmVtYWlsLFxyXG4gICAgICAgICAgICAgICAgICAgIF9pZDpVc2VyLl9pZCxcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9jdXJyaW8gdW4gZXJyb3JcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsVUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsVUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsU0FBQSxH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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resources","_Categoria","_bcryptjs","obj","__esModule","default","_default","exports","list","req","res","TIME_NOW","query","console","log","Sliders","models","Slider","find","state","map","slider","resource","slider_list","Categorias","Categoria","categoria","categoria_list","BestProducts","Product","sort","ObjectBestProducts","VARIEDADES","Variedad","product","_id","REVIEWS","Review","AVG_REVIEW","length","Math","ceil","reduce","sum","item","cantidad","COUNT_REVIEW","push","product_list","OursProducts","ObjectOursProducts","FlashSale","Discount","findOne","type_campaign","start_date_num","$lte","end_date_num","$gte","ProductList","products","ObjecT","findById","status","json","sliders","categorias","best_products","our_products","campaign_products","error","send","message","show_landing_product","SLUG","params","slug","DISCOUNT_ID","RelatedProducts","ObjectRelatedProducts","SALE_FLASH","related_products","profile_client","user_id","body","Orders","Sale","user","sale_orders","order","detail_orders","SaleDetail","sale","populate","path","sale_address","SaleAddress","collection_detail_orders","detail_order","reviewS","sale_detail","title","sku","imagen","portada","price_soles","price_usd","type_discount","discount","variedad","code_cupon","code_discount","price_unitario","subtotal","total","review","sale_details","ADDRESS_CLIENT","AddressClient","address_client","update_client","files","img_path","avatar","name","split","avatar_name","password","bcrypt","hash","User","findByIdAndUpdate","subname","email"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\controllers\\","sources":["HomeController.js"],"sourcesContent":["import models from '../models'\r\nimport resource from '../resources';\r\nimport Categoria from '../resources/Categoria';\r\nimport bcrypt from 'bcryptjs'\r\n\r\nexport default{\r\n    list:async(req,res)=>{\r\n        try {\r\n            var TIME_NOW =  req.query.TIME_NOW;\r\n\r\n            console.log(TIME_NOW);\r\n            let Sliders = await models.Slider.find({state:1});\r\n            Sliders = Sliders.map((slider) => {\r\n                return resource.Slider.slider_list(slider);\r\n            })\r\n            let Categorias = await models.Categoria.find({state:1});\r\n\r\n            Categorias = Categorias.map((categoria) => {\r\n                return resource.Categoria.categoria_list(categoria);\r\n            })\r\n\r\n            \r\n            let BestProducts = await models.Product.find({state:2}).sort({\"createdAt\":-1});\r\n            var ObjectBestProducts = [];\r\n            for (const Product of BestProducts) {\r\n                let VARIEDADES = await models.Variedad.find({product: Product._id});\r\n                let REVIEWS = await models.Review.find({product: Product._id});\r\n                let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length) : 0;\r\n                let COUNT_REVIEW = REVIEWS.length;\r\n                ObjectBestProducts.push(resource.Product.product_list(Product,VARIEDADES,AVG_REVIEW,COUNT_REVIEW));\r\n            }\r\n           \r\n\r\n            let OursProducts = await models.Product.find({state:2}).sort({\"createdAt\":1});\r\n            var ObjectOursProducts = [];\r\n            for (const Product of OursProducts) {\r\n                let VARIEDADES = await models.Variedad.find({product: Product._id});\r\n                let REVIEWS = await models.Review.find({product: Product._id});\r\n                let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length) : 0;\r\n                let COUNT_REVIEW = REVIEWS.length;\r\n                ObjectOursProducts.push(resource.Product.product_list(Product,VARIEDADES,AVG_REVIEW,COUNT_REVIEW));\r\n            }\r\n\r\n\r\n\r\n\r\n            let FlashSale = await models.Discount.findOne({\r\n                type_campaign: 2,\r\n                start_date_num:{$lte:TIME_NOW},//<=\r\n                end_date_num:{$gte:TIME_NOW},//>=\r\n            });\r\n            let ProductList = [];\r\n            if(FlashSale){\r\n                for (const product of FlashSale.products) {\r\n                    var ObjecT = await models.Product.findById({_id:product._id});\r\n                    let VARIEDADES = await models.Variedad.find({product: product._id});\r\n                    ProductList.push(resource.Product.product_list(ObjecT,VARIEDADES));\r\n                }\r\n            }\r\n         \r\n            console.log(FlashSale);\r\n            res.status(200).json({\r\n                sliders: Sliders,\r\n                categorias: Categorias,\r\n                best_products:ObjectBestProducts,\r\n                our_products:ObjectOursProducts,\r\n                FlashSale: FlashSale,\r\n\r\n                campaign_products: ProductList,\r\n\r\n                \r\n\r\n\r\n            });\r\n          \r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"ERROR\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    show_landing_product:async(req,res)=>{\r\n       try {\r\n        let SLUG = req.params.slug;\r\n        let DISCOUNT_ID = req.query._id;\r\n        console.log(DISCOUNT_ID);\r\n        let Product = await models.Product.findOne({slug: SLUG,state:2});\r\n        let  VARIEDADES = await models.Variedad.find({product:Product._id});\r\n        let RelatedProducts = await models.Product.find({categoria: Product.categoria,state:2});\r\n        var ObjectRelatedProducts = [];\r\n        for (const Product of RelatedProducts) {\r\n            let VARIEDADES = await models.Variedad.find({product: Product._id});\r\n            ObjectRelatedProducts.push(resource.Product.product_list(Product,VARIEDADES));\r\n        }\r\n        let SALE_FLASH = null;\r\n        if(DISCOUNT_ID){\r\n            SALE_FLASH = await models.Discount.findById({_id: DISCOUNT_ID});\r\n        }\r\n\r\n        res.status(200).json({\r\n            product: resource.Product.product_list(Product,VARIEDADES),\r\n            related_products: ObjectRelatedProducts,\r\n            SALE_FLASH:SALE_FLASH,\r\n        })\r\n       } catch (error) {\r\n        res.status(500).send({\r\n            message:\"ERROR\"\r\n        });\r\n        console.log(error);\r\n       } \r\n    },\r\n\r\n    profile_client:async(req,res) => {\r\n        try {\r\n            \r\n            let user_id = req.body.user_id;\r\n\r\n            let Orders = await models.Sale.find({user: user_id});\r\n\r\n            let sale_orders = [];\r\n\r\n            for (const order of Orders) {\r\n                let detail_orders = await models.SaleDetail.find({sale: order._id}).populate({\r\n                    path: \"product\",\r\n                    populate: {\r\n                        path: \"categoria\"\r\n                    },\r\n                }).populate(\"variedad\");\r\n                let sale_address = await models.SaleAddress.find({sale: order._id});\r\n                let collection_detail_orders = [];\r\n                for (const detail_order of detail_orders) {\r\n                    let reviewS = await models.Review.findOne({sale_detail: detail_order._id});\r\n                    collection_detail_orders.push({\r\n                        _id: detail_order._id,\r\n                        product: {\r\n                            _id: detail_order.product._id,\r\n                            title: detail_order.product.title,\r\n                            sku: detail_order.product.sku,\r\n                            slug: detail_order.product.slug,\r\n                            imagen: 'http://localhost:3000'+'/api/products/uploads/product/'+detail_order.product.portada,//*\r\n                            categoria: detail_order.product.categoria,\r\n                            price_soles: detail_order.product.price_soles,\r\n                            price_usd: detail_order.product.price_usd,\r\n                        },\r\n                        type_discount: detail_order.type_discount,\r\n                        discount: detail_order.discount,\r\n                        cantidad: detail_order.cantidad,\r\n                        variedad: detail_order.variedad,\r\n                        code_cupon: detail_order.code_cupon,\r\n                        code_discount: detail_order.code_discount,\r\n                        price_unitario: detail_order.price_unitario,\r\n                        subtotal: detail_order.subtotal,\r\n                        total: detail_order.total,\r\n                        review: reviewS,\r\n                    })\r\n                }\r\n                sale_orders.push({\r\n                    sale: order,\r\n                    sale_details: collection_detail_orders,\r\n                    sale_address: sale_address,\r\n                });\r\n            }\r\n            let ADDRESS_CLIENT = await models.AddressClient.find({user: user_id}).sort({'createdAt': -1});\r\n            res.status(200).json({\r\n                sale_orders: sale_orders,\r\n                address_client: ADDRESS_CLIENT,\r\n            })\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"Ocurrio un error\",\r\n            });\r\n        }\r\n    },\r\n    update_client: async(req,res) => {\r\n        try {\r\n            if(req.files){\r\n                var img_path = req.files.avatar.path;\r\n                var name = img_path.split('\\\\');\r\n                var avatar_name = name[2];\r\n                console.log(avatar_name)\r\n            }\r\n            if(req.body.password){\r\n                req.body.password = await bcrypt.hash(req.body.password,10);\r\n            }\r\n            await models.User.findByIdAndUpdate({_id: req.body._id},req.body);\r\n            let User = await models.User.findOne({_id: req.body._id});\r\n            res.status(200).json({\r\n                message: \"SE GUARDO SU INFORMACIÓN CORRECTAMENTE\",\r\n                user: {\r\n                    name: User.name,\r\n                    subname: User.subname,\r\n                    email:User.email,\r\n                    _id:User._id,\r\n                }\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"Ocurrio un error\",\r\n            });\r\n        }\r\n    },\r\n}"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,UAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,UAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,SAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAA6B,SAAAD,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEf;EACVG,IAAI,EAAC,MAAAA,CAAMC,GAAG,EAACC,GAAG,KAAG;IACjB,IAAI;MACA,IAAIC,QAAQ,GAAIF,GAAG,CAACG,KAAK,CAACD,QAAQ;MAElCE,OAAO,CAACC,GAAG,CAACH,QAAQ,CAAC;MACrB,IAAII,OAAO,GAAG,MAAMC,eAAM,CAACC,MAAM,CAACC,IAAI,CAAC;QAACC,KAAK,EAAC;MAAC,CAAC,CAAC;MACjDJ,OAAO,GAAGA,OAAO,CAACK,GAAG,CAAEC,MAAM,IAAK;QAC9B,OAAOC,kBAAQ,CAACL,MAAM,CAACM,WAAW,CAACF,MAAM,CAAC;MAC9C,CAAC,CAAC;MACF,IAAIG,UAAU,GAAG,MAAMR,eAAM,CAACS,SAAS,CAACP,IAAI,CAAC;QAACC,KAAK,EAAC;MAAC,CAAC,CAAC;MAEvDK,UAAU,GAAGA,UAAU,CAACJ,GAAG,CAAEM,SAAS,IAAK;QACvC,OAAOJ,kBAAQ,CAACG,SAAS,CAACE,cAAc,CAACD,SAAS,CAAC;MACvD,CAAC,CAAC;MAGF,IAAIE,YAAY,GAAG,MAAMZ,eAAM,CAACa,OAAO,CAACX,IAAI,CAAC;QAACC,KAAK,EAAC;MAAC,CAAC,CAAC,CAACW,IAAI,CAAC;QAAC,WAAW,EAAC,CAAC;MAAC,CAAC,CAAC;MAC9E,IAAIC,kBAAkB,GAAG,EAAE;MAC3B,KAAK,MAAMF,OAAO,IAAID,YAAY,EAAE;QAChC,IAAII,UAAU,GAAG,MAAMhB,eAAM,CAACiB,QAAQ,CAACf,IAAI,CAAC;UAACgB,OAAO,EAAEL,OAAO,CAACM;QAAG,CAAC,CAAC;QACnE,IAAIC,OAAO,GAAG,MAAMpB,eAAM,CAACqB,MAAM,CAACnB,IAAI,CAAC;UAACgB,OAAO,EAAEL,OAAO,CAACM;QAAG,CAAC,CAAC;QAC9D,IAAIG,UAAU,GAAGF,OAAO,CAACG,MAAM,GAAG,CAAC,GAAGC,IAAI,CAACC,IAAI,CAACL,OAAO,CAACM,MAAM,CAAC,CAACC,GAAG,EAACC,IAAI,KAAKD,GAAG,GAAGC,IAAI,CAACC,QAAQ,EAAC,CAAC,CAAC,GAACT,OAAO,CAACG,MAAM,CAAC,GAAG,CAAC;QACvH,IAAIO,YAAY,GAAGV,OAAO,CAACG,MAAM;QACjCR,kBAAkB,CAACgB,IAAI,CAACzB,kBAAQ,CAACO,OAAO,CAACmB,YAAY,CAACnB,OAAO,EAACG,UAAU,EAACM,UAAU,EAACQ,YAAY,CAAC,CAAC;MACtG;MAGA,IAAIG,YAAY,GAAG,MAAMjC,eAAM,CAACa,OAAO,CAACX,IAAI,CAAC;QAACC,KAAK,EAAC;MAAC,CAAC,CAAC,CAACW,IAAI,CAAC;QAAC,WAAW,EAAC;MAAC,CAAC,CAAC;MAC7E,IAAIoB,kBAAkB,GAAG,EAAE;MAC3B,KAAK,MAAMrB,OAAO,IAAIoB,YAAY,EAAE;QAChC,IAAIjB,UAAU,GAAG,MAAMhB,eAAM,CAACiB,QAAQ,CAACf,IAAI,CAAC;UAACgB,OAAO,EAAEL,OAAO,CAACM;QAAG,CAAC,CAAC;QACnE,IAAIC,OAAO,GAAG,MAAMpB,eAAM,CAACqB,MAAM,CAACnB,IAAI,CAAC;UAACgB,OAAO,EAAEL,OAAO,CAACM;QAAG,CAAC,CAAC;QAC9D,IAAIG,UAAU,GAAGF,OAAO,CAACG,MAAM,GAAG,CAAC,GAAGC,IAAI,CAACC,IAAI,CAACL,OAAO,CAACM,MAAM,CAAC,CAACC,GAAG,EAACC,IAAI,KAAKD,GAAG,GAAGC,IAAI,CAACC,QAAQ,EAAC,CAAC,CAAC,GAACT,OAAO,CAACG,MAAM,CAAC,GAAG,CAAC;QACvH,IAAIO,YAAY,GAAGV,OAAO,CAACG,MAAM;QACjCW,kBAAkB,CAACH,IAAI,CAACzB,kBAAQ,CAACO,OAAO,CAACmB,YAAY,CAACnB,OAAO,EAACG,UAAU,EAACM,UAAU,EAACQ,YAAY,CAAC,CAAC;MACtG;MAKA,IAAIK,SAAS,GAAG,MAAMnC,eAAM,CAACoC,QAAQ,CAACC,OAAO,CAAC;QAC1CC,aAAa,EAAE,CAAC;QAChBC,cAAc,EAAC;UAACC,IAAI,EAAC7C;QAAQ,CAAC;QAAC;QAC/B8C,YAAY,EAAC;UAACC,IAAI,EAAC/C;QAAQ,CAAC,CAAC;MACjC,CAAC,CAAC;MACF,IAAIgD,WAAW,GAAG,EAAE;MACpB,IAAGR,SAAS,EAAC;QACT,KAAK,MAAMjB,OAAO,IAAIiB,SAAS,CAACS,QAAQ,EAAE;UACtC,IAAIC,MAAM,GAAG,MAAM7C,eAAM,CAACa,OAAO,CAACiC,QAAQ,CAAC;YAAC3B,GAAG,EAACD,OAAO,CAACC;UAAG,CAAC,CAAC;UAC7D,IAAIH,UAAU,GAAG,MAAMhB,eAAM,CAACiB,QAAQ,CAACf,IAAI,CAAC;YAACgB,OAAO,EAAEA,OAAO,CAACC;UAAG,CAAC,CAAC;UACnEwB,WAAW,CAACZ,IAAI,CAACzB,kBAAQ,CAACO,OAAO,CAACmB,YAAY,CAACa,MAAM,EAAC7B,UAAU,CAAC,CAAC;QACtE;MACJ;MAEAnB,OAAO,CAACC,GAAG,CAACqC,SAAS,CAAC;MACtBzC,GAAG,CAACqD,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAElD,OAAO;QAChBmD,UAAU,EAAE1C,UAAU;QACtB2C,aAAa,EAACpC,kBAAkB;QAChCqC,YAAY,EAAClB,kBAAkB;QAC/BC,SAAS,EAAEA,SAAS;QAEpBkB,iBAAiB,EAAEV;MAKvB,CAAC,CAAC;IAEN,CAAC,CAAC,OAAOW,KAAK,EAAE;MACZ5D,GAAG,CAACqD,MAAM,CAAC,GAAG,CAAC,CAACQ,IAAI,CAAC;QACjBC,OAAO,EAAC;MACZ,CAAC,CAAC;MACF3D,OAAO,CAACC,GAAG,CAACwD,KAAK,CAAC;IACtB;EACJ,CAAC;EACDG,oBAAoB,EAAC,MAAAA,CAAMhE,GAAG,EAACC,GAAG,KAAG;IAClC,IAAI;MACH,IAAIgE,IAAI,GAAGjE,GAAG,CAACkE,MAAM,CAACC,IAAI;MAC1B,IAAIC,WAAW,GAAGpE,GAAG,CAACG,KAAK,CAACuB,GAAG;MAC/BtB,OAAO,CAACC,GAAG,CAAC+D,WAAW,CAAC;MACxB,IAAIhD,OAAO,GAAG,MAAMb,eAAM,CAACa,OAAO,CAACwB,OAAO,CAAC;QAACuB,IAAI,EAAEF,IAAI;QAACvD,KAAK,EAAC;MAAC,CAAC,CAAC;MAChE,IAAKa,UAAU,GAAG,MAAMhB,eAAM,CAACiB,QAAQ,CAACf,IAAI,CAAC;QAACgB,OAAO,EAACL,OAAO,CAACM;MAAG,CAAC,CAAC;MACnE,IAAI2C,eAAe,GAAG,MAAM9D,eAAM,CAACa,OAAO,CAACX,IAAI,CAAC;QAACQ,SAAS,EAAEG,OAAO,CAACH,SAAS;QAACP,KAAK,EAAC;MAAC,CAAC,CAAC;MACvF,IAAI4D,qBAAqB,GAAG,EAAE;MAC9B,KAAK,MAAMlD,OAAO,IAAIiD,eAAe,EAAE;QACnC,IAAI9C,UAAU,GAAG,MAAMhB,eAAM,CAACiB,QAAQ,CAACf,IAAI,CAAC;UAACgB,OAAO,EAAEL,OAAO,CAACM;QAAG,CAAC,CAAC;QACnE4C,qBAAqB,CAAChC,IAAI,CAACzB,kBAAQ,CAACO,OAAO,CAACmB,YAAY,CAACnB,OAAO,EAACG,UAAU,CAAC,CAAC;MACjF;MACA,IAAIgD,UAAU,GAAG,IAAI;MACrB,IAAGH,WAAW,EAAC;QACXG,UAAU,GAAG,MAAMhE,eAAM,CAACoC,QAAQ,CAACU,QAAQ,CAAC;UAAC3B,GAAG,EAAE0C;QAAW,CAAC,CAAC;MACnE;MAEAnE,GAAG,CAACqD,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjB9B,OAAO,EAAEZ,kBAAQ,CAACO,OAAO,CAACmB,YAAY,CAACnB,OAAO,EAACG,UAAU,CAAC;QAC1DiD,gBAAgB,EAAEF,qBAAqB;QACvCC,UAAU,EAACA;MACf,CAAC,CAAC;IACH,CAAC,CAAC,OAAOV,KAAK,EAAE;MACf5D,GAAG,CAACqD,MAAM,CAAC,GAAG,CAAC,CAACQ,IAAI,CAAC;QACjBC,OAAO,EAAC;MACZ,CAAC,CAAC;MACF3D,OAAO,CAACC,GAAG,CAACwD,KAAK,CAAC;IACnB;EACH,CAAC;EAEDY,cAAc,EAAC,MAAAA,CAAMzE,GAAG,EAACC,GAAG,KAAK;IAC7B,IAAI;MAEA,IAAIyE,OAAO,GAAG1E,GAAG,CAAC2E,IAAI,CAACD,OAAO;MAE9B,IAAIE,MAAM,GAAG,MAAMrE,eAAM,CAACsE,IAAI,CAACpE,IAAI,CAAC;QAACqE,IAAI,EAAEJ;MAAO,CAAC,CAAC;MAEpD,IAAIK,WAAW,GAAG,EAAE;MAEpB,KAAK,MAAMC,KAAK,IAAIJ,MAAM,EAAE;QACxB,IAAIK,aAAa,GAAG,MAAM1E,eAAM,CAAC2E,UAAU,CAACzE,IAAI,CAAC;UAAC0E,IAAI,EAAEH,KAAK,CAACtD;QAAG,CAAC,CAAC,CAAC0D,QAAQ,CAAC;UACzEC,IAAI,EAAE,SAAS;UACfD,QAAQ,EAAE;YACNC,IAAI,EAAE;UACV;QACJ,CAAC,CAAC,CAACD,QAAQ,CAAC,UAAU,CAAC;QACvB,IAAIE,YAAY,GAAG,MAAM/E,eAAM,CAACgF,WAAW,CAAC9E,IAAI,CAAC;UAAC0E,IAAI,EAAEH,KAAK,CAACtD;QAAG,CAAC,CAAC;QACnE,IAAI8D,wBAAwB,GAAG,EAAE;QACjC,KAAK,MAAMC,YAAY,IAAIR,aAAa,EAAE;UACtC,IAAIS,OAAO,GAAG,MAAMnF,eAAM,CAACqB,MAAM,CAACgB,OAAO,CAAC;YAAC+C,WAAW,EAAEF,YAAY,CAAC/D;UAAG,CAAC,CAAC;UAC1E8D,wBAAwB,CAAClD,IAAI,CAAC;YAC1BZ,GAAG,EAAE+D,YAAY,CAAC/D,GAAG;YACrBD,OAAO,EAAE;cACLC,GAAG,EAAE+D,YAAY,CAAChE,OAAO,CAACC,GAAG;cAC7BkE,KAAK,EAAEH,YAAY,CAAChE,OAAO,CAACmE,KAAK;cACjCC,GAAG,EAAEJ,YAAY,CAAChE,OAAO,CAACoE,GAAG;cAC7B1B,IAAI,EAAEsB,YAAY,CAAChE,OAAO,CAAC0C,IAAI;cAC/B2B,MAAM,EAAE,uBAAuB,GAAC,gCAAgC,GAACL,YAAY,CAAChE,OAAO,CAACsE,OAAO;cAAC;cAC9F9E,SAAS,EAAEwE,YAAY,CAAChE,OAAO,CAACR,SAAS;cACzC+E,WAAW,EAAEP,YAAY,CAAChE,OAAO,CAACuE,WAAW;cAC7CC,SAAS,EAAER,YAAY,CAAChE,OAAO,CAACwE;YACpC,CAAC;YACDC,aAAa,EAAET,YAAY,CAACS,aAAa;YACzCC,QAAQ,EAAEV,YAAY,CAACU,QAAQ;YAC/B/D,QAAQ,EAAEqD,YAAY,CAACrD,QAAQ;YAC/BgE,QAAQ,EAAEX,YAAY,CAACW,QAAQ;YAC/BC,UAAU,EAAEZ,YAAY,CAACY,UAAU;YACnCC,aAAa,EAAEb,YAAY,CAACa,aAAa;YACzCC,cAAc,EAAEd,YAAY,CAACc,cAAc;YAC3CC,QAAQ,EAAEf,YAAY,CAACe,QAAQ;YAC/BC,KAAK,EAAEhB,YAAY,CAACgB,KAAK;YACzBC,MAAM,EAAEhB;UACZ,CAAC,CAAC;QACN;QACAX,WAAW,CAACzC,IAAI,CAAC;UACb6C,IAAI,EAAEH,KAAK;UACX2B,YAAY,EAAEnB,wBAAwB;UACtCF,YAAY,EAAEA;QAClB,CAAC,CAAC;MACN;MACA,IAAIsB,cAAc,GAAG,MAAMrG,eAAM,CAACsG,aAAa,CAACpG,IAAI,CAAC;QAACqE,IAAI,EAAEJ;MAAO,CAAC,CAAC,CAACrD,IAAI,CAAC;QAAC,WAAW,EAAE,CAAC;MAAC,CAAC,CAAC;MAC7FpB,GAAG,CAACqD,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBwB,WAAW,EAAEA,WAAW;QACxB+B,cAAc,EAAEF;MACpB,CAAC,CAAC;IAEN,CAAC,CAAC,OAAO/C,KAAK,EAAE;MACZzD,OAAO,CAACC,GAAG,CAACwD,KAAK,CAAC;MAClB5D,GAAG,CAACqD,MAAM,CAAC,GAAG,CAAC,CAACQ,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ,CAAC;EACDgD,aAAa,EAAE,MAAAA,CAAM/G,GAAG,EAACC,GAAG,KAAK;IAC7B,IAAI;MACA,IAAGD,GAAG,CAACgH,KAAK,EAAC;QACT,IAAIC,QAAQ,GAAGjH,GAAG,CAACgH,KAAK,CAACE,MAAM,CAAC7B,IAAI;QACpC,IAAI8B,IAAI,GAAGF,QAAQ,CAACG,KAAK,CAAC,IAAI,CAAC;QAC/B,IAAIC,WAAW,GAAGF,IAAI,CAAC,CAAC,CAAC;QACzB/G,OAAO,CAACC,GAAG,CAACgH,WAAW,CAAC;MAC5B;MACA,IAAGrH,GAAG,CAAC2E,IAAI,CAAC2C,QAAQ,EAAC;QACjBtH,GAAG,CAAC2E,IAAI,CAAC2C,QAAQ,GAAG,MAAMC,iBAAM,CAACC,IAAI,CAACxH,GAAG,CAAC2E,IAAI,CAAC2C,QAAQ,EAAC,EAAE,CAAC;MAC/D;MACA,MAAM/G,eAAM,CAACkH,IAAI,CAACC,iBAAiB,CAAC;QAAChG,GAAG,EAAE1B,GAAG,CAAC2E,IAAI,CAACjD;MAAG,CAAC,EAAC1B,GAAG,CAAC2E,IAAI,CAAC;MACjE,IAAI8C,IAAI,GAAG,MAAMlH,eAAM,CAACkH,IAAI,CAAC7E,OAAO,CAAC;QAAClB,GAAG,EAAE1B,GAAG,CAAC2E,IAAI,CAACjD;MAAG,CAAC,CAAC;MACzDzB,GAAG,CAACqD,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBQ,OAAO,EAAE,wCAAwC;QACjDe,IAAI,EAAE;UACFqC,IAAI,EAAEM,IAAI,CAACN,IAAI;UACfQ,OAAO,EAAEF,IAAI,CAACE,OAAO;UACrBC,KAAK,EAACH,IAAI,CAACG,KAAK;UAChBlG,GAAG,EAAC+F,IAAI,CAAC/F;QACb;MACJ,CAAC,CAAC;IACN,CAAC,CAAC,OAAOmC,KAAK,EAAE;MACZzD,OAAO,CAACC,GAAG,CAACwD,KAAK,CAAC;MAClB5D,GAAG,CAACqD,MAAM,CAAC,GAAG,CAAC,CAACQ,IAAI,CAAC;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC;IACN;EACJ;AACJ,CAAC","ignoreList":[]}},"mtime":1718081890246},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\Discount.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _DiscountController = _interopRequireDefault(require(\"../controllers/DiscountController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", _auth.default.verifyAdmin, _DiscountController.default.register);\nrouter.put(\"/update\", _auth.default.verifyAdmin, _DiscountController.default.update);\nrouter.get(\"/list\", _auth.default.verifyAdmin, _DiscountController.default.list);\nrouter.get(\"/config\", _auth.default.verifyAdmin, _DiscountController.default.config);\nrouter.get(\"/show\", _auth.default.verifyAdmin, _DiscountController.default.show);\nrouter.delete(\"/delete\", _auth.default.verifyAdmin, _DiscountController.default.delete);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9EaXNjb3VudENvbnRyb2xsZXIiLCJfYXV0aCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwicm91dGVyIiwicm91dGVyeCIsInBvc3QiLCJhdXRoIiwidmVyaWZ5QWRtaW4iLCJkaXNjb3VudENvbnRyb2xsZXIiLCJyZWdpc3RlciIsInB1dCIsInVwZGF0ZSIsImdldCIsImxpc3QiLCJjb25maWciLCJzaG93IiwiZGVsZXRlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsiRGlzY291bnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcclxuaW1wb3J0IGRpc2NvdW50Q29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9EaXNjb3VudENvbnRyb2xsZXInXHJcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXHJcblxyXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XHJcblxyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLGF1dGgudmVyaWZ5QWRtaW4sZGlzY291bnRDb250cm9sbGVyLnJlZ2lzdGVyKTtcclxucm91dGVyLnB1dChcIi91cGRhdGVcIixhdXRoLnZlcmlmeUFkbWluLGRpc2NvdW50Q29udHJvbGxlci51cGRhdGUpO1xyXG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIixhdXRoLnZlcmlmeUFkbWluLGRpc2NvdW50Q29udHJvbGxlci5saXN0KTtcclxucm91dGVyLmdldChcIi9jb25maWdcIixhdXRoLnZlcmlmeUFkbWluLGRpc2NvdW50Q29udHJvbGxlci5jb25maWcpO1xyXG5yb3V0ZXIuZ2V0KFwiL3Nob3dcIixhdXRoLnZlcmlmeUFkbWluLGRpc2NvdW50Q29udHJvbGxlci5zaG93KTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGVcIixhdXRoLnZlcmlmeUFkbWluLGRpc2NvdW50Q29udHJvbGxlci5kZWxldGUpO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgcm91dGVyOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLG1CQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBc0MsU0FBQUQsdUJBQUFJLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFdEMsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUV4QkQsTUFBTSxDQUFDRSxJQUFJLENBQUMsV0FBVyxFQUFDQyxhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNDLFFBQVEsQ0FBQztBQUNyRU4sTUFBTSxDQUFDTyxHQUFHLENBQUMsU0FBUyxFQUFDSixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNHLE1BQU0sQ0FBQztBQUNoRVIsTUFBTSxDQUFDUyxHQUFHLENBQUMsT0FBTyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNLLElBQUksQ0FBQztBQUM1RFYsTUFBTSxDQUFDUyxHQUFHLENBQUMsU0FBUyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNNLE1BQU0sQ0FBQztBQUNoRVgsTUFBTSxDQUFDUyxHQUFHLENBQUMsT0FBTyxFQUFDTixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNPLElBQUksQ0FBQztBQUM1RFosTUFBTSxDQUFDYSxNQUFNLENBQUMsU0FBUyxFQUFDVixhQUFJLENBQUNDLFdBQVcsRUFBQ0MsMkJBQWtCLENBQUNRLE1BQU0sQ0FBQztBQUFDLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBaEIsT0FBQSxHQUVyREMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_DiscountController","_auth","obj","__esModule","default","router","routerx","post","auth","verifyAdmin","discountController","register","put","update","get","list","config","show","delete","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\router\\","sources":["Discount.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport discountController from '../controllers/DiscountController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n\r\nrouter.post(\"/register\",auth.verifyAdmin,discountController.register);\r\nrouter.put(\"/update\",auth.verifyAdmin,discountController.update);\r\nrouter.get(\"/list\",auth.verifyAdmin,discountController.list);\r\nrouter.get(\"/config\",auth.verifyAdmin,discountController.config);\r\nrouter.get(\"/show\",auth.verifyAdmin,discountController.show);\r\nrouter.delete(\"/delete\",auth.verifyAdmin,discountController.delete);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,mBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACC,QAAQ,CAAC;AACrEN,MAAM,CAACO,GAAG,CAAC,SAAS,EAACJ,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACG,MAAM,CAAC;AAChER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACK,IAAI,CAAC;AAC5DV,MAAM,CAACS,GAAG,CAAC,SAAS,EAACN,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACM,MAAM,CAAC;AAChEX,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACO,IAAI,CAAC;AAC5DZ,MAAM,CAACa,MAAM,CAAC,SAAS,EAACV,aAAI,CAACC,WAAW,EAACC,2BAAkB,CAACQ,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAhB,OAAA,GAErDC,MAAM","ignoreList":[]}},"mtime":1717601564423},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\DiscountController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      var filter_a = [];\n      var filter_b = [];\n      //product_s = [\"id\",\"id\"]\n      //categorie_s = [\"id\",\"id\"]\n      if (data.type_segment == 1) {\n        filter_a.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n      } else {\n        filter_a.push({\n          \"categorias\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categoria_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"categorias\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categoria_s\n              }\n            }\n          }\n        });\n      }\n      // 5 - 8 marzo -> televisor - laptop\n      // 4 - 7 de marzo ->  refrigeradora\n\n      // 5 - 8 marzo -> televisor - laptop\n      // 7 - 9 de marzo -> televisor - refrigeradora\n      filter_a.push({\n        type_campaign: data.type_campaign,\n        start_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      filter_b.push({\n        type_campaign: data.type_campaign,\n        end_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      let exits_start_date = await _models.default.Discount.find({\n        $and: filter_a\n      }); //[]\n\n      let exits_end_date = await _models.default.Discount.find({\n        $and: filter_b\n      });\n      if (exits_start_date.length > 0 || exits_end_date.length > 0) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR ELIMINAR ALGUNAS OPCIONES\"\n        });\n        return;\n      }\n      let discount = await _models.default.Discount.create(data);\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL DESCUENTO SE REGISTRO CORRECTAMENTE\",\n        discount: discount\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      var filter_a = [];\n      var filter_b = [];\n      //product_s = [\"id\",\"id\"]\n      //categorie_s = [\"id\",\"id\"]\n      if (data.type_segment == 1) {\n        filter_a.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"products\": {\n            $elemMatch: {\n              _id: {\n                $in: data.product_s\n              }\n            }\n          }\n        });\n      } else {\n        filter_a.push({\n          \"categorias\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categoria_s\n              }\n            }\n          }\n        });\n        filter_b.push({\n          \"categorias\": {\n            $elemMatch: {\n              _id: {\n                $in: data.categoria_s\n              }\n            }\n          }\n        });\n      }\n      // 5 - 8 marzo -> televisor - laptop\n      // 4 - 7 de marzo ->  refrigeradora\n\n      // 5 - 8 marzo -> televisor - laptop\n      // 7 - 9 de marzo -> televisor - refrigeradora\n      filter_a.push({\n        type_campaign: data.type_campaign,\n        _id: {\n          $ne: data._id\n        },\n        start_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      filter_b.push({\n        type_campaign: data.type_campaign,\n        _id: {\n          $ne: data._id\n        },\n        end_date_num: {\n          $gte: data.start_date_num,\n          $lte: data.end_date_num\n        }\n      });\n      let exits_start_date = await _models.default.Discount.find({\n        $and: filter_a\n      });\n      let exits_end_date = await _models.default.Discount.find({\n        $and: filter_b\n      });\n      if (exits_start_date.length > 0 || exits_end_date.length > 0) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR ELIMINAR ALGUNAS OPCIONES\"\n        });\n        return;\n      }\n      let discount = await _models.default.Discount.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL DESCUENTO SE REGISTRO CORRECTAMENTE\",\n        discount: discount\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.query._id;\n      await _models.default.Discount.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL DESCUENTO SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      // let search = req.query.search;\n\n      let discounts = await _models.default.Discount.find().sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        message: 200,\n        discounts: discounts\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  show: async (req, res) => {\n    try {\n      let discount_id = req.query.discount_id;\n      let discount = await _models.default.Discount.findOne({\n        _id: discount_id\n      });\n      res.status(200).json({\n        message: 200,\n        discount: discount\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  config: async (req, res) => {\n    try {\n      let Products = await _models.default.Product.find({\n        state: 2\n      });\n      let Categorias = await _models.default.Categoria.find({\n        state: 1\n      });\n      res.status(200).json({\n        message: 200,\n        products: Products,\n        categorias: Categorias\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiZGF0YSIsImJvZHkiLCJmaWx0ZXJfYSIsImZpbHRlcl9iIiwidHlwZV9zZWdtZW50IiwicHVzaCIsIiRlbGVtTWF0Y2giLCJfaWQiLCIkaW4iLCJwcm9kdWN0X3MiLCJjYXRlZ29yaWFfcyIsInR5cGVfY2FtcGFpZ24iLCJzdGFydF9kYXRlX251bSIsIiRndGUiLCIkbHRlIiwiZW5kX2RhdGVfbnVtIiwiZXhpdHNfc3RhcnRfZGF0ZSIsIm1vZGVscyIsIkRpc2NvdW50IiwiZmluZCIsIiRhbmQiLCJleGl0c19lbmRfZGF0ZSIsImxlbmd0aCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwibWVzc2FnZV90ZXh0IiwiZGlzY291bnQiLCJjcmVhdGUiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJzZW5kIiwidXBkYXRlIiwiJG5lIiwiZmluZEJ5SWRBbmRVcGRhdGUiLCJkZWxldGUiLCJxdWVyeSIsImZpbmRCeUlkQW5kRGVsZXRlIiwibGlzdCIsImRpc2NvdW50cyIsInNvcnQiLCJzaG93IiwiZGlzY291bnRfaWQiLCJmaW5kT25lIiwiY29uZmlnIiwiUHJvZHVjdHMiLCJQcm9kdWN0Iiwic3RhdGUiLCJDYXRlZ29yaWFzIiwiQ2F0ZWdvcmlhIiwicHJvZHVjdHMiLCJjYXRlZ29yaWFzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJEaXNjb3VudENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tIFwiLi4vbW9kZWxzXCJcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIHJlZ2lzdGVyOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuICAgICAgICAgICAgdmFyIGZpbHRlcl9hID0gW107XHJcbiAgICAgICAgICAgIHZhciBmaWx0ZXJfYiA9IFtdO1xyXG4gICAgICAgICAgICAvL3Byb2R1Y3RfcyA9IFtcImlkXCIsXCJpZFwiXVxyXG4gICAgICAgICAgICAvL2NhdGVnb3JpZV9zID0gW1wiaWRcIixcImlkXCJdXHJcbiAgICAgICAgICAgIGlmKGRhdGEudHlwZV9zZWdtZW50ID09IDEpe1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyX2EucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgXCJwcm9kdWN0c1wiOiB7JGVsZW1NYXRjaDoge19pZDogeyRpbjogZGF0YS5wcm9kdWN0X3N9fX1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyX2IucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJwcm9kdWN0c1wiOiB7JGVsZW1NYXRjaDoge19pZDogeyRpbjogZGF0YS5wcm9kdWN0X3N9fX1cclxuICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIGZpbHRlcl9hLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIFwiY2F0ZWdvcmlhc1wiOiB7JGVsZW1NYXRjaDoge19pZDogeyRpbjogZGF0YS5jYXRlZ29yaWFfc319fVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJfYi5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBcImNhdGVnb3JpYXNcIjogeyRlbGVtTWF0Y2g6IHtfaWQ6IHskaW46IGRhdGEuY2F0ZWdvcmlhX3N9fX1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIDUgLSA4IG1hcnpvIC0+IHRlbGV2aXNvciAtIGxhcHRvcFxyXG4gICAgICAgICAgICAvLyA0IC0gNyBkZSBtYXJ6byAtPiAgcmVmcmlnZXJhZG9yYVxyXG5cclxuICAgICAgICAgICAgLy8gNSAtIDggbWFyem8gLT4gdGVsZXZpc29yIC0gbGFwdG9wXHJcbiAgICAgICAgICAgIC8vIDcgLSA5IGRlIG1hcnpvIC0+IHRlbGV2aXNvciAtIHJlZnJpZ2VyYWRvcmFcclxuICAgICAgICAgICAgZmlsdGVyX2EucHVzaCh7XHJcbiAgICAgICAgICAgICAgICB0eXBlX2NhbXBhaWduOiBkYXRhLnR5cGVfY2FtcGFpZ24sXHJcbiAgICAgICAgICAgICAgICBzdGFydF9kYXRlX251bTogeyRndGU6IGRhdGEuc3RhcnRfZGF0ZV9udW0sJGx0ZTogZGF0YS5lbmRfZGF0ZV9udW19XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGZpbHRlcl9iLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgdHlwZV9jYW1wYWlnbjogZGF0YS50eXBlX2NhbXBhaWduLFxyXG4gICAgICAgICAgICAgICAgZW5kX2RhdGVfbnVtOiB7JGd0ZTogZGF0YS5zdGFydF9kYXRlX251bSwkbHRlOiBkYXRhLmVuZF9kYXRlX251bX1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgbGV0IGV4aXRzX3N0YXJ0X2RhdGUgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZCh7JGFuZDogZmlsdGVyX2F9KTsvL1tdXHJcblxyXG4gICAgICAgICAgICBsZXQgZXhpdHNfZW5kX2RhdGUgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZCh7JGFuZDogZmlsdGVyX2J9KTtcclxuXHJcbiAgICAgICAgICAgIGlmKGV4aXRzX3N0YXJ0X2RhdGUubGVuZ3RoID4gMCB8fCBleGl0c19lbmRfZGF0ZS5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOjQwMyxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgREVTQ1VFTlRPIE5PIFNFIFBVRURFIFBST0dSQU1BUiBFTElNSU5BUiBBTEdVTkFTIE9QQ0lPTkVTXCJcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgZGlzY291bnQgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuY3JlYXRlKGRhdGEpO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIERFU0NVRU5UTyBTRSBSRUdJU1RSTyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICBkaXNjb3VudDpkaXNjb3VudFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9DVVJSSU8gVU4gRVJST1JcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHVwZGF0ZTogYXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XHJcbiAgICAgICAgICAgIHZhciBmaWx0ZXJfYSA9IFtdO1xyXG4gICAgICAgICAgICB2YXIgZmlsdGVyX2IgPSBbXTtcclxuICAgICAgICAgICAgLy9wcm9kdWN0X3MgPSBbXCJpZFwiLFwiaWRcIl1cclxuICAgICAgICAgICAgLy9jYXRlZ29yaWVfcyA9IFtcImlkXCIsXCJpZFwiXVxyXG4gICAgICAgICAgICBpZihkYXRhLnR5cGVfc2VnbWVudCA9PSAxKXtcclxuICAgICAgICAgICAgICAgIGZpbHRlcl9hLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgIFwicHJvZHVjdHNcIjogeyRlbGVtTWF0Y2g6IHtfaWQ6IHskaW46IGRhdGEucHJvZHVjdF9zfX19XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGZpbHRlcl9iLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIFwicHJvZHVjdHNcIjogeyRlbGVtTWF0Y2g6IHtfaWQ6IHskaW46IGRhdGEucHJvZHVjdF9zfX19XHJcbiAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJfYS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBcImNhdGVnb3JpYXNcIjogeyRlbGVtTWF0Y2g6IHtfaWQ6IHskaW46IGRhdGEuY2F0ZWdvcmlhX3N9fX1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyX2IucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJjYXRlZ29yaWFzXCI6IHskZWxlbU1hdGNoOiB7X2lkOiB7JGluOiBkYXRhLmNhdGVnb3JpYV9zfX19XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyA1IC0gOCBtYXJ6byAtPiB0ZWxldmlzb3IgLSBsYXB0b3BcclxuICAgICAgICAgICAgLy8gNCAtIDcgZGUgbWFyem8gLT4gIHJlZnJpZ2VyYWRvcmFcclxuXHJcbiAgICAgICAgICAgIC8vIDUgLSA4IG1hcnpvIC0+IHRlbGV2aXNvciAtIGxhcHRvcFxyXG4gICAgICAgICAgICAvLyA3IC0gOSBkZSBtYXJ6byAtPiB0ZWxldmlzb3IgLSByZWZyaWdlcmFkb3JhXHJcbiAgICAgICAgICAgIGZpbHRlcl9hLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgdHlwZV9jYW1wYWlnbjogZGF0YS50eXBlX2NhbXBhaWduLFxyXG4gICAgICAgICAgICAgICAgX2lkOiB7JG5lOiBkYXRhLl9pZH0sXHJcbiAgICAgICAgICAgICAgICBzdGFydF9kYXRlX251bTogeyRndGU6IGRhdGEuc3RhcnRfZGF0ZV9udW0sJGx0ZTogZGF0YS5lbmRfZGF0ZV9udW19XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGZpbHRlcl9iLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgdHlwZV9jYW1wYWlnbjogZGF0YS50eXBlX2NhbXBhaWduLFxyXG4gICAgICAgICAgICAgICAgX2lkOiB7JG5lOiBkYXRhLl9pZH0sXHJcbiAgICAgICAgICAgICAgICBlbmRfZGF0ZV9udW06IHskZ3RlOiBkYXRhLnN0YXJ0X2RhdGVfbnVtLCRsdGU6IGRhdGEuZW5kX2RhdGVfbnVtfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBsZXQgZXhpdHNfc3RhcnRfZGF0ZSA9IGF3YWl0IG1vZGVscy5EaXNjb3VudC5maW5kKHskYW5kOiBmaWx0ZXJfYX0pO1xyXG5cclxuICAgICAgICAgICAgbGV0IGV4aXRzX2VuZF9kYXRlID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmQoeyRhbmQ6IGZpbHRlcl9ifSk7XHJcblxyXG4gICAgICAgICAgICBpZihleGl0c19zdGFydF9kYXRlLmxlbmd0aCA+IDAgfHwgZXhpdHNfZW5kX2RhdGUubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTo0MDMsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIERFU0NVRU5UTyBOTyBTRSBQVUVERSBQUk9HUkFNQVIgRUxJTUlOQVIgQUxHVU5BUyBPUENJT05FU1wiXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGRpc2NvdW50ID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IGRhdGEuX2lkfSxkYXRhKTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBERVNDVUVOVE8gU0UgUkVHSVNUUk8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICAgICAgZGlzY291bnQ6ZGlzY291bnRcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgZGVsZXRlOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IF9pZCA9IHJlcS5xdWVyeS5faWQ7XHJcblxyXG4gICAgICAgICAgICBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZEJ5SWRBbmREZWxldGUoe19pZDogX2lkfSk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgREVTQ1VFTlRPIFNFIEVMSU1JTk8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBsaXN0OiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gbGV0IHNlYXJjaCA9IHJlcS5xdWVyeS5zZWFyY2g7XHJcblxyXG4gICAgICAgICAgICBsZXQgZGlzY291bnRzID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmQoKS5zb3J0KHsnY3JlYXRlZEF0JzogLTF9KTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcclxuICAgICAgICAgICAgICAgIGRpc2NvdW50czogZGlzY291bnRzLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzaG93OiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRpc2NvdW50X2lkID0gcmVxLnF1ZXJ5LmRpc2NvdW50X2lkO1xyXG5cclxuICAgICAgICAgICAgbGV0IGRpc2NvdW50ID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmRPbmUoe19pZDogZGlzY291bnRfaWR9KTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDIwMCxcclxuICAgICAgICAgICAgICAgIGRpc2NvdW50OiBkaXNjb3VudCxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgY29uZmlnOiBhc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuXHJcbiAgICAgICAgICAgIGxldCBQcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoe3N0YXRlOiAyfSk7XHJcbiAgICAgICAgICAgIGxldCBDYXRlZ29yaWFzID0gYXdhaXQgbW9kZWxzLkNhdGVnb3JpYS5maW5kKHtzdGF0ZToxfSk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICBwcm9kdWN0czogUHJvZHVjdHMsXHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWFzOiBDYXRlZ29yaWFzLFxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUE4QixTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElBQUFHLFFBQUEs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","map":{"version":3,"names":["_models","_interopRequireDefault","require","obj","__esModule","default","_default","exports","register","req","res","data","body","filter_a","filter_b","type_segment","push","$elemMatch","_id","$in","product_s","categoria_s","type_campaign","start_date_num","$gte","$lte","end_date_num","exits_start_date","models","Discount","find","$and","exits_end_date","length","status","json","message","message_text","discount","create","error","console","log","send","update","$ne","findByIdAndUpdate","delete","query","findByIdAndDelete","list","discounts","sort","show","discount_id","findOne","config","Products","Product","state","Categorias","Categoria","products","categorias"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\controllers\\","sources":["DiscountController.js"],"sourcesContent":["import models from \"../models\"\r\n\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            var filter_a = [];\r\n            var filter_b = [];\r\n            //product_s = [\"id\",\"id\"]\r\n            //categorie_s = [\"id\",\"id\"]\r\n            if(data.type_segment == 1){\r\n                filter_a.push({\r\n                 \"products\": {$elemMatch: {_id: {$in: data.product_s}}}\r\n                });\r\n                filter_b.push({\r\n                    \"products\": {$elemMatch: {_id: {$in: data.product_s}}}\r\n                   });\r\n            }else{\r\n                filter_a.push({\r\n                    \"categorias\": {$elemMatch: {_id: {$in: data.categoria_s}}}\r\n                });\r\n                filter_b.push({\r\n                    \"categorias\": {$elemMatch: {_id: {$in: data.categoria_s}}}\r\n                });\r\n            }\r\n            // 5 - 8 marzo -> televisor - laptop\r\n            // 4 - 7 de marzo ->  refrigeradora\r\n\r\n            // 5 - 8 marzo -> televisor - laptop\r\n            // 7 - 9 de marzo -> televisor - refrigeradora\r\n            filter_a.push({\r\n                type_campaign: data.type_campaign,\r\n                start_date_num: {$gte: data.start_date_num,$lte: data.end_date_num}\r\n            })\r\n            filter_b.push({\r\n                type_campaign: data.type_campaign,\r\n                end_date_num: {$gte: data.start_date_num,$lte: data.end_date_num}\r\n            })\r\n            let exits_start_date = await models.Discount.find({$and: filter_a});//[]\r\n\r\n            let exits_end_date = await models.Discount.find({$and: filter_b});\r\n\r\n            if(exits_start_date.length > 0 || exits_end_date.length > 0){\r\n                res.status(200).json({\r\n                    message:403,\r\n                    message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR ELIMINAR ALGUNAS OPCIONES\"\r\n                });\r\n                return;\r\n            }\r\n\r\n            let discount = await models.Discount.create(data);\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL DESCUENTO SE REGISTRO CORRECTAMENTE\",\r\n                discount:discount\r\n            });\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    update: async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            var filter_a = [];\r\n            var filter_b = [];\r\n            //product_s = [\"id\",\"id\"]\r\n            //categorie_s = [\"id\",\"id\"]\r\n            if(data.type_segment == 1){\r\n                filter_a.push({\r\n                 \"products\": {$elemMatch: {_id: {$in: data.product_s}}}\r\n                });\r\n                filter_b.push({\r\n                    \"products\": {$elemMatch: {_id: {$in: data.product_s}}}\r\n                   });\r\n            }else{\r\n                filter_a.push({\r\n                    \"categorias\": {$elemMatch: {_id: {$in: data.categoria_s}}}\r\n                });\r\n                filter_b.push({\r\n                    \"categorias\": {$elemMatch: {_id: {$in: data.categoria_s}}}\r\n                });\r\n            }\r\n            // 5 - 8 marzo -> televisor - laptop\r\n            // 4 - 7 de marzo ->  refrigeradora\r\n\r\n            // 5 - 8 marzo -> televisor - laptop\r\n            // 7 - 9 de marzo -> televisor - refrigeradora\r\n            filter_a.push({\r\n                type_campaign: data.type_campaign,\r\n                _id: {$ne: data._id},\r\n                start_date_num: {$gte: data.start_date_num,$lte: data.end_date_num}\r\n            })\r\n            filter_b.push({\r\n                type_campaign: data.type_campaign,\r\n                _id: {$ne: data._id},\r\n                end_date_num: {$gte: data.start_date_num,$lte: data.end_date_num}\r\n            })\r\n            let exits_start_date = await models.Discount.find({$and: filter_a});\r\n\r\n            let exits_end_date = await models.Discount.find({$and: filter_b});\r\n\r\n            if(exits_start_date.length > 0 || exits_end_date.length > 0){\r\n                res.status(200).json({\r\n                    message:403,\r\n                    message_text: \"EL DESCUENTO NO SE PUEDE PROGRAMAR ELIMINAR ALGUNAS OPCIONES\"\r\n                });\r\n                return;\r\n            }\r\n\r\n            let discount = await models.Discount.findByIdAndUpdate({_id: data._id},data);\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL DESCUENTO SE REGISTRO CORRECTAMENTE\",\r\n                discount:discount\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    delete: async(req,res) => {\r\n        try {\r\n            let _id = req.query._id;\r\n\r\n            await models.Discount.findByIdAndDelete({_id: _id});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL DESCUENTO SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    list: async(req,res) => {\r\n        try {\r\n            // let search = req.query.search;\r\n\r\n            let discounts = await models.Discount.find().sort({'createdAt': -1});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                discounts: discounts,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    show: async(req,res) => {\r\n        try {\r\n            let discount_id = req.query.discount_id;\r\n\r\n            let discount = await models.Discount.findOne({_id: discount_id});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                discount: discount,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    config: async(req,res) => {\r\n        try {\r\n\r\n            let Products = await models.Product.find({state: 2});\r\n            let Categorias = await models.Categoria.find({state:1});\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                products: Products,\r\n                categorias: Categorias,\r\n            });\r\n\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message: \"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1717868217679},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\Home.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _HomeController = _interopRequireDefault(require(\"../controllers/HomeController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.get(\"/list\", _HomeController.default.list);\nrouter.get(\"/landing-product/:slug\", _HomeController.default.show_landing_product);\nrouter.post(\"/profile_client\", _auth.default.verifyEcommerce, _HomeController.default.profile_client);\nrouter.post(\"/update_client\", _auth.default.verifyEcommerce, _HomeController.default.update_client);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9Ib21lQ29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwiZ2V0IiwiaG9tZUNvbnRyb2xsZXIiLCJsaXN0Iiwic2hvd19sYW5kaW5nX3Byb2R1Y3QiLCJwb3N0IiwiYXV0aCIsInZlcmlmeUVjb21tZXJjZSIsInByb2ZpbGVfY2xpZW50IiwidXBkYXRlX2NsaWVudCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxud29ybFxcRXNjcml0b3Jpb1xcUHJvZ3JhbWFjacOzblxcRWNvbW1lcmNlU29saXRla1xcYXBpX2Vjb21tZXJjZVxccm91dGVyXFwiLCJzb3VyY2VzIjpbIkhvbWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcclxuaW1wb3J0IGhvbWVDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL0hvbWVDb250cm9sbGVyJ1xyXG5pbXBvcnQgYXV0aCBmcm9tICcuLi9taWRkbGV3YXJlcy9hdXRoJ1xyXG5cclxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xyXG5cclxucm91dGVyLmdldChcIi9saXN0XCIsaG9tZUNvbnRyb2xsZXIubGlzdCk7XHJcbnJvdXRlci5nZXQoXCIvbGFuZGluZy1wcm9kdWN0LzpzbHVnXCIsaG9tZUNvbnRyb2xsZXIuc2hvd19sYW5kaW5nX3Byb2R1Y3QpO1xyXG5cclxuXHJcblxyXG5yb3V0ZXIucG9zdChcIi9wcm9maWxlX2NsaWVudFwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLGhvbWVDb250cm9sbGVyLnByb2ZpbGVfY2xpZW50KTtcclxucm91dGVyLnBvc3QoXCIvdXBkYXRlX2NsaWVudFwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLGhvbWVDb250cm9sbGVyLnVwZGF0ZV9jbGllbnQpO1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxlQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBc0MsU0FBQUQsdUJBQUFJLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFdEMsTUFBTUcsTUFBTSxHQUFHLElBQUFDLDZCQUFPLEVBQUMsQ0FBQztBQUV4QkQsTUFBTSxDQUFDRSxHQUFHLENBQUMsT0FBTyxFQUFDQyx1QkFBYyxDQUFDQyxJQUFJLENBQUM7QUFDdkNKLE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLHdCQUF3QixFQUFDQyx1QkFBYyxDQUFDRSxvQkFBb0IsQ0FBQztBQUl4RUwsTUFBTSxDQUFDTSxJQUFJLENBQUMsaUJBQWlCLEVBQUNDLGFBQUksQ0FBQ0MsZUFBZSxFQUFDTCx1QkFBYyxDQUFDTSxjQUFjLENBQUM7QUFDakZULE1BQU0sQ0FBQ00sSUFBSSxDQUFDLGdCQUFnQixFQUFDQyxhQUFJLENBQUNDLGVBQWUsRUFBQ0wsdUJBQWMsQ0FBQ08sYUFBYSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFiLE9BQUEsR0FHakVDLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_HomeController","_auth","obj","__esModule","default","router","routerx","get","homeController","list","show_landing_product","post","auth","verifyEcommerce","profile_client","update_client","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\router\\","sources":["Home.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport homeController from '../controllers/HomeController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n\r\nrouter.get(\"/list\",homeController.list);\r\nrouter.get(\"/landing-product/:slug\",homeController.show_landing_product);\r\n\r\n\r\n\r\nrouter.post(\"/profile_client\",auth.verifyEcommerce,homeController.profile_client);\r\nrouter.post(\"/update_client\",auth.verifyEcommerce,homeController.update_client);\r\n\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,GAAG,CAAC,OAAO,EAACC,uBAAc,CAACC,IAAI,CAAC;AACvCJ,MAAM,CAACE,GAAG,CAAC,wBAAwB,EAACC,uBAAc,CAACE,oBAAoB,CAAC;AAIxEL,MAAM,CAACM,IAAI,CAAC,iBAAiB,EAACC,aAAI,CAACC,eAAe,EAACL,uBAAc,CAACM,cAAc,CAAC;AACjFT,MAAM,CAACM,IAAI,CAAC,gBAAgB,EAACC,aAAI,CAACC,eAAe,EAACL,uBAAc,CAACO,aAAa,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAb,OAAA,GAGjEC,MAAM","ignoreList":[]}},"mtime":1718062253811},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\HomeController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nvar _Categoria = _interopRequireDefault(require(\"../resources/Categoria\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  list: async (req, res) => {\n    try {\n      var TIME_NOW = req.query.TIME_NOW;\n      console.log(TIME_NOW);\n      let Sliders = await _models.default.Slider.find({\n        state: 1\n      });\n      Sliders = Sliders.map(slider => {\n        return _resources.default.Slider.slider_list(slider);\n      });\n      let Categorias = await _models.default.Categoria.find({\n        state: 1\n      });\n      Categorias = Categorias.map(categoria => {\n        return _resources.default.Categoria.categoria_list(categoria);\n      });\n      let BestProducts = await _models.default.Product.find({\n        state: 2\n      }).sort({\n        \"createdAt\": -1\n      });\n      var ObjectBestProducts = [];\n      for (const Product of BestProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        let REVIEWS = await _models.default.Review.find({\n          product: Product._id\n        });\n        let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n        let COUNT_REVIEW = REVIEWS.length;\n        ObjectBestProducts.push(_resources.default.Product.product_list(Product, VARIEDADES, AVG_REVIEW, COUNT_REVIEW));\n      }\n      let OursProducts = await _models.default.Product.find({\n        state: 2\n      }).sort({\n        \"createdAt\": 1\n      });\n      var ObjectOursProducts = [];\n      for (const Product of OursProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        let REVIEWS = await _models.default.Review.find({\n          product: Product._id\n        });\n        let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum, item) => sum + item.cantidad, 0) / REVIEWS.length) : 0;\n        let COUNT_REVIEW = REVIEWS.length;\n        ObjectOursProducts.push(_resources.default.Product.product_list(Product, VARIEDADES, AVG_REVIEW, COUNT_REVIEW));\n      }\n      let FlashSale = await _models.default.Discount.findOne({\n        type_campaign: 2,\n        start_date_num: {\n          $lte: TIME_NOW\n        },\n        //<=\n        end_date_num: {\n          $gte: TIME_NOW\n        } //>=\n      });\n      let ProductList = [];\n      if (FlashSale) {\n        for (const product of FlashSale.products) {\n          var ObjecT = await _models.default.Product.findById({\n            _id: product._id\n          });\n          let VARIEDADES = await _models.default.Variedad.find({\n            product: product._id\n          });\n          ProductList.push(_resources.default.Product.product_list(ObjecT, VARIEDADES));\n        }\n      }\n      console.log(FlashSale);\n      res.status(200).json({\n        sliders: Sliders,\n        categorias: Categorias,\n        best_products: ObjectBestProducts,\n        our_products: ObjectOursProducts,\n        FlashSale: FlashSale,\n        campaign_products: ProductList\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  show_landing_product: async (req, res) => {\n    try {\n      let SLUG = req.params.slug;\n      let DISCOUNT_ID = req.query._id;\n      console.log(DISCOUNT_ID);\n      let Product = await _models.default.Product.findOne({\n        slug: SLUG,\n        state: 2\n      });\n      let VARIEDADES = await _models.default.Variedad.find({\n        product: Product._id\n      });\n      let RelatedProducts = await _models.default.Product.find({\n        categoria: Product.categoria,\n        state: 2\n      });\n      var ObjectRelatedProducts = [];\n      for (const Product of RelatedProducts) {\n        let VARIEDADES = await _models.default.Variedad.find({\n          product: Product._id\n        });\n        ObjectRelatedProducts.push(_resources.default.Product.product_list(Product, VARIEDADES));\n      }\n      let SALE_FLASH = null;\n      if (DISCOUNT_ID) {\n        SALE_FLASH = await _models.default.Discount.findById({\n          _id: DISCOUNT_ID\n        });\n      }\n      res.status(200).json({\n        product: _resources.default.Product.product_list(Product, VARIEDADES),\n        related_products: ObjectRelatedProducts,\n        SALE_FLASH: SALE_FLASH\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  profile_client: async (req, res) => {\n    try {\n      let user_id = req.body.user_id;\n      let Orders = await _models.default.Sale.find({\n        user: user_id\n      });\n      let sale_orders = [];\n      for (const order of Orders) {\n        let detail_orders = await _models.default.SaleDetail.find({\n          sale: order._id\n        }).populate({\n          path: \"product\",\n          populate: {\n            path: \"categoria\"\n          }\n        }).populate(\"variedad\");\n        let sale_address = await _models.default.SaleAddress.find({\n          sale: order._id\n        });\n        let collection_detail_orders = [];\n        for (const detail_order of detail_orders) {\n          let reviewS = await _models.default.Review.findOne({\n            sale_detail: detail_order._id\n          });\n          collection_detail_orders.push({\n            _id: detail_order._id,\n            product: {\n              _id: detail_order.product._id,\n              title: detail_order.product.title,\n              sku: detail_order.product.sku,\n              slug: detail_order.product.slug,\n              imagen: 'http://localhost:3000' + '/api/products/uploads/product/' + detail_order.product.portada,\n              //*\n              categoria: detail_order.product.categoria,\n              price_soles: detail_order.product.price_soles,\n              price_usd: detail_order.product.price_usd\n            },\n            type_discount: detail_order.type_discount,\n            discount: detail_order.discount,\n            cantidad: detail_order.cantidad,\n            variedad: detail_order.variedad,\n            code_cupon: detail_order.code_cupon,\n            code_discount: detail_order.code_discount,\n            price_unitario: detail_order.price_unitario,\n            subtotal: detail_order.subtotal,\n            total: detail_order.total,\n            review: reviewS\n          });\n        }\n        sale_orders.push({\n          sale: order,\n          sale_details: collection_detail_orders,\n          sale_address: sale_address\n        });\n      }\n      let ADDRESS_CLIENT = await _models.default.AddressClient.find({\n        user: user_id\n      }).sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        sale_orders: sale_orders,\n        address_client: ADDRESS_CLIENT\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"Ocurrio un error\"\n      });\n    }\n  },\n  update_client: async (req, res) => {\n    try {\n      if (req.files) {\n        var img_path = req.files.avatar.path;\n        var name = img_path.split('\\\\');\n        var avatar_name = name[2];\n        console.log(avatar_name);\n      }\n      if (req.body.password) {\n        req.body.password = await _bcryptjs.default.hash(req.body.password, 10);\n      }\n      await _models.default.User.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let User = await _models.default.User.findOne({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"SE GUARDO SU INFORMACIÓN CORRECTAMENTE\",\n        user: {\n          name: User.name,\n          subname: User.subname,\n          email: User.email,\n          _id: User._id\n        }\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"Ocurrio un error\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3VyY2VzIiwiX0NhdGVnb3JpYSIsIl9iY3J5cHRqcyIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwibGlzdCIsInJlcSIsInJlcyIsIlRJTUVfTk9XIiwicXVlcnkiLCJjb25zb2xlIiwibG9nIiwiU2xpZGVycyIsIm1vZGVscyIsIlNsaWRlciIsImZpbmQiLCJzdGF0ZSIsIm1hcCIsInNsaWRlciIsInJlc291cmNlIiwic2xpZGVyX2xpc3QiLCJDYXRlZ29yaWFzIiwiQ2F0ZWdvcmlhIiwiY2F0ZWdvcmlhIiwiY2F0ZWdvcmlhX2xpc3QiLCJCZXN0UHJvZHVjdHMiLCJQcm9kdWN0Iiwic29ydCIsIk9iamVjdEJlc3RQcm9kdWN0cyIsIlZBUklFREFERVMiLCJWYXJpZWRhZCIsInByb2R1Y3QiLCJfaWQiLCJSRVZJRVdTIiwiUmV2aWV3IiwiQVZHX1JFVklFVyIsImxlbmd0aCIsIk1hdGgiLCJjZWlsIiwicmVkdWNlIiwic3VtIiwiaXRlbSIsImNhbnRpZGFkIiwiQ09VTlRfUkVWSUVXIiwicHVzaCIsInByb2R1Y3RfbGlzdCIsIk91cnNQcm9kdWN0cyIsIk9iamVjdE91cnNQcm9kdWN0cyIsIkZsYXNoU2FsZSIsIkRpc2NvdW50IiwiZmluZE9uZSIsInR5cGVfY2FtcGFpZ24iLCJzdGFydF9kYXRlX251bSIsIiRsdGUiLCJlbmRfZGF0ZV9udW0iLCIkZ3RlIiwiUHJvZHVjdExpc3QiLCJwcm9kdWN0cyIsIk9iamVjVCIsImZpbmRCeUlkIiwic3RhdHVzIiwianNvbiIsInNsaWRlcnMiLCJjYXRlZ29yaWFzIiwiYmVzdF9wcm9kdWN0cyIsIm91cl9wcm9kdWN0cyIsImNhbXBhaWduX3Byb2R1Y3RzIiwiZXJyb3IiLCJzZW5kIiwibWVzc2FnZSIsInNob3dfbGFuZGluZ19wcm9kdWN0IiwiU0xVRyIsInBhcmFtcyIsInNsdWciLCJESVNDT1VOVF9JRCIsIlJlbGF0ZWRQcm9kdWN0cyIsIk9iamVjdFJlbGF0ZWRQcm9kdWN0cyIsIlNBTEVfRkxBU0giLCJyZWxhdGVkX3Byb2R1Y3RzIiwicHJvZmlsZV9jbGllbnQiLCJ1c2VyX2lkIiwiYm9keSIsIk9yZGVycyIsIlNhbGUiLCJ1c2VyIiwic2FsZV9vcmRlcnMiLCJvcmRlciIsImRldGFpbF9vcmRlcnMiLCJTYWxlRGV0YWlsIiwic2FsZSIsInBvcHVsYXRlIiwicGF0aCIsInNhbGVfYWRkcmVzcyIsIlNhbGVBZGRyZXNzIiwiY29sbGVjdGlvbl9kZXRhaWxfb3JkZXJzIiwiZGV0YWlsX29yZGVyIiwicmV2aWV3UyIsInNhbGVfZGV0YWlsIiwidGl0bGUiLCJza3UiLCJpbWFnZW4iLCJwb3J0YWRhIiwicHJpY2Vfc29sZXMiLCJwcmljZV91c2QiLCJ0eXBlX2Rpc2NvdW50IiwiZGlzY291bnQiLCJ2YXJpZWRhZCIsImNvZGVfY3Vwb24iLCJjb2RlX2Rpc2NvdW50IiwicHJpY2VfdW5pdGFyaW8iLCJzdWJ0b3RhbCIsInRvdGFsIiwicmV2aWV3Iiwic2FsZV9kZXRhaWxzIiwiQUREUkVTU19DTElFTlQiLCJBZGRyZXNzQ2xpZW50IiwiYWRkcmVzc19jbGllbnQiLCJ1cGRhdGVfY2xpZW50IiwiZmlsZXMiLCJpbWdfcGF0aCIsImF2YXRhciIsIm5hbWUiLCJzcGxpdCIsImF2YXRhcl9uYW1lIiwicGFzc3dvcmQiLCJiY3J5cHQiLCJoYXNoIiwiVXNlciIsImZpbmRCeUlkQW5kVXBkYXRlIiwic3VibmFtZSIsImVtYWlsIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJIb21lQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gJy4uL21vZGVscydcclxuaW1wb3J0IHJlc291cmNlIGZyb20gJy4uL3Jlc291cmNlcyc7XHJcbmltcG9ydCBDYXRlZ29yaWEgZnJvbSAnLi4vcmVzb3VyY2VzL0NhdGVnb3JpYSc7XHJcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnXHJcblxyXG5leHBvcnQgZGVmYXVsdHtcclxuICAgIGxpc3Q6YXN5bmMocmVxLHJlcyk9PntcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YXIgVElNRV9OT1cgPSAgcmVxLnF1ZXJ5LlRJTUVfTk9XO1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coVElNRV9OT1cpO1xyXG4gICAgICAgICAgICBsZXQgU2xpZGVycyA9IGF3YWl0IG1vZGVscy5TbGlkZXIuZmluZCh7c3RhdGU6MX0pO1xyXG4gICAgICAgICAgICBTbGlkZXJzID0gU2xpZGVycy5tYXAoKHNsaWRlcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlLlNsaWRlci5zbGlkZXJfbGlzdChzbGlkZXIpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBsZXQgQ2F0ZWdvcmlhcyA9IGF3YWl0IG1vZGVscy5DYXRlZ29yaWEuZmluZCh7c3RhdGU6MX0pO1xyXG5cclxuICAgICAgICAgICAgQ2F0ZWdvcmlhcyA9IENhdGVnb3JpYXMubWFwKChjYXRlZ29yaWEpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvdXJjZS5DYXRlZ29yaWEuY2F0ZWdvcmlhX2xpc3QoY2F0ZWdvcmlhKTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgQmVzdFByb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7c3RhdGU6Mn0pLnNvcnQoe1wiY3JlYXRlZEF0XCI6LTF9KTtcclxuICAgICAgICAgICAgdmFyIE9iamVjdEJlc3RQcm9kdWN0cyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IFByb2R1Y3Qgb2YgQmVzdFByb2R1Y3RzKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgVkFSSUVEQURFUyA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHtwcm9kdWN0OiBQcm9kdWN0Ll9pZH0pO1xyXG4gICAgICAgICAgICAgICAgbGV0IFJFVklFV1MgPSBhd2FpdCBtb2RlbHMuUmV2aWV3LmZpbmQoe3Byb2R1Y3Q6IFByb2R1Y3QuX2lkfSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgQVZHX1JFVklFVyA9IFJFVklFV1MubGVuZ3RoID4gMCA/IE1hdGguY2VpbChSRVZJRVdTLnJlZHVjZSgoc3VtLGl0ZW0pID0+IHN1bSArIGl0ZW0uY2FudGlkYWQsMCkvUkVWSUVXUy5sZW5ndGgpIDogMDtcclxuICAgICAgICAgICAgICAgIGxldCBDT1VOVF9SRVZJRVcgPSBSRVZJRVdTLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIE9iamVjdEJlc3RQcm9kdWN0cy5wdXNoKHJlc291cmNlLlByb2R1Y3QucHJvZHVjdF9saXN0KFByb2R1Y3QsVkFSSUVEQURFUyxBVkdfUkVWSUVXLENPVU5UX1JFVklFVykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICBsZXQgT3Vyc1Byb2R1Y3RzID0gYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZCh7c3RhdGU6Mn0pLnNvcnQoe1wiY3JlYXRlZEF0XCI6MX0pO1xyXG4gICAgICAgICAgICB2YXIgT2JqZWN0T3Vyc1Byb2R1Y3RzID0gW107XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgUHJvZHVjdCBvZiBPdXJzUHJvZHVjdHMpIHtcclxuICAgICAgICAgICAgICAgIGxldCBWQVJJRURBREVTID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmQoe3Byb2R1Y3Q6IFByb2R1Y3QuX2lkfSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgUkVWSUVXUyA9IGF3YWl0IG1vZGVscy5SZXZpZXcuZmluZCh7cHJvZHVjdDogUHJvZHVjdC5faWR9KTtcclxuICAgICAgICAgICAgICAgIGxldCBBVkdfUkVWSUVXID0gUkVWSUVXUy5sZW5ndGggPiAwID8gTWF0aC5jZWlsKFJFVklFV1MucmVkdWNlKChzdW0saXRlbSkgPT4gc3VtICsgaXRlbS5jYW50aWRhZCwwKS9SRVZJRVdTLmxlbmd0aCkgOiAwO1xyXG4gICAgICAgICAgICAgICAgbGV0IENPVU5UX1JFVklFVyA9IFJFVklFV1MubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0T3Vyc1Byb2R1Y3RzLnB1c2gocmVzb3VyY2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QoUHJvZHVjdCxWQVJJRURBREVTLEFWR19SRVZJRVcsQ09VTlRfUkVWSUVXKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIGxldCBGbGFzaFNhbGUgPSBhd2FpdCBtb2RlbHMuRGlzY291bnQuZmluZE9uZSh7XHJcbiAgICAgICAgICAgICAgICB0eXBlX2NhbXBhaWduOiAyLFxyXG4gICAgICAgICAgICAgICAgc3RhcnRfZGF0ZV9udW06eyRsdGU6VElNRV9OT1d9LC8vPD1cclxuICAgICAgICAgICAgICAgIGVuZF9kYXRlX251bTp7JGd0ZTpUSU1FX05PV30sLy8+PVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbGV0IFByb2R1Y3RMaXN0ID0gW107XHJcbiAgICAgICAgICAgIGlmKEZsYXNoU2FsZSl7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHByb2R1Y3Qgb2YgRmxhc2hTYWxlLnByb2R1Y3RzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIE9iamVjVCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkKHtfaWQ6cHJvZHVjdC5faWR9KTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgVkFSSUVEQURFUyA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHtwcm9kdWN0OiBwcm9kdWN0Ll9pZH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIFByb2R1Y3RMaXN0LnB1c2gocmVzb3VyY2UuUHJvZHVjdC5wcm9kdWN0X2xpc3QoT2JqZWNULFZBUklFREFERVMpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICBcclxuICAgICAgICAgICAgY29uc29sZS5sb2coRmxhc2hTYWxlKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgc2xpZGVyczogU2xpZGVycyxcclxuICAgICAgICAgICAgICAgIGNhdGVnb3JpYXM6IENhdGVnb3JpYXMsXHJcbiAgICAgICAgICAgICAgICBiZXN0X3Byb2R1Y3RzOk9iamVjdEJlc3RQcm9kdWN0cyxcclxuICAgICAgICAgICAgICAgIG91cl9wcm9kdWN0czpPYmplY3RPdXJzUHJvZHVjdHMsXHJcbiAgICAgICAgICAgICAgICBGbGFzaFNhbGU6IEZsYXNoU2FsZSxcclxuXHJcbiAgICAgICAgICAgICAgICBjYW1wYWlnbl9wcm9kdWN0czogUHJvZHVjdExpc3QsXHJcblxyXG4gICAgICAgICAgICAgICAgXHJcblxyXG5cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICBcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOlwiRVJST1JcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzaG93X2xhbmRpbmdfcHJvZHVjdDphc3luYyhyZXEscmVzKT0+e1xyXG4gICAgICAgdHJ5IHtcclxuICAgICAgICBsZXQgU0xVRyA9IHJlcS5wYXJhbXMuc2x1ZztcclxuICAgICAgICBsZXQgRElTQ09VTlRfSUQgPSByZXEucXVlcnkuX2lkO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKERJU0NPVU5UX0lEKTtcclxuICAgICAgICBsZXQgUHJvZHVjdCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRPbmUoe3NsdWc6IFNMVUcsc3RhdGU6Mn0pO1xyXG4gICAgICAgIGxldCAgVkFSSUVEQURFUyA9IGF3YWl0IG1vZGVscy5WYXJpZWRhZC5maW5kKHtwcm9kdWN0OlByb2R1Y3QuX2lkfSk7XHJcbiAgICAgICAgbGV0IFJlbGF0ZWRQcm9kdWN0cyA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmQoe2NhdGVnb3JpYTogUHJvZHVjdC5jYXRlZ29yaWEsc3RhdGU6Mn0pO1xyXG4gICAgICAgIHZhciBPYmplY3RSZWxhdGVkUHJvZHVjdHMgPSBbXTtcclxuICAgICAgICBmb3IgKGNvbnN0IFByb2R1Y3Qgb2YgUmVsYXRlZFByb2R1Y3RzKSB7XHJcbiAgICAgICAgICAgIGxldCBWQVJJRURBREVTID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmQoe3Byb2R1Y3Q6IFByb2R1Y3QuX2lkfSk7XHJcbiAgICAgICAgICAgIE9iamVjdFJlbGF0ZWRQcm9kdWN0cy5wdXNoKHJlc291cmNlLlByb2R1Y3QucHJvZHVjdF9saXN0KFByb2R1Y3QsVkFSSUVEQURFUykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgU0FMRV9GTEFTSCA9IG51bGw7XHJcbiAgICAgICAgaWYoRElTQ09VTlRfSUQpe1xyXG4gICAgICAgICAgICBTQUxFX0ZMQVNIID0gYXdhaXQgbW9kZWxzLkRpc2NvdW50LmZpbmRCeUlkKHtfaWQ6IERJU0NPVU5UX0lEfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgIHByb2R1Y3Q6IHJlc291cmNlLlByb2R1Y3QucHJvZHVjdF9saXN0KFByb2R1Y3QsVkFSSUVEQURFUyksXHJcbiAgICAgICAgICAgIHJlbGF0ZWRfcHJvZHVjdHM6IE9iamVjdFJlbGF0ZWRQcm9kdWN0cyxcclxuICAgICAgICAgICAgU0FMRV9GTEFTSDpTQUxFX0ZMQVNILFxyXG4gICAgICAgIH0pXHJcbiAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgbWVzc2FnZTpcIkVSUk9SXCJcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICB9IFxyXG4gICAgfSxcclxuXHJcbiAgICBwcm9maWxlX2NsaWVudDphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCB1c2VyX2lkID0gcmVxLmJvZHkudXNlcl9pZDtcclxuXHJcbiAgICAgICAgICAgIGxldCBPcmRlcnMgPSBhd2FpdCBtb2RlbHMuU2FsZS5maW5kKHt1c2VyOiB1c2VyX2lkfSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgc2FsZV9vcmRlcnMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIGZvciAoY29uc3Qgb3JkZXIgb2YgT3JkZXJzKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZGV0YWlsX29yZGVycyA9IGF3YWl0IG1vZGVscy5TYWxlRGV0YWlsLmZpbmQoe3NhbGU6IG9yZGVyLl9pZH0pLnBvcHVsYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBcInByb2R1Y3RcIixcclxuICAgICAgICAgICAgICAgICAgICBwb3B1bGF0ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBcImNhdGVnb3JpYVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH0pLnBvcHVsYXRlKFwidmFyaWVkYWRcIik7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2FsZV9hZGRyZXNzID0gYXdhaXQgbW9kZWxzLlNhbGVBZGRyZXNzLmZpbmQoe3NhbGU6IG9yZGVyLl9pZH0pO1xyXG4gICAgICAgICAgICAgICAgbGV0IGNvbGxlY3Rpb25fZGV0YWlsX29yZGVycyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBkZXRhaWxfb3JkZXIgb2YgZGV0YWlsX29yZGVycykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCByZXZpZXdTID0gYXdhaXQgbW9kZWxzLlJldmlldy5maW5kT25lKHtzYWxlX2RldGFpbDogZGV0YWlsX29yZGVyLl9pZH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25fZGV0YWlsX29yZGVycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2lkOiBkZXRhaWxfb3JkZXIuX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaWQ6IGRldGFpbF9vcmRlci5wcm9kdWN0Ll9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBkZXRhaWxfb3JkZXIucHJvZHVjdC50aXRsZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNrdTogZGV0YWlsX29yZGVyLnByb2R1Y3Quc2t1LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2x1ZzogZGV0YWlsX29yZGVyLnByb2R1Y3Quc2x1ZyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlbjogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMCcrJy9hcGkvcHJvZHVjdHMvdXBsb2Fkcy9wcm9kdWN0LycrZGV0YWlsX29yZGVyLnByb2R1Y3QucG9ydGFkYSwvLypcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpYTogZGV0YWlsX29yZGVyLnByb2R1Y3QuY2F0ZWdvcmlhLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2Vfc29sZXM6IGRldGFpbF9vcmRlci5wcm9kdWN0LnByaWNlX3NvbGVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2VfdXNkOiBkZXRhaWxfb3JkZXIucHJvZHVjdC5wcmljZV91c2QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVfZGlzY291bnQ6IGRldGFpbF9vcmRlci50eXBlX2Rpc2NvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudDogZGV0YWlsX29yZGVyLmRpc2NvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW50aWRhZDogZGV0YWlsX29yZGVyLmNhbnRpZGFkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXJpZWRhZDogZGV0YWlsX29yZGVyLnZhcmllZGFkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlX2N1cG9uOiBkZXRhaWxfb3JkZXIuY29kZV9jdXBvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZV9kaXNjb3VudDogZGV0YWlsX29yZGVyLmNvZGVfZGlzY291bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlX3VuaXRhcmlvOiBkZXRhaWxfb3JkZXIucHJpY2VfdW5pdGFyaW8sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRvdGFsOiBkZXRhaWxfb3JkZXIuc3VidG90YWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsOiBkZXRhaWxfb3JkZXIudG90YWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldmlldzogcmV2aWV3UyxcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc2FsZV9vcmRlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgc2FsZTogb3JkZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgc2FsZV9kZXRhaWxzOiBjb2xsZWN0aW9uX2RldGFpbF9vcmRlcnMsXHJcbiAgICAgICAgICAgICAgICAgICAgc2FsZV9hZGRyZXNzOiBzYWxlX2FkZHJlc3MsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgQUREUkVTU19DTElFTlQgPSBhd2FpdCBtb2RlbHMuQWRkcmVzc0NsaWVudC5maW5kKHt1c2VyOiB1c2VyX2lkfSkuc29ydCh7J2NyZWF0ZWRBdCc6IC0xfSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIHNhbGVfb3JkZXJzOiBzYWxlX29yZGVycyxcclxuICAgICAgICAgICAgICAgIGFkZHJlc3NfY2xpZW50OiBBRERSRVNTX0NMSUVOVCxcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9jdXJyaW8gdW4gZXJyb3JcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHVwZGF0ZV9jbGllbnQ6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZihyZXEuZmlsZXMpe1xyXG4gICAgICAgICAgICAgICAgdmFyIGltZ19wYXRoID0gcmVxLmZpbGVzLmF2YXRhci5wYXRoO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBpbWdfcGF0aC5zcGxpdCgnXFxcXCcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGF2YXRhcl9uYW1lID0gbmFtZVsyXTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGF2YXRhcl9uYW1lKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKHJlcS5ib2R5LnBhc3N3b3JkKXtcclxuICAgICAgICAgICAgICAgIHJlcS5ib2R5LnBhc3N3b3JkID0gYXdhaXQgYmNyeXB0Lmhhc2gocmVxLmJvZHkucGFzc3dvcmQsMTApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IHJlcS5ib2R5Ll9pZH0scmVxLmJvZHkpO1xyXG4gICAgICAgICAgICBsZXQgVXNlciA9IGF3YWl0IG1vZGVscy5Vc2VyLmZpbmRPbmUoe19pZDogcmVxLmJvZHkuX2lkfSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiU0UgR1VBUkRPIFNVIElORk9STUFDScOTTiBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgICAgICB1c2VyOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogVXNlci5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1Ym5hbWU6IFVzZXIuc3VibmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBlbWFpbDpVc2VyLmVtYWlsLFxyXG4gICAgICAgICAgICAgICAgICAgIF9pZDpVc2VyLl9pZCxcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk9jdXJyaW8gdW4gZXJyb3JcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsVUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsVUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsU0FBQSxH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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resources","_Categoria","_bcryptjs","obj","__esModule","default","_default","exports","list","req","res","TIME_NOW","query","console","log","Sliders","models","Slider","find","state","map","slider","resource","slider_list","Categorias","Categoria","categoria","categoria_list","BestProducts","Product","sort","ObjectBestProducts","VARIEDADES","Variedad","product","_id","REVIEWS","Review","AVG_REVIEW","length","Math","ceil","reduce","sum","item","cantidad","COUNT_REVIEW","push","product_list","OursProducts","ObjectOursProducts","FlashSale","Discount","findOne","type_campaign","start_date_num","$lte","end_date_num","$gte","ProductList","products","ObjecT","findById","status","json","sliders","categorias","best_products","our_products","campaign_products","error","send","message","show_landing_product","SLUG","params","slug","DISCOUNT_ID","RelatedProducts","ObjectRelatedProducts","SALE_FLASH","related_products","profile_client","user_id","body","Orders","Sale","user","sale_orders","order","detail_orders","SaleDetail","sale","populate","path","sale_address","SaleAddress","collection_detail_orders","detail_order","reviewS","sale_detail","title","sku","imagen","portada","price_soles","price_usd","type_discount","discount","variedad","code_cupon","code_discount","price_unitario","subtotal","total","review","sale_details","ADDRESS_CLIENT","AddressClient","address_client","update_client","files","img_path","avatar","name","split","avatar_name","password","bcrypt","hash","User","findByIdAndUpdate","subname","email"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\controllers\\","sources":["HomeController.js"],"sourcesContent":["import models from '../models'\r\nimport resource from '../resources';\r\nimport Categoria from '../resources/Categoria';\r\nimport bcrypt from 'bcryptjs'\r\n\r\nexport default{\r\n    list:async(req,res)=>{\r\n        try {\r\n            var TIME_NOW =  req.query.TIME_NOW;\r\n\r\n            console.log(TIME_NOW);\r\n            let Sliders = await models.Slider.find({state:1});\r\n            Sliders = Sliders.map((slider) => {\r\n                return resource.Slider.slider_list(slider);\r\n            })\r\n            let Categorias = await models.Categoria.find({state:1});\r\n\r\n            Categorias = Categorias.map((categoria) => {\r\n                return resource.Categoria.categoria_list(categoria);\r\n            })\r\n\r\n            \r\n            let BestProducts = await models.Product.find({state:2}).sort({\"createdAt\":-1});\r\n            var ObjectBestProducts = [];\r\n            for (const Product of BestProducts) {\r\n                let VARIEDADES = await models.Variedad.find({product: Product._id});\r\n                let REVIEWS = await models.Review.find({product: Product._id});\r\n                let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length) : 0;\r\n                let COUNT_REVIEW = REVIEWS.length;\r\n                ObjectBestProducts.push(resource.Product.product_list(Product,VARIEDADES,AVG_REVIEW,COUNT_REVIEW));\r\n            }\r\n           \r\n\r\n            let OursProducts = await models.Product.find({state:2}).sort({\"createdAt\":1});\r\n            var ObjectOursProducts = [];\r\n            for (const Product of OursProducts) {\r\n                let VARIEDADES = await models.Variedad.find({product: Product._id});\r\n                let REVIEWS = await models.Review.find({product: Product._id});\r\n                let AVG_REVIEW = REVIEWS.length > 0 ? Math.ceil(REVIEWS.reduce((sum,item) => sum + item.cantidad,0)/REVIEWS.length) : 0;\r\n                let COUNT_REVIEW = REVIEWS.length;\r\n                ObjectOursProducts.push(resource.Product.product_list(Product,VARIEDADES,AVG_REVIEW,COUNT_REVIEW));\r\n            }\r\n\r\n\r\n\r\n\r\n            let FlashSale = await models.Discount.findOne({\r\n                type_campaign: 2,\r\n                start_date_num:{$lte:TIME_NOW},//<=\r\n                end_date_num:{$gte:TIME_NOW},//>=\r\n            });\r\n            let ProductList = [];\r\n            if(FlashSale){\r\n                for (const product of FlashSale.products) {\r\n                    var ObjecT = await models.Product.findById({_id:product._id});\r\n                    let VARIEDADES = await models.Variedad.find({product: product._id});\r\n                    ProductList.push(resource.Product.product_list(ObjecT,VARIEDADES));\r\n                }\r\n            }\r\n         \r\n            console.log(FlashSale);\r\n            res.status(200).json({\r\n                sliders: Sliders,\r\n                categorias: Categorias,\r\n                best_products:ObjectBestProducts,\r\n                our_products:ObjectOursProducts,\r\n                FlashSale: FlashSale,\r\n\r\n                campaign_products: ProductList,\r\n\r\n                \r\n\r\n\r\n            });\r\n          \r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"ERROR\"\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    show_landing_product:async(req,res)=>{\r\n       try {\r\n        let SLUG = req.params.slug;\r\n        let DISCOUNT_ID = req.query._id;\r\n        console.log(DISCOUNT_ID);\r\n        let Product = await models.Product.findOne({slug: SLUG,state:2});\r\n        let  VARIEDADES = await models.Variedad.find({product:Product._id});\r\n        let RelatedProducts = await models.Product.find({categoria: Product.categoria,state:2});\r\n        var ObjectRelatedProducts = [];\r\n        for (const Product of RelatedProducts) {\r\n            let VARIEDADES = await models.Variedad.find({product: Product._id});\r\n            ObjectRelatedProducts.push(resource.Product.product_list(Product,VARIEDADES));\r\n        }\r\n        let SALE_FLASH = null;\r\n        if(DISCOUNT_ID){\r\n            SALE_FLASH = await models.Discount.findById({_id: DISCOUNT_ID});\r\n        }\r\n\r\n        res.status(200).json({\r\n            product: resource.Product.product_list(Product,VARIEDADES),\r\n            related_products: ObjectRelatedProducts,\r\n            SALE_FLASH:SALE_FLASH,\r\n        })\r\n       } catch (error) {\r\n        res.status(500).send({\r\n            message:\"ERROR\"\r\n        });\r\n        console.log(error);\r\n       } \r\n    },\r\n\r\n    profile_client:async(req,res) => {\r\n        try {\r\n            \r\n            let user_id = req.body.user_id;\r\n\r\n            let Orders = await models.Sale.find({user: user_id});\r\n\r\n            let sale_orders = [];\r\n\r\n            for (const order of Orders) {\r\n                let detail_orders = await models.SaleDetail.find({sale: order._id}).populate({\r\n                    path: \"product\",\r\n                    populate: {\r\n                        path: \"categoria\"\r\n                    },\r\n                }).populate(\"variedad\");\r\n                let sale_address = await models.SaleAddress.find({sale: order._id});\r\n                let collection_detail_orders = [];\r\n                for (const detail_order of detail_orders) {\r\n                    let reviewS = await models.Review.findOne({sale_detail: detail_order._id});\r\n                    collection_detail_orders.push({\r\n                        _id: detail_order._id,\r\n                        product: {\r\n                            _id: detail_order.product._id,\r\n                            title: detail_order.product.title,\r\n                            sku: detail_order.product.sku,\r\n                            slug: detail_order.product.slug,\r\n                            imagen: 'http://localhost:3000'+'/api/products/uploads/product/'+detail_order.product.portada,//*\r\n                            categoria: detail_order.product.categoria,\r\n                            price_soles: detail_order.product.price_soles,\r\n                            price_usd: detail_order.product.price_usd,\r\n                        },\r\n                        type_discount: detail_order.type_discount,\r\n                        discount: detail_order.discount,\r\n                        cantidad: detail_order.cantidad,\r\n                        variedad: detail_order.variedad,\r\n                        code_cupon: detail_order.code_cupon,\r\n                        code_discount: detail_order.code_discount,\r\n                        price_unitario: detail_order.price_unitario,\r\n                        subtotal: detail_order.subtotal,\r\n                        total: detail_order.total,\r\n                        review: reviewS,\r\n                    })\r\n                }\r\n                sale_orders.push({\r\n                    sale: order,\r\n                    sale_details: collection_detail_orders,\r\n                    sale_address: sale_address,\r\n                });\r\n            }\r\n            let ADDRESS_CLIENT = await models.AddressClient.find({user: user_id}).sort({'createdAt': -1});\r\n            res.status(200).json({\r\n                sale_orders: sale_orders,\r\n                address_client: ADDRESS_CLIENT,\r\n            })\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"Ocurrio un error\",\r\n            });\r\n        }\r\n    },\r\n    update_client: async(req,res) => {\r\n        try {\r\n            if(req.files){\r\n                var img_path = req.files.avatar.path;\r\n                var name = img_path.split('\\\\');\r\n                var avatar_name = name[2];\r\n                console.log(avatar_name)\r\n            }\r\n            if(req.body.password){\r\n                req.body.password = await bcrypt.hash(req.body.password,10);\r\n            }\r\n            await models.User.findByIdAndUpdate({_id: req.body._id},req.body);\r\n            let User = await models.User.findOne({_id: req.body._id});\r\n            res.status(200).json({\r\n                message: \"SE GUARDO SU INFORMACIÓN CORRECTAMENTE\",\r\n                user: {\r\n                    name: User.name,\r\n                    subname: User.subname,\r\n                    email:User.email,\r\n                    _id:User._id,\r\n                }\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"Ocurrio un error\",\r\n            });\r\n        }\r\n    },\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1718081890246},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\Cart.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CartController = _interopRequireDefault(require(\"../controllers/CartController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.get(\"/list\", _auth.default.verifyEcommerce, _CartController.default.list);\nrouter.post(\"/register\", _auth.default.verifyEcommerce, _CartController.default.register);\nrouter.put(\"/update\", _auth.default.verifyEcommerce, _CartController.default.update);\nrouter.delete(\"/delete/:id\", _auth.default.verifyEcommerce, _CartController.default.delete);\nrouter.post(\"/aplicar_cupon\", _auth.default.verifyEcommerce, _CartController.default.applyCupon);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DYXJ0Q29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwiZ2V0IiwiYXV0aCIsInZlcmlmeUVjb21tZXJjZSIsImNhcnRDb250cm9sbGVyIiwibGlzdCIsInBvc3QiLCJyZWdpc3RlciIsInB1dCIsInVwZGF0ZSIsImRlbGV0ZSIsImFwcGx5Q3Vwb24iLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbndvcmxcXEVzY3JpdG9yaW9cXFByb2dyYW1hY2nDs25cXEVjb21tZXJjZVNvbGl0ZWtcXGFwaV9lY29tbWVyY2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJDYXJ0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gJ2V4cHJlc3MtcHJvbWlzZS1yb3V0ZXInXHJcbmltcG9ydCBjYXJ0Q29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9DYXJ0Q29udHJvbGxlcidcclxuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCdcclxuXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxuXHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLGNhcnRDb250cm9sbGVyLmxpc3QpO1xyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLGNhcnRDb250cm9sbGVyLnJlZ2lzdGVyKTtcclxucm91dGVyLnB1dChcIi91cGRhdGVcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxjYXJ0Q29udHJvbGxlci51cGRhdGUpO1xyXG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZS86aWRcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxjYXJ0Q29udHJvbGxlci5kZWxldGUpO1xyXG5yb3V0ZXIucG9zdChcIi9hcGxpY2FyX2N1cG9uXCIsYXV0aC52ZXJpZnlFY29tbWVyY2UsY2FydENvbnRyb2xsZXIuYXBwbHlDdXBvbik7XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsZUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXRDLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFFeEJELE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLE9BQU8sRUFBQ0MsYUFBSSxDQUFDQyxlQUFlLEVBQUNDLHVCQUFjLENBQUNDLElBQUksQ0FBQztBQUM1RE4sTUFBTSxDQUFDTyxJQUFJLENBQUMsV0FBVyxFQUFDSixhQUFJLENBQUNDLGVBQWUsRUFBQ0MsdUJBQWMsQ0FBQ0csUUFBUSxDQUFDO0FBQ3JFUixNQUFNLENBQUNTLEdBQUcsQ0FBQyxTQUFTLEVBQUNOLGFBQUksQ0FBQ0MsZUFBZSxFQUFDQyx1QkFBYyxDQUFDSyxNQUFNLENBQUM7QUFDaEVWLE1BQU0sQ0FBQ1csTUFBTSxDQUFDLGFBQWEsRUFBQ1IsYUFBSSxDQUFDQyxlQUFlLEVBQUNDLHVCQUFjLENBQUNNLE1BQU0sQ0FBQztBQUN2RVgsTUFBTSxDQUFDTyxJQUFJLENBQUMsZ0JBQWdCLEVBQUNKLGFBQUksQ0FBQ0MsZUFBZSxFQUFDQyx1QkFBYyxDQUFDTyxVQUFVLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWYsT0FBQSxHQUU5REMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CartController","_auth","obj","__esModule","default","router","routerx","get","auth","verifyEcommerce","cartController","list","post","register","put","update","delete","applyCupon","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\router\\","sources":["Cart.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport cartController from '../controllers/CartController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n\r\nrouter.get(\"/list\",auth.verifyEcommerce,cartController.list);\r\nrouter.post(\"/register\",auth.verifyEcommerce,cartController.register);\r\nrouter.put(\"/update\",auth.verifyEcommerce,cartController.update);\r\nrouter.delete(\"/delete/:id\",auth.verifyEcommerce,cartController.delete);\r\nrouter.post(\"/aplicar_cupon\",auth.verifyEcommerce,cartController.applyCupon);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,GAAG,CAAC,OAAO,EAACC,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACC,IAAI,CAAC;AAC5DN,MAAM,CAACO,IAAI,CAAC,WAAW,EAACJ,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACG,QAAQ,CAAC;AACrER,MAAM,CAACS,GAAG,CAAC,SAAS,EAACN,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACK,MAAM,CAAC;AAChEV,MAAM,CAACW,MAAM,CAAC,aAAa,EAACR,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACM,MAAM,CAAC;AACvEX,MAAM,CAACO,IAAI,CAAC,gBAAgB,EAACJ,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACO,UAAU,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAf,OAAA,GAE9DC,MAAM","ignoreList":[]}},"mtime":1718155295388},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\CartController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  list: async (req, res) => {\n    try {\n      let user_id = req.query.user_id;\n      let CARTS = await _models.default.Cart.find({\n        user: user_id\n      }).populate(\"variedad\").populate({\n        path: \"product\",\n        populate: {\n          path: \"categoria\"\n        }\n      });\n      CARTS = CARTS.map(cart => {\n        return _resources.default.Cart.cart_list(cart);\n      });\n      res.status(200).json({\n        carts: CARTS\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      //PRIMERO VAMOS A VALIDAR SI EL PRODUCTO EXISTE EN EL CARRITO DE COMPRA\n      if (data.variedad) {\n        let valid_cart = await _models.default.Cart.findOne({\n          user: data.user,\n          variedad: data.variedad,\n          product: data.product\n        });\n        if (valid_cart) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL PRODUCTO CON LA VARIEDAD YA EXISTE EN EL CARRITO DE COMPRA\"\n          });\n          return;\n        }\n      } else {\n        let valid_cart = await _models.default.Cart.findOne({\n          user: data.user,\n          product: data.product\n        });\n        if (valid_cart) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL PRODUCTO YA EXISTE EN EL CARRITO DE COMPRA\"\n          });\n          return;\n        }\n      }\n\n      //SEGUNDO VAMOS A VALIDAR SI EL STOCK ESTA DISPONIBLE\n\n      if (data.variedad) {\n        let valid_variedad = await _models.default.Variedad.findOne({\n          _id: data.variedad\n        });\n        if (valid_variedad.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL STOCK NO ESTA DISPONIBLE\"\n          });\n          return;\n        }\n      } else {\n        let valid_product = await _models.default.Product.findOne({\n          _id: data.product\n        });\n        if (valid_product.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL STOCK NO ESTA DISPONIBLE\"\n          });\n          return;\n        }\n      }\n      let CART = await _models.default.Cart.create(data);\n      let NEW_CART = await _models.default.Cart.findById({\n        _id: CART._id\n      }).populate(\"variedad\").populate({\n        path: \"product\",\n        populate: {\n          path: \"categoria\"\n        }\n      });\n      res.status(200).json({\n        cart: _resources.default.Cart.cart_list(NEW_CART),\n        message_text: \"EL CARRITO SE REGISTRO CON EXITO\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n\n      //SEGUNDO VAMOS A VALIDAR SI EL STOCK ESTA DISPONIBLE\n\n      if (data.variedad) {\n        let valid_variedad = await _models.default.Variedad.findOne({\n          _id: data.variedad\n        });\n        if (valid_variedad.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL STOCK NO ESTA DISPONIBLE\"\n          });\n          return;\n        }\n      } else {\n        let valid_product = await _models.default.Product.findOne({\n          _id: data.product\n        });\n        if (valid_product.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL STOCK NO ESTA DISPONIBLE\"\n          });\n          return;\n        }\n      }\n      let CART = await _models.default.Cart.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let NEW_CART = await _models.default.Cart.findById({\n        _id: CART._id\n      }).populate(\"variedad\").populate({\n        path: \"product\",\n        populate: {\n          path: \"categoria\"\n        }\n      });\n      res.status(200).json({\n        cart: _resources.default.Cart.cart_list(NEW_CART),\n        message_text: \"EL CARRITO SE ACTUALIZO CON EXITO\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.params.id;\n      let CART = await _models.default.Cart.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message_text: \"EL CARRITO SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  applyCupon: async (req, res) => {\n    try {\n      let data = req.body;\n      // LA PRIMERA VALIDACIÓN TIENE QUE VER CON LA EXISTENCIA DEL CUPON\n      let CUPON = await _models.default.Cupone.findOne({\n        code: data.code\n      });\n      if (!CUPON) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL CUPON INGRESADO NO EXISTE, DIGITE OTRO NUEVAMENTE\"\n        });\n        return;\n      }\n      // TIENE CON EL USO DEL CUPON -- ESPERA \n\n      //la parte operativa\n\n      let carts = await _models.default.Cart.find({\n        user: data.user_id\n      }).populate(\"product\");\n      console.log(carts);\n      let products = [];\n      let categorias = [];\n      CUPON.products.forEach(product => {\n        products.push(product._id);\n      });\n      //[837373.838383]\n      //[{_id: 837373},{_id: 838383}].includes\n      CUPON.categorias.forEach(categoria => {\n        categorias.push(categoria._id);\n      });\n      console.log(products);\n      console.log(categorias);\n      for (const cart of carts) {\n        if (products.length > 0) {\n          if (products.includes(cart.product._id + \"\")) {\n            let subtotal = 0;\n            let total = 0;\n            if (CUPON.type_discount == 1) {\n              //PORCENTAJE\n              subtotal = cart.price_unitario - cart.price_unitario * (CUPON.discount * 0.01);\n            } else {\n              //POR MONEDA\n              subtotal = cart.price_unitario - CUPON.discount;\n            }\n            total = subtotal * cart.cantidad;\n            await _models.default.Cart.findByIdAndUpdate({\n              _id: cart._id\n            }, {\n              subtotal: subtotal,\n              total: total,\n              type_discount: CUPON.type_discount,\n              discount: CUPON.discount,\n              code_cupon: CUPON.code\n            });\n          }\n        }\n        if (categorias.length > 0) {\n          if (categorias.includes(cart.product.categoria + \"\")) {\n            let subtotal = 0;\n            let total = 0;\n            if (CUPON.type_discount == 1) {\n              //PORCENTAJE\n              subtotal = cart.price_unitario - cart.price_unitario * (CUPON.discount * 0.01);\n            } else {\n              //POR MONEDA\n              subtotal = cart.price_unitario - CUPON.discount;\n            }\n            total = subtotal * cart.cantidad;\n            await _models.default.Cart.findByIdAndUpdate({\n              _id: cart._id\n            }, {\n              subtotal: subtotal,\n              total: total,\n              type_discount: CUPON.type_discount,\n              discount: CUPON.discount,\n              code_cupon: CUPON.code\n            });\n          }\n        }\n      }\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL CUPON SE APLICADO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3VyY2VzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJsaXN0IiwicmVxIiwicmVzIiwidXNlcl9pZCIsInF1ZXJ5IiwiQ0FSVFMiLCJtb2RlbHMiLCJDYXJ0IiwiZmluZCIsInVzZXIiLCJwb3B1bGF0ZSIsInBhdGgiLCJtYXAiLCJjYXJ0IiwicmVzb3VyY2UiLCJjYXJ0X2xpc3QiLCJzdGF0dXMiLCJqc29uIiwiY2FydHMiLCJlcnJvciIsInNlbmQiLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyIsInJlZ2lzdGVyIiwiZGF0YSIsImJvZHkiLCJ2YXJpZWRhZCIsInZhbGlkX2NhcnQiLCJmaW5kT25lIiwicHJvZHVjdCIsIm1lc3NhZ2VfdGV4dCIsInZhbGlkX3ZhcmllZGFkIiwiVmFyaWVkYWQiLCJfaWQiLCJzdG9jayIsImNhbnRpZGFkIiwidmFsaWRfcHJvZHVjdCIsIlByb2R1Y3QiLCJDQVJUIiwiY3JlYXRlIiwiTkVXX0NBUlQiLCJmaW5kQnlJZCIsInVwZGF0ZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiZGVsZXRlIiwicGFyYW1zIiwiaWQiLCJmaW5kQnlJZEFuZERlbGV0ZSIsImFwcGx5Q3Vwb24iLCJDVVBPTiIsIkN1cG9uZSIsImNvZGUiLCJwcm9kdWN0cyIsImNhdGVnb3JpYXMiLCJmb3JFYWNoIiwicHVzaCIsImNhdGVnb3JpYSIsImxlbmd0aCIsImluY2x1ZGVzIiwic3VidG90YWwiLCJ0b3RhbCIsInR5cGVfZGlzY291bnQiLCJwcmljZV91bml0YXJpbyIsImRpc2NvdW50IiwiY29kZV9jdXBvbiJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxud29ybFxcRXNjcml0b3Jpb1xcUHJvZ3JhbWFjacOzblxcRWNvbW1lcmNlU29saXRla1xcYXBpX2Vjb21tZXJjZVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiQ2FydENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnXHJcbmltcG9ydCByZXNvdXJjZSBmcm9tICcuLi9yZXNvdXJjZXMnXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIGxpc3Q6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCB1c2VyX2lkID0gcmVxLnF1ZXJ5LnVzZXJfaWQ7XHJcbiAgICAgICAgICAgIGxldCBDQVJUUyA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmQoe1xyXG4gICAgICAgICAgICAgICAgdXNlcjogdXNlcl9pZCxcclxuICAgICAgICAgICAgfSkucG9wdWxhdGUoXCJ2YXJpZWRhZFwiKS5wb3B1bGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBwYXRoOiBcInByb2R1Y3RcIixcclxuICAgICAgICAgICAgICAgIHBvcHVsYXRlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogXCJjYXRlZ29yaWFcIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBDQVJUUyA9IENBUlRTLm1hcCgoY2FydCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlLkNhcnQuY2FydF9saXN0KGNhcnQpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIGNhcnRzOiBDQVJUUyxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOlwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICByZWdpc3Rlcjphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuICAgICAgICAgICAgLy9QUklNRVJPIFZBTU9TIEEgVkFMSURBUiBTSSBFTCBQUk9EVUNUTyBFWElTVEUgRU4gRUwgQ0FSUklUTyBERSBDT01QUkFcclxuICAgICAgICAgICAgaWYoZGF0YS52YXJpZWRhZCl7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsaWRfY2FydCA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXI6IGRhdGEudXNlcixcclxuICAgICAgICAgICAgICAgICAgICB2YXJpZWRhZDogZGF0YS52YXJpZWRhZCxcclxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiBkYXRhLnByb2R1Y3QsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGlmKHZhbGlkX2NhcnQpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogNDAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgUFJPRFVDVE8gQ09OIExBIFZBUklFREFEIFlBIEVYSVNURSBFTiBFTCBDQVJSSVRPIERFIENPTVBSQVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIGxldCB2YWxpZF9jYXJ0ID0gYXdhaXQgbW9kZWxzLkNhcnQuZmluZE9uZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcjogZGF0YS51c2VyLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6IGRhdGEucHJvZHVjdCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYodmFsaWRfY2FydCl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiA0MDMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBQUk9EVUNUTyBZQSBFWElTVEUgRU4gRUwgQ0FSUklUTyBERSBDT01QUkFcIixcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9TRUdVTkRPIFZBTU9TIEEgVkFMSURBUiBTSSBFTCBTVE9DSyBFU1RBIERJU1BPTklCTEVcclxuXHJcbiAgICAgICAgICAgIGlmKGRhdGEudmFyaWVkYWQpe1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbGlkX3ZhcmllZGFkID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIF9pZDogZGF0YS52YXJpZWRhZCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYodmFsaWRfdmFyaWVkYWQuc3RvY2sgPCBkYXRhLmNhbnRpZGFkKXtcclxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDQwMyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIFNUT0NLIE5PIEVTVEEgRElTUE9OSUJMRVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbGlkX3Byb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kT25lKHtcclxuICAgICAgICAgICAgICAgICAgICBfaWQ6IGRhdGEucHJvZHVjdCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYodmFsaWRfcHJvZHVjdC5zdG9jayA8IGRhdGEuY2FudGlkYWQpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogNDAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgU1RPQ0sgTk8gRVNUQSBESVNQT05JQkxFXCJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IENBUlQgPSBhd2FpdCBtb2RlbHMuQ2FydC5jcmVhdGUoZGF0YSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgTkVXX0NBUlQgPSBhd2FpdCBtb2RlbHMuQ2FydC5maW5kQnlJZCh7X2lkOiBDQVJULl9pZH0pLnBvcHVsYXRlKFwidmFyaWVkYWRcIikucG9wdWxhdGUoe1xyXG4gICAgICAgICAgICAgICAgcGF0aDogXCJwcm9kdWN0XCIsXHJcbiAgICAgICAgICAgICAgICBwb3B1bGF0ZToge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IFwiY2F0ZWdvcmlhXCJcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBjYXJ0OiByZXNvdXJjZS5DYXJ0LmNhcnRfbGlzdChORVdfQ0FSVCksXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgQ0FSUklUTyBTRSBSRUdJU1RSTyBDT04gRVhJVE9cIixcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOlwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB1cGRhdGU6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XHJcblxyXG4gICAgICAgICAgICAvL1NFR1VORE8gVkFNT1MgQSBWQUxJREFSIFNJIEVMIFNUT0NLIEVTVEEgRElTUE9OSUJMRVxyXG5cclxuICAgICAgICAgICAgaWYoZGF0YS52YXJpZWRhZCl7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsaWRfdmFyaWVkYWQgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZE9uZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgX2lkOiBkYXRhLnZhcmllZGFkLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZih2YWxpZF92YXJpZWRhZC5zdG9jayA8IGRhdGEuY2FudGlkYWQpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogNDAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgU1RPQ0sgTk8gRVNUQSBESVNQT05JQkxFXCJcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsaWRfcHJvZHVjdCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIF9pZDogZGF0YS5wcm9kdWN0LFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZih2YWxpZF9wcm9kdWN0LnN0b2NrIDwgZGF0YS5jYW50aWRhZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiA0MDMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBTVE9DSyBOTyBFU1RBIERJU1BPTklCTEVcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgQ0FSVCA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IGRhdGEuX2lkfSxkYXRhKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBORVdfQ0FSVCA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkKHtfaWQ6IENBUlQuX2lkfSkucG9wdWxhdGUoXCJ2YXJpZWRhZFwiKS5wb3B1bGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBwYXRoOiBcInByb2R1Y3RcIixcclxuICAgICAgICAgICAgICAgIHBvcHVsYXRlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogXCJjYXRlZ29yaWFcIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIGNhcnQ6IHJlc291cmNlLkNhcnQuY2FydF9saXN0KE5FV19DQVJUKSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBDQVJSSVRPIFNFIEFDVFVBTElaTyBDT04gRVhJVE9cIixcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOlwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBkZWxldGU6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBfaWQgPSByZXEucGFyYW1zLmlkO1xyXG4gICAgICAgICAgICBsZXQgQ0FSVCA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IF9pZH0pO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIENBUlJJVE8gU0UgRUxJTUlOTyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6XCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGFwcGx5Q3Vwb246YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XHJcbiAgICAgICAgICAgIC8vIExBIFBSSU1FUkEgVkFMSURBQ0nDk04gVElFTkUgUVVFIFZFUiBDT04gTEEgRVhJU1RFTkNJQSBERUwgQ1VQT05cclxuICAgICAgICAgICAgbGV0IENVUE9OID0gYXdhaXQgbW9kZWxzLkN1cG9uZS5maW5kT25lKHtcclxuICAgICAgICAgICAgICAgIGNvZGU6IGRhdGEuY29kZSxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgaWYoIUNVUE9OKXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiA0MDMsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIENVUE9OIElOR1JFU0FETyBOTyBFWElTVEUsIERJR0lURSBPVFJPIE5VRVZBTUVOVEVcIlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gVElFTkUgQ09OIEVMIFVTTyBERUwgQ1VQT04gLS0gRVNQRVJBIFxyXG5cclxuICAgICAgICAgICAgLy9sYSBwYXJ0ZSBvcGVyYXRpdmFcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBjYXJ0cyA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmQoe3VzZXI6IGRhdGEudXNlcl9pZH0pLnBvcHVsYXRlKFwicHJvZHVjdFwiKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coY2FydHMpO1xyXG4gICAgICAgICAgICBsZXQgcHJvZHVjdHMgPSBbXTtcclxuICAgICAgICAgICAgbGV0IGNhdGVnb3JpYXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIENVUE9OLnByb2R1Y3RzLmZvckVhY2goKHByb2R1Y3QpID0+IHtcclxuICAgICAgICAgICAgICAgIHByb2R1Y3RzLnB1c2gocHJvZHVjdC5faWQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy9bODM3MzczLjgzODM4M11cclxuICAgICAgICAgICAgLy9be19pZDogODM3MzczfSx7X2lkOiA4MzgzODN9XS5pbmNsdWRlc1xyXG4gICAgICAgICAgICBDVVBPTi5jYXRlZ29yaWFzLmZvckVhY2goKGNhdGVnb3JpYSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2F0ZWdvcmlhcy5wdXNoKGNhdGVnb3JpYS5faWQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocHJvZHVjdHMpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjYXRlZ29yaWFzKTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBjYXJ0IG9mIGNhcnRzKSB7XHJcbiAgICAgICAgICAgICAgICBpZihwcm9kdWN0cy5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihwcm9kdWN0cy5pbmNsdWRlcyhjYXJ0LnByb2R1Y3QuX2lkK1wiXCIpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN1YnRvdGFsID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRvdGFsID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoQ1VQT04udHlwZV9kaXNjb3VudCA9PSAxKXsvL1BPUkNFTlRBSkVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRvdGFsID0gY2FydC5wcmljZV91bml0YXJpbyAtIGNhcnQucHJpY2VfdW5pdGFyaW8qKENVUE9OLmRpc2NvdW50KjAuMDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsvL1BPUiBNT05FREFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRvdGFsID0gY2FydC5wcmljZV91bml0YXJpbyAtIENVUE9OLmRpc2NvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsID0gc3VidG90YWwgKiBjYXJ0LmNhbnRpZGFkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgbW9kZWxzLkNhcnQuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogY2FydC5faWR9LHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRvdGFsOiBzdWJ0b3RhbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsOiB0b3RhbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVfZGlzY291bnQ6IENVUE9OLnR5cGVfZGlzY291bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudDogQ1VQT04uZGlzY291bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlX2N1cG9uOiBDVVBPTi5jb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZihjYXRlZ29yaWFzLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGNhdGVnb3JpYXMuaW5jbHVkZXMoY2FydC5wcm9kdWN0LmNhdGVnb3JpYStcIlwiKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdWJ0b3RhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0b3RhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKENVUE9OLnR5cGVfZGlzY291bnQgPT0gMSl7Ly9QT1JDRU5UQUpFXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0b3RhbCA9IGNhcnQucHJpY2VfdW5pdGFyaW8gLSBjYXJ0LnByaWNlX3VuaXRhcmlvKihDVVBPTi5kaXNjb3VudCowLjAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7Ly9QT1IgTU9ORURBXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0b3RhbCA9IGNhcnQucHJpY2VfdW5pdGFyaW8gLSBDVVBPTi5kaXNjb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbCA9IHN1YnRvdGFsICogY2FydC5jYW50aWRhZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IGNhcnQuX2lkfSx7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0b3RhbDogc3VidG90YWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbDogdG90YWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlX2Rpc2NvdW50OiBDVVBPTi50eXBlX2Rpc2NvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzY291bnQ6IENVUE9OLmRpc2NvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZV9jdXBvbjogQ1VQT04uY29kZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgQ1VQT04gU0UgQVBMSUNBRE8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOlwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOyBcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBbUMsU0FBQUQsdUJBQUFHLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUNwQjtFQUNYRyxJQUFJLEVBQUMsTUFBQUEsQ0FBTUMsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDbkIsSUFBSTtNQUNBLElBQUlDLE9BQU8sR0FBR0YsR0FBRyxDQUFDRyxLQUFLLENBQUNELE9BQU87TUFDL0IsSUFBSUUsS0FBSyxHQUFHLE1BQU1DLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDQyxJQUFJLENBQUM7UUFDL0JDLElBQUksRUFBRU47TUFDVixDQUFDLENBQUMsQ0FBQ08sUUFBUSxDQUFDLFVBQVUsQ0FBQyxDQUFDQSxRQUFRLENBQUM7UUFDN0JDLElBQUksRUFBRSxTQUFTO1FBQ2ZELFFBQVEsRUFBRTtVQUNOQyxJQUFJLEVBQUU7UUFDVjtNQUNKLENBQUMsQ0FBQztNQUVGTixLQUFLLEdBQUdBLEtBQUssQ0FBQ08sR0FBRyxDQUFFQyxJQUFJLElBQUs7UUFDeEIsT0FBT0Msa0JBQVEsQ0FBQ1AsSUFBSSxDQUFDUSxTQUFTLENBQUNGLElBQUksQ0FBQztNQUN4QyxDQUFDLENBQUM7TUFFRlgsR0FBRyxDQUFDYyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsS0FBSyxFQUFFYjtNQUNYLENBQUMsQ0FBQztJQUNOLENBQUMsQ0FB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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resources","obj","__esModule","default","_default","exports","list","req","res","user_id","query","CARTS","models","Cart","find","user","populate","path","map","cart","resource","cart_list","status","json","carts","error","send","message","console","log","register","data","body","variedad","valid_cart","findOne","product","message_text","valid_variedad","Variedad","_id","stock","cantidad","valid_product","Product","CART","create","NEW_CART","findById","update","findByIdAndUpdate","delete","params","id","findByIdAndDelete","applyCupon","CUPON","Cupone","code","products","categorias","forEach","push","categoria","length","includes","subtotal","total","type_discount","price_unitario","discount","code_cupon"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\controllers\\","sources":["CartController.js"],"sourcesContent":["import models from '../models'\r\nimport resource from '../resources'\r\nexport default {\r\n    list:async(req,res) => {\r\n        try {\r\n            let user_id = req.query.user_id;\r\n            let CARTS = await models.Cart.find({\r\n                user: user_id,\r\n            }).populate(\"variedad\").populate({\r\n                path: \"product\",\r\n                populate: {\r\n                    path: \"categoria\"\r\n                },\r\n            });\r\n\r\n            CARTS = CARTS.map((cart) => {\r\n                return resource.Cart.cart_list(cart);\r\n            });\r\n\r\n            res.status(200).json({\r\n                carts: CARTS,\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    register:async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            //PRIMERO VAMOS A VALIDAR SI EL PRODUCTO EXISTE EN EL CARRITO DE COMPRA\r\n            if(data.variedad){\r\n                let valid_cart = await models.Cart.findOne({\r\n                    user: data.user,\r\n                    variedad: data.variedad,\r\n                    product: data.product,\r\n                });\r\n                if(valid_cart){\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL PRODUCTO CON LA VARIEDAD YA EXISTE EN EL CARRITO DE COMPRA\",\r\n                    })\r\n                    return;\r\n                }\r\n            }else{\r\n                let valid_cart = await models.Cart.findOne({\r\n                    user: data.user,\r\n                    product: data.product,\r\n                });\r\n                if(valid_cart){\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL PRODUCTO YA EXISTE EN EL CARRITO DE COMPRA\",\r\n                    })\r\n                    return;\r\n                }\r\n            }\r\n\r\n            //SEGUNDO VAMOS A VALIDAR SI EL STOCK ESTA DISPONIBLE\r\n\r\n            if(data.variedad){\r\n                let valid_variedad = await models.Variedad.findOne({\r\n                    _id: data.variedad,\r\n                });\r\n                if(valid_variedad.stock < data.cantidad){\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL STOCK NO ESTA DISPONIBLE\"\r\n                    })\r\n                    return;\r\n                }\r\n            }else{\r\n                let valid_product = await models.Product.findOne({\r\n                    _id: data.product,\r\n                });\r\n                if(valid_product.stock < data.cantidad){\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL STOCK NO ESTA DISPONIBLE\"\r\n                    });\r\n                    return;\r\n                }\r\n            }\r\n            let CART = await models.Cart.create(data);\r\n            \r\n            let NEW_CART = await models.Cart.findById({_id: CART._id}).populate(\"variedad\").populate({\r\n                path: \"product\",\r\n                populate: {\r\n                    path: \"categoria\"\r\n                },\r\n            });\r\n            res.status(200).json({\r\n                cart: resource.Cart.cart_list(NEW_CART),\r\n                message_text: \"EL CARRITO SE REGISTRO CON EXITO\",\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    update:async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n\r\n            //SEGUNDO VAMOS A VALIDAR SI EL STOCK ESTA DISPONIBLE\r\n\r\n            if(data.variedad){\r\n                let valid_variedad = await models.Variedad.findOne({\r\n                    _id: data.variedad,\r\n                });\r\n                if(valid_variedad.stock < data.cantidad){\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL STOCK NO ESTA DISPONIBLE\"\r\n                    })\r\n                    return;\r\n                }\r\n            }else{\r\n                let valid_product = await models.Product.findOne({\r\n                    _id: data.product,\r\n                });\r\n                if(valid_product.stock < data.cantidad){\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL STOCK NO ESTA DISPONIBLE\"\r\n                    });\r\n                    return;\r\n                }\r\n            }\r\n            let CART = await models.Cart.findByIdAndUpdate({_id: data._id},data);\r\n            \r\n            let NEW_CART = await models.Cart.findById({_id: CART._id}).populate(\"variedad\").populate({\r\n                path: \"product\",\r\n                populate: {\r\n                    path: \"categoria\"\r\n                },\r\n            });\r\n            res.status(200).json({\r\n                cart: resource.Cart.cart_list(NEW_CART),\r\n                message_text: \"EL CARRITO SE ACTUALIZO CON EXITO\",\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    delete:async(req,res) => {\r\n        try {\r\n            let _id = req.params.id;\r\n            let CART = await models.Cart.findByIdAndDelete({_id: _id});\r\n\r\n            res.status(200).json({\r\n                message_text: \"EL CARRITO SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    applyCupon:async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            // LA PRIMERA VALIDACIÓN TIENE QUE VER CON LA EXISTENCIA DEL CUPON\r\n            let CUPON = await models.Cupone.findOne({\r\n                code: data.code,\r\n            })\r\n            if(!CUPON){\r\n                res.status(200).json({\r\n                    message: 403,\r\n                    message_text: \"EL CUPON INGRESADO NO EXISTE, DIGITE OTRO NUEVAMENTE\"\r\n                });\r\n                return;\r\n            }\r\n            // TIENE CON EL USO DEL CUPON -- ESPERA \r\n\r\n            //la parte operativa\r\n            \r\n            let carts = await models.Cart.find({user: data.user_id}).populate(\"product\");\r\n            console.log(carts);\r\n            let products = [];\r\n            let categorias = [];\r\n\r\n            CUPON.products.forEach((product) => {\r\n                products.push(product._id);\r\n            });\r\n            //[837373.838383]\r\n            //[{_id: 837373},{_id: 838383}].includes\r\n            CUPON.categorias.forEach((categoria) => {\r\n                categorias.push(categoria._id);\r\n            });\r\n            console.log(products);\r\n            console.log(categorias);\r\n            for (const cart of carts) {\r\n                if(products.length > 0){\r\n                    if(products.includes(cart.product._id+\"\")){\r\n                        let subtotal = 0;\r\n                        let total = 0;\r\n                        if(CUPON.type_discount == 1){//PORCENTAJE\r\n                            subtotal = cart.price_unitario - cart.price_unitario*(CUPON.discount*0.01);\r\n                        }else{//POR MONEDA\r\n                            subtotal = cart.price_unitario - CUPON.discount;\r\n                        }\r\n                        total = subtotal * cart.cantidad;\r\n\r\n                        await models.Cart.findByIdAndUpdate({_id: cart._id},{\r\n                            subtotal: subtotal,\r\n                            total: total,\r\n                            type_discount: CUPON.type_discount,\r\n                            discount: CUPON.discount,\r\n                            code_cupon: CUPON.code,\r\n                        });\r\n                    }\r\n                }\r\n                if(categorias.length > 0){\r\n                    if(categorias.includes(cart.product.categoria+\"\")){\r\n                        let subtotal = 0;\r\n                        let total = 0;\r\n                        if(CUPON.type_discount == 1){//PORCENTAJE\r\n                            subtotal = cart.price_unitario - cart.price_unitario*(CUPON.discount*0.01);\r\n                        }else{//POR MONEDA\r\n                            subtotal = cart.price_unitario - CUPON.discount;\r\n                        }\r\n                        total = subtotal * cart.cantidad;\r\n\r\n                        await models.Cart.findByIdAndUpdate({_id: cart._id},{\r\n                            subtotal: subtotal,\r\n                            total: total,\r\n                            type_discount: CUPON.type_discount,\r\n                            discount: CUPON.discount,\r\n                            code_cupon: CUPON.code,\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL CUPON SE APLICADO CORRECTAMENTE\",\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error); \r\n        }\r\n    },\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1718154570329},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\AddressClient.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _AddressClientController = _interopRequireDefault(require(\"../controllers/AddressClientController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", _auth.default.verifyEcommerce, _AddressClientController.default.register);\nrouter.put(\"/update\", _auth.default.verifyEcommerce, _AddressClientController.default.update);\nrouter.get(\"/list\", _auth.default.verifyEcommerce, _AddressClientController.default.list);\nrouter.delete(\"/delete/:id\", _auth.default.verifyEcommerce, _AddressClientController.default.remove);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9BZGRyZXNzQ2xpZW50Q29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlFY29tbWVyY2UiLCJBZGRyZXNzQ2xpZW50Q29udHJvbGxlciIsInJlZ2lzdGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImRlbGV0ZSIsInJlbW92ZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxud29ybFxcRXNjcml0b3Jpb1xcUHJvZ3JhbWFjacOzblxcRWNvbW1lcmNlU29saXRla1xcYXBpX2Vjb21tZXJjZVxccm91dGVyXFwiLCJzb3VyY2VzIjpbIkFkZHJlc3NDbGllbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcclxuaW1wb3J0IEFkZHJlc3NDbGllbnRDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL0FkZHJlc3NDbGllbnRDb250cm9sbGVyJ1xyXG5pbXBvcnQgYXV0aCBmcm9tICcuLi9taWRkbGV3YXJlcy9hdXRoJ1xyXG5cclxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xyXG4vLyBodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3VzZXJzL3JlZ2lzdGVyXHJcblxyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLEFkZHJlc3NDbGllbnRDb250cm9sbGVyLnJlZ2lzdGVyKTtcclxucm91dGVyLnB1dChcIi91cGRhdGVcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxBZGRyZXNzQ2xpZW50Q29udHJvbGxlci51cGRhdGUpO1xyXG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxBZGRyZXNzQ2xpZW50Q29udHJvbGxlci5saXN0KTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGUvOmlkXCIsYXV0aC52ZXJpZnlFY29tbWVyY2UsQWRkcmVzc0NsaWVudENvbnRyb2xsZXIucmVtb3ZlKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyx3QkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXRDLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFDeEI7O0FBRUFELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBQ0MsYUFBSSxDQUFDQyxlQUFlLEVBQUNDLGdDQUF1QixDQUFDQyxRQUFRLENBQUM7QUFDOUVOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLFNBQVMsRUFBQ0osYUFBSSxDQUFDQyxlQUFlLEVBQUNDLGdDQUF1QixDQUFDRyxNQUFNLENBQUM7QUFDekVSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBQ04sYUFBSSxDQUFDQyxlQUFlLEVBQUNDLGdDQUF1QixDQUFDSyxJQUFJLENBQUM7QUFDckVWLE1BQU0sQ0FBQ1csTUFBTSxDQUFDLGFBQWEsRUFBQ1IsYUFBSSxDQUFDQyxlQUFlLEVBQUNDLGdDQUF1QixDQUFDTyxNQUFNLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWYsT0FBQSxHQUVsRUMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_AddressClientController","_auth","obj","__esModule","default","router","routerx","post","auth","verifyEcommerce","AddressClientController","register","put","update","get","list","delete","remove","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\router\\","sources":["AddressClient.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport AddressClientController from '../controllers/AddressClientController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n// http://localhost:3000/api/users/register\r\n\r\nrouter.post(\"/register\",auth.verifyEcommerce,AddressClientController.register);\r\nrouter.put(\"/update\",auth.verifyEcommerce,AddressClientController.update);\r\nrouter.get(\"/list\",auth.verifyEcommerce,AddressClientController.list);\r\nrouter.delete(\"/delete/:id\",auth.verifyEcommerce,AddressClientController.remove);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,wBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,eAAe,EAACC,gCAAuB,CAACC,QAAQ,CAAC;AAC9EN,MAAM,CAACO,GAAG,CAAC,SAAS,EAACJ,aAAI,CAACC,eAAe,EAACC,gCAAuB,CAACG,MAAM,CAAC;AACzER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,eAAe,EAACC,gCAAuB,CAACK,IAAI,CAAC;AACrEV,MAAM,CAACW,MAAM,CAAC,aAAa,EAACR,aAAI,CAACC,eAAe,EAACC,gCAAuB,CAACO,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAf,OAAA,GAElEC,MAAM","ignoreList":[]}},"mtime":1718154919461},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\AddressClientController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      const address_client = await _models.default.AddressClient.create(req.body);\n      res.status(200).json({\n        message: \"LA DIRECCIÓN DEL CLIENTE SE REGISTRO CORRECTAMENTE\",\n        address_client: address_client\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"HUBO UN ERROR\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      await _models.default.AddressClient.findByIdAndUpdate({\n        _id: req.body._id\n      }, data);\n      let AddressClient = await _models.default.AddressClient.findById({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"LA DIRECCIÓN DEL CLIENTE SE EDITO CORRECTAMENTE\",\n        address_client: AddressClient\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"HUBO UN ERROR\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      let ADDRESS_CLIENT = await _models.default.AddressClient.find({\n        user: req.query.user_id\n      }).sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        address_client: ADDRESS_CLIENT\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"HUBO UN ERROR\"\n      });\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.AddressClient.findByIdAndDelete({\n        _id: req.params._id\n      });\n      res.status(200).json({\n        message: \"LA DIRECCIÓN DEL CLIENTE SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"HUBO UN ERROR\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiYWRkcmVzc19jbGllbnQiLCJtb2RlbHMiLCJBZGRyZXNzQ2xpZW50IiwiY3JlYXRlIiwiYm9keSIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwic2VuZCIsInVwZGF0ZSIsImRhdGEiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIl9pZCIsImZpbmRCeUlkIiwibGlzdCIsIkFERFJFU1NfQ0xJRU5UIiwiZmluZCIsInVzZXIiLCJxdWVyeSIsInVzZXJfaWQiLCJzb3J0IiwicmVtb3ZlIiwiZmluZEJ5SWRBbmREZWxldGUiLCJwYXJhbXMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbndvcmxcXEVzY3JpdG9yaW9cXFByb2dyYW1hY2nDs25cXEVjb21tZXJjZVNvbGl0ZWtcXGFwaV9lY29tbWVyY2VcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIkFkZHJlc3NDbGllbnRDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbHMgZnJvbSBcIi4uL21vZGVsc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcmVnaXN0ZXI6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFkZHJlc3NfY2xpZW50ID0gYXdhaXQgbW9kZWxzLkFkZHJlc3NDbGllbnQuY3JlYXRlKHJlcS5ib2R5KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJMQSBESVJFQ0NJw5NOIERFTCBDTElFTlRFIFNFIFJFR0lTVFJPIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgICAgIGFkZHJlc3NfY2xpZW50OiBhZGRyZXNzX2NsaWVudCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkhVQk8gVU4gRVJST1JcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHVwZGF0ZTphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLkFkZHJlc3NDbGllbnQuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogcmVxLmJvZHkuX2lkfSxkYXRhKTtcclxuICAgICAgICAgICAgbGV0IEFkZHJlc3NDbGllbnQgPSBhd2FpdCBtb2RlbHMuQWRkcmVzc0NsaWVudC5maW5kQnlJZCh7X2lkOiByZXEuYm9keS5faWR9KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJMQSBESVJFQ0NJw5NOIERFTCBDTElFTlRFIFNFIEVESVRPIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgICAgIGFkZHJlc3NfY2xpZW50OiBBZGRyZXNzQ2xpZW50LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiSFVCTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbGlzdDphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IEFERFJFU1NfQ0xJRU5UID0gYXdhaXQgbW9kZWxzLkFkZHJlc3NDbGllbnQuZmluZCh7dXNlcjogcmVxLnF1ZXJ5LnVzZXJfaWR9KS5zb3J0KHsnY3JlYXRlZEF0JzogLTF9KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgYWRkcmVzc19jbGllbnQ6IEFERFJFU1NfQ0xJRU5UXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJIVUJPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICByZW1vdmU6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5BZGRyZXNzQ2xpZW50LmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IHJlcS5wYXJhbXMuX2lkfSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTEEgRElSRUNDScOTTiBERUwgQ0xJRU5URSBTRSBFTElNSU5PIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkhVQk8gVU4gRVJST1JcIixcclxuICAg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","map":{"version":3,"names":["_models","_interopRequireDefault","require","obj","__esModule","default","_default","exports","register","req","res","address_client","models","AddressClient","create","body","status","json","message","error","console","log","send","update","data","findByIdAndUpdate","_id","findById","list","ADDRESS_CLIENT","find","user","query","user_id","sort","remove","findByIdAndDelete","params"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\controllers\\","sources":["AddressClientController.js"],"sourcesContent":["import models from \"../models\";\r\n\r\nexport default {\r\n    register:async(req,res) => {\r\n        try {\r\n            const address_client = await models.AddressClient.create(req.body);\r\n            res.status(200).json({\r\n                message: \"LA DIRECCIÓN DEL CLIENTE SE REGISTRO CORRECTAMENTE\",\r\n                address_client: address_client,\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"HUBO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    update:async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            await models.AddressClient.findByIdAndUpdate({_id: req.body._id},data);\r\n            let AddressClient = await models.AddressClient.findById({_id: req.body._id});\r\n            res.status(200).json({\r\n                message: \"LA DIRECCIÓN DEL CLIENTE SE EDITO CORRECTAMENTE\",\r\n                address_client: AddressClient,\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"HUBO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    list:async(req,res) => {\r\n        try {\r\n            let ADDRESS_CLIENT = await models.AddressClient.find({user: req.query.user_id}).sort({'createdAt': -1});\r\n            res.status(200).json({\r\n                address_client: ADDRESS_CLIENT\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"HUBO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    remove:async(req,res) => {\r\n        try {\r\n            await models.AddressClient.findByIdAndDelete({_id: req.params._id});\r\n            res.status(200).json({\r\n                message: \"LA DIRECCIÓN DEL CLIENTE SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"HUBO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1718030132335},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\Sale.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _SaleController = _interopRequireDefault(require(\"../controllers/SaleController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", _auth.default.verifyEcommerce, _SaleController.default.register);\n//router.get(\"/send_email/:id\",SaleController.send_email);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9TYWxlQ29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlFY29tbWVyY2UiLCJTYWxlQ29udHJvbGxlciIsInJlZ2lzdGVyIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsiU2FsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tICdleHByZXNzLXByb21pc2Utcm91dGVyJ1xyXG5pbXBvcnQgU2FsZUNvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvU2FsZUNvbnRyb2xsZXInXHJcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXHJcblxyXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XHJcbi8vIGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlcnMvcmVnaXN0ZXJcclxuXHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsYXV0aC52ZXJpZnlFY29tbWVyY2UsU2FsZUNvbnRyb2xsZXIucmVnaXN0ZXIpO1xyXG4gLy9yb3V0ZXIuZ2V0KFwiL3NlbmRfZW1haWwvOmlkXCIsU2FsZUNvbnRyb2xsZXIuc2VuZF9lbWFpbCk7XHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcclxuXHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLGVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFzQyxTQUFBRCx1QkFBQUksR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUV0QyxNQUFNRyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDO0FBQ3hCOztBQUVBRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUNDLGFBQUksQ0FBQ0MsZUFBZSxFQUFDQyx1QkFBYyxDQUFDQyxRQUFRLENBQUM7QUFDcEU7QUFBQSxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQVQsT0FBQSxHQUNjQyxNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_SaleController","_auth","obj","__esModule","default","router","routerx","post","auth","verifyEcommerce","SaleController","register","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\router\\","sources":["Sale.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport SaleController from '../controllers/SaleController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n// http://localhost:3000/api/users/register\r\n\r\nrouter.post(\"/register\",auth.verifyEcommerce,SaleController.register);\r\n //router.get(\"/send_email/:id\",SaleController.send_email);\r\nexport default router;\r\n\r\n"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACC,QAAQ,CAAC;AACpE;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAT,OAAA,GACcC,MAAM","ignoreList":[]}},"mtime":1718155298056},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\SaleController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _handlebars = _interopRequireDefault(require(\"handlebars\"));\nvar _ejs = _interopRequireDefault(require(\"ejs\"));\nvar _nodemailer = _interopRequireDefault(require(\"nodemailer\"));\nvar _nodemailerSmtpTransport = _interopRequireDefault(require(\"nodemailer-smtp-transport\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// async function send_email(sale_id) {\n//     try {\n//         var readHTMLFile = function(path, callback) {\n//             fs.readFile(path, {encoding: 'utf-8'}, function (err, html) {\n//                 if (err) {\n//                     throw err;\n//                     callback(err);\n//                 }\n//                 else {\n//                     callback(null, html);\n//                 }\n//             });\n//         };  \n\n//         let Order = await models.Sale.findById({_id: sale_id}).populate(\"user\");\n//         let OrderDetail = await models.SaleDetail.find({sale: Order._id}).populate(\"product\").populate(\"variedad\");\n//         let AddressSale = await models.SaleAddress.findOne({sale: Order._id});\n//         var transporter = nodemailer.createTransport(smtpTransport({\n//             service: 'gmail',\n//             host: 'smtp.gmail.com',\n//             auth: {\n//             user: 'echodeveloper960@gmail.com',\n//                 pass: 'bilcfvchcrscbseu'\n//             }\n//         }));\n\n//         readHTMLFile(process.cwd() + '/mails/email_sale.html', (err, html)=>{\n\n//             OrderDetail.map((detail) => {\n//                 detail.product.imgs = process.env.URL_BACKEND+'/api/products/uploads/product/'+detail.product.portada;\n//                 return detail;\n//             });\n\n//             let rest_html = ejs.render(html, {order: Order,address_sale: AddressSale,order_detail: OrderDetail});\n\n//             var template = handlebars.compile(rest_html);\n//             var htmlToSend = template({op:true});\n\n//             var mailOptions = {\n//                 from: 'echodeveloper960@gmail.com',\n//                 to: Order.user.email,\n//                 subject: 'Finaliza tu compra ' + Order._id,\n//                 html: htmlToSend\n//             };\n\n//             transporter.sendMail(mailOptions, function(error, info){\n//                 if (!error) {\n//                     console.log('Email sent: ' + info.response);\n//                 }\n//             });\n\n//         });\n\n//         // res.status(200).json({\n//         //     message: \"EL CORREO SE ENVIO CORRECTAMENTE\",\n//         // });\n//     } catch (error) {\n//         console.log(error);\n//         // res.status(500).send({\n//         //     menssage:\"OCURRIO UN ERROR\",\n//         // });\n//     }\n// }\n\nasync function send_email(sale_id) {\n  try {\n    var readHTMLFile = function (path, callback) {\n      _fs.default.readFile(path, {\n        encoding: 'utf-8'\n      }, function (err, html) {\n        if (err) {\n          throw err;\n          callback(err);\n        } else {\n          callback(null, html);\n        }\n      });\n    };\n    let Order = await _models.default.Sale.findById({\n      _id: sale_id\n    }).populate(\"user\");\n    let OrderDetail = await _models.default.SaleDetail.find({\n      sale: Order._id\n    }).populate(\"product\").populate(\"variedad\");\n    let AddressSale = await _models.default.SaleAddress.findOne({\n      sale: Order._id\n    });\n    var transporter = _nodemailer.default.createTransport((0, _nodemailerSmtpTransport.default)({\n      service: 'gmail',\n      host: 'smtp.gmail.com',\n      auth: {\n        user: 'suetyumbo@gmail.com',\n        //encargado de enviar correos\n        pass: 'hgxxhaoomxyxxtix'\n      }\n    }));\n    readHTMLFile(process.cwd() + '/mails/email_sale.html', (err, html) => {\n      let rest_html = _ejs.default.render(html, {\n        order: Order,\n        address_sale: AddressSale,\n        order_detail: OrderDetail\n      });\n      var template = _handlebars.default.compile(rest_html);\n      var htmlToSend = template({\n        op: true\n      });\n      var mailOptions = {\n        from: 'suetyumbo@gmail.com',\n        to: Order.user.email,\n        subject: 'Finaliza tu compra ' + Order._id,\n        html: htmlToSend\n      };\n      transporter.sendMail(mailOptions, function (error, info) {\n        if (!error) {\n          console.log('Email sent: ' + info.response);\n        }\n      });\n    });\n    // res.status(200).json({\n    //     message: \"El correo se envio correctamente\",\n    // })\n  } catch (error) {\n    console.log(error);\n    // res.status(500).send({\n    //     menssage: 'Ocurrio un problema',\n    // });\n  }\n}\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let sale_data = req.body.sale;\n      let sale_address_data = req.body.sale_address;\n      let SALE = await _models.default.Sale.create(sale_data);\n      sale_address_data.sale = SALE._id;\n      let SALE_ADDRESS = await _models.default.SaleAddress.create(sale_address_data);\n      let CARTS = await _models.default.Cart.find({\n        user: SALE.user\n      });\n      for (let CART of CARTS) {\n        CART = CART.toObject();\n        CART.sale = SALE._id;\n        //EL DESCUENTO DE INVENTARIO\n        if (CART.variedad) {\n          //MULTIPLE INVENTARIO\n          let VARIEDAD = await _models.default.Variedad.findById({\n            _id: CART.variedad\n          });\n          let new_stock = VARIEDAD.stock - CART.cantidad;\n          await _models.default.Variedad.findByIdAndUpdate({\n            _id: CART.variedad\n          }, {\n            stock: new_stock\n          });\n        } else {\n          //UNITARIO INVENTARIO\n          let PRODUCT = await _models.default.Product.findById({\n            _id: CART.product\n          });\n          let new_stock = PRODUCT.stock - CART.cantidad;\n          await _models.default.Product.findByIdAndUpdate({\n            _id: CART.product\n          }, {\n            stock: new_stock\n          });\n        }\n        // \n        await _models.default.SaleDetail.create(CART);\n        await _models.default.Cart.findByIdAndDelete({\n          _id: CART._id\n        });\n      }\n      await send_email(SALE._id);\n      res.status(200).json({\n        message: \"LA ORDEN DE GENERO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"HUBO UN ERROR\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfZnMiLCJfaGFuZGxlYmFycyIsIl9lanMiLCJfbm9kZW1haWxlciIsIl9ub2RlbWFpbGVyU210cFRyYW5zcG9ydCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwic2VuZF9lbWFpbCIsInNhbGVfaWQiLCJyZWFkSFRNTEZpbGUiLCJwYXRoIiwiY2FsbGJhY2siLCJmcyIsInJlYWRGaWxlIiwiZW5jb2RpbmciLCJlcnIiLCJodG1sIiwiT3JkZXIiLCJtb2RlbHMiLCJTYWxlIiwiZmluZEJ5SWQiLCJfaWQiLCJwb3B1bGF0ZSIsIk9yZGVyRGV0YWlsIiwiU2FsZURldGFpbCIsImZpbmQiLCJzYWxlIiwiQWRkcmVzc1NhbGUiLCJTYWxlQWRkcmVzcyIsImZpbmRPbmUiLCJ0cmFuc3BvcnRlciIsIm5vZGVtYWlsZXIiLCJjcmVhdGVUcmFuc3BvcnQiLCJzbXRwVHJhbnNwb3J0Iiwic2VydmljZSIsImhvc3QiLCJhdXRoIiwidXNlciIsInBhc3MiLCJwcm9jZXNzIiwiY3dkIiwicmVzdF9odG1sIiwiZWpzIiwicmVuZGVyIiwib3JkZXIiLCJhZGRyZXNzX3NhbGUiLCJvcmRlcl9kZXRhaWwiLCJ0ZW1wbGF0ZSIsImhhbmRsZWJhcnMiLCJjb21waWxlIiwiaHRtbFRvU2VuZCIsIm9wIiwibWFpbE9wdGlvbnMiLCJmcm9tIiwidG8iLCJlbWFpbCIsInN1YmplY3QiLCJzZW5kTWFpbCIsImVycm9yIiwiaW5mbyIsImNvbnNvbGUiLCJsb2ciLCJyZXNwb25zZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwic2FsZV9kYXRhIiwiYm9keSIsInNhbGVfYWRkcmVzc19kYXRhIiwic2FsZV9hZGRyZXNzIiwiU0FMRSIsImNyZWF0ZSIsIlNBTEVfQUREUkVTUyIsIkNBUlRTIiwiQ2FydCIsIkNBUlQiLCJ0b09iamVjdCIsInZhcmllZGFkIiwiVkFSSUVEQUQiLCJWYXJpZWRhZCIsIm5ld19zdG9jayIsInN0b2NrIiwiY2FudGlkYWQiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIlBST0RVQ1QiLCJQcm9kdWN0IiwicHJvZHVjdCIsImZpbmRCeUlkQW5kRGVsZXRlIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJzZW5kIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJTYWxlQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gJy4uL21vZGVscyc7XHJcblxyXG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xyXG5pbXBvcnQgaGFuZGxlYmFycyBmcm9tICdoYW5kbGViYXJzJztcclxuaW1wb3J0IGVqcyBmcm9tICdlanMnO1xyXG5pbXBvcnQgbm9kZW1haWxlciBmcm9tICdub2RlbWFpbGVyJztcclxuaW1wb3J0IHNtdHBUcmFuc3BvcnQgZnJvbSAnbm9kZW1haWxlci1zbXRwLXRyYW5zcG9ydCc7XHJcblxyXG4vLyBhc3luYyBmdW5jdGlvbiBzZW5kX2VtYWlsKHNhbGVfaWQpIHtcclxuLy8gICAgIHRyeSB7XHJcbi8vICAgICAgICAgdmFyIHJlYWRIVE1MRmlsZSA9IGZ1bmN0aW9uKHBhdGgsIGNhbGxiYWNrKSB7XHJcbi8vICAgICAgICAgICAgIGZzLnJlYWRGaWxlKHBhdGgsIHtlbmNvZGluZzogJ3V0Zi04J30sIGZ1bmN0aW9uIChlcnIsIGh0bWwpIHtcclxuLy8gICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIGh0bWwpO1xyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9KTtcclxuLy8gICAgICAgICB9OyAgXHJcbiAgICAgICAgXHJcbi8vICAgICAgICAgbGV0IE9yZGVyID0gYXdhaXQgbW9kZWxzLlNhbGUuZmluZEJ5SWQoe19pZDogc2FsZV9pZH0pLnBvcHVsYXRlKFwidXNlclwiKTtcclxuLy8gICAgICAgICBsZXQgT3JkZXJEZXRhaWwgPSBhd2FpdCBtb2RlbHMuU2FsZURldGFpbC5maW5kKHtzYWxlOiBPcmRlci5faWR9KS5wb3B1bGF0ZShcInByb2R1Y3RcIikucG9wdWxhdGUoXCJ2YXJpZWRhZFwiKTtcclxuLy8gICAgICAgICBsZXQgQWRkcmVzc1NhbGUgPSBhd2FpdCBtb2RlbHMuU2FsZUFkZHJlc3MuZmluZE9uZSh7c2FsZTogT3JkZXIuX2lkfSk7XHJcbi8vICAgICAgICAgdmFyIHRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoc210cFRyYW5zcG9ydCh7XHJcbi8vICAgICAgICAgICAgIHNlcnZpY2U6ICdnbWFpbCcsXHJcbi8vICAgICAgICAgICAgIGhvc3Q6ICdzbXRwLmdtYWlsLmNvbScsXHJcbi8vICAgICAgICAgICAgIGF1dGg6IHtcclxuLy8gICAgICAgICAgICAgdXNlcjogJ2VjaG9kZXZlbG9wZXI5NjBAZ21haWwuY29tJyxcclxuLy8gICAgICAgICAgICAgICAgIHBhc3M6ICdiaWxjZnZjaGNyc2Nic2V1J1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfSkpO1xyXG5cclxuLy8gICAgICAgICByZWFkSFRNTEZpbGUocHJvY2Vzcy5jd2QoKSArICcvbWFpbHMvZW1haWxfc2FsZS5odG1sJywgKGVyciwgaHRtbCk9PntcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLyAgICAgICAgICAgICBPcmRlckRldGFpbC5tYXAoKGRldGFpbCkgPT4ge1xyXG4vLyAgICAgICAgICAgICAgICAgZGV0YWlsLnByb2R1Y3QuaW1ncyA9IHByb2Nlc3MuZW52LlVSTF9CQUNLRU5EKycvYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC8nK2RldGFpbC5wcm9kdWN0LnBvcnRhZGE7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gZGV0YWlsO1xyXG4vLyAgICAgICAgICAgICB9KTtcclxuXHJcbi8vICAgICAgICAgICAgIGxldCByZXN0X2h0bWwgPSBlanMucmVuZGVyKGh0bWwsIHtvcmRlcjogT3JkZXIsYWRkcmVzc19zYWxlOiBBZGRyZXNzU2FsZSxvcmRlcl9kZXRhaWw6IE9yZGVyRGV0YWlsfSk7XHJcbiAgICBcclxuLy8gICAgICAgICAgICAgdmFyIHRlbXBsYXRlID0gaGFuZGxlYmFycy5jb21waWxlKHJlc3RfaHRtbCk7XHJcbi8vICAgICAgICAgICAgIHZhciBodG1sVG9TZW5kID0gdGVtcGxhdGUoe29wOnRydWV9KTtcclxuICAgIFxyXG4vLyAgICAgICAgICAgICB2YXIgbWFpbE9wdGlvbnMgPSB7XHJcbi8vICAgICAgICAgICAgICAgICBmcm9tOiAnZWNob2RldmVsb3Blcjk2MEBnbWFpbC5jb20nLFxyXG4vLyAgICAgICAgICAgICAgICAgdG86IE9yZGVyLnVzZXIuZW1haWwsXHJcbi8vICAgICAgICAgICAgICAgICBzdWJqZWN0OiAnRmluYWxpemEgdHUgY29tcHJhICcgKyBPcmRlci5faWQsXHJcbi8vICAgICAgICAgICAgICAgICBodG1sOiBodG1sVG9TZW5kXHJcbi8vICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICBcclxuLy8gICAgICAgICAgICAgdHJhbnNwb3J0ZXIuc2VuZE1haWwobWFpbE9wdGlvbnMsIGZ1bmN0aW9uKGVycm9yLCBpbmZvKXtcclxuLy8gICAgICAgICAgICAgICAgIGlmICghZXJyb3IpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRW1haWwgc2VudDogJyArIGluZm8ucmVzcG9uc2UpO1xyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9KTtcclxuICAgICAgICBcclxuLy8gICAgICAgICB9KTtcclxuICAgICAgICBcclxuLy8gICAgICAgICAvLyByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbi8vICAgICAgICAgLy8gICAgIG1lc3NhZ2U6IFwiRUwgQ09SUkVPIFNFIEVOVklPIENPUlJFQ1RBTUVOVEVcIixcclxuLy8gICAgICAgICAvLyB9KTtcclxuLy8gICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbi8vICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4vLyAgICAgICAgIC8vIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuLy8gICAgICAgICAvLyAgICAgbWVuc3NhZ2U6XCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbi8vICAgICAgICAgLy8gfSk7XHJcbi8vICAgICB9XHJcbi8vIH1cclxuXHJcbmFzeW5jICBmdW5jdGlvbiBzZW5kX2VtYWlsKHNhbGVfaWQpe1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB2YXIgcmVhZEhUTUxGaWxlID0gZnVuY3Rpb24ocGF0aCwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgZnMucmVhZEZpbGUocGF0aCwge2VuY29kaW5nOiAndXRmLTgnfSwgZnVuY3Rpb24gKGVyciwgaHRtbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgaHRtbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGxldCBPcmRlciA9IGF3YWl0IG1vZGVscy5TYWxlLmZpbmRCeUlkKHtfaWQ6IHNhbGVfaWR9KS5wb3B1bGF0ZShcInVzZXJcIik7XHJcbiAgICAgICAgbGV0IE9yZGVyRGV0YWlsID0gYXdhaXQgbW9kZWxzLlNhbGVEZXRhaWwuZmluZCh7c2FsZTogT3JkZXIuX2lkfSkucG9wdWxhdGUoXCJwcm9kdWN0XCIpLnBvcHVsYXRlKFwidmFyaWVkYWRcIik7XHJcbiAgICAgICAgbGV0IEFkZHJlc3NTYWxlID0gYXdhaXQgbW9kZWxzLlNhbGVBZGRyZXNzLmZpbmRPbmUoe3NhbGU6IE9yZGVyLl9pZH0pO1xyXG5cclxuICAgICAgICB2YXIgdHJhbnNwb3J0ZXIgPSBub2RlbWFpbGVyLmNyZWF0ZVRyYW5zcG9ydChzbXRwVHJhbnNwb3J0KHtcclxuICAgICAgICAgICAgc2VydmljZTogJ2dtYWlsJyxcclxuICAgICAgICAgICAgaG9zdDogJ3NtdHAuZ21haWwuY29tJyxcclxuICAgICAgICAgICAgYXV0aDoge1xyXG4gICAgICAgICAgICB1c2VyOiAnc3VldHl1bWJvQGdtYWlsLmNvbScsLy9lbmNhcmdhZG8gZGUgZW52aWFyIGNvcnJlb3NcclxuICAgICAgICAgICAgcGFzczogJ2hneHhoYW9vbXh5eHh0aXgnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgcmVhZEhUTUxGaWxlKHByb2Nlc3MuY3dkKCkgKyAnL21haWxzL2VtYWlsX3NhbGUuaHRtbCcsIChlcnIsIGh0bWwpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCByZXN0X2h0bWwgPSBlanMucmVuZGVyKGh0bWwsIHtvcmRlcjogT3JkZXIsYWRkcmVzc19zYWxlOkFkZHJlc3NTYWxlLG9yZGVyX2RldGFpbDpPcmRlckRldGFpbH0pO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9IGhhbmRsZWJhcnMuY29tcGlsZShyZXN0X2h0bWwpO1xyXG4gICAgICAgICAgICB2YXIgaHRtbFRvU2VuZCA9IHRlbXBsYXRlKHtvcDp0cnVlfSk7XHJcbiAgICBcclxuICAgICAgICAgICAgdmFyIG1haWxPcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgZnJvbTogJ3N1ZXR5dW1ib0BnbWFpbC5jb20nLFxyXG4gICAgICAgICAgICAgICAgdG86IE9yZGVyLnVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgICAgICBzdWJqZWN0OiAnRmluYWxpemEgdHUgY29tcHJhICcgKyBPcmRlci5faWQsXHJcbiAgICAgICAgICAgICAgICBodG1sOiBodG1sVG9TZW5kXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICBcclxuICAgICAgICAgICAgdHJhbnNwb3J0ZXIuc2VuZE1haWwobWFpbE9wdGlvbnMsIGZ1bmN0aW9uKGVycm9yLCBpbmZvKXtcclxuICAgICAgICAgICAgICAgIGlmICghZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRW1haWwgc2VudDogJyArIGluZm8ucmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgLy8gICAgIG1lc3NhZ2U6IFwiRWwgY29ycmVvIHNlIGVudmlvIGNvcnJlY3RhbWVudGVcIixcclxuICAgICAgICAvLyB9KVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIC8vIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAvLyAgICAgbWVuc3NhZ2U6ICdPY3VycmlvIHVuIHByb2JsZW1hJyxcclxuICAgICAgICAvLyB9KTtcclxuICAgIH1cclxuICAgXHJcblxyXG5cclxuXHJcbn1cclxuXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgc2FsZV9kYXRhID0gcmVxLmJvZHkuc2FsZTtcclxuICAgICAgICAgICAgbGV0IHNhbGVfYWRkcmVzc19kYXRhID0gcmVxLmJvZHkuc2FsZV9hZGRyZXNzO1xyXG5cclxuICAgICAgICAgICAgbGV0IFNBTEUgPSBhd2FpdCBtb2RlbHMuU2FsZS5jcmVhdGUoc2FsZV9kYXRhKTtcclxuXHJcbiAgICAgICAgICAgIHNhbGVfYWRkcmVzc19kYXRhLnNhbGUgPSBTQUxFLl9pZDtcclxuXHJcbiAgICAgICAgICAgIGxldCBTQUxFX0FERFJFU1MgPSBhd2FpdCBtb2RlbHMuU2FsZUFkZHJlc3MuY3JlYXRlKHNhbGVfYWRkcmVzc19kYXRhKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBDQVJUUyA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmQoe3VzZXI6IFNBTEUudXNlcn0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZm9yIChsZXQgQ0FSVCBvZiBDQVJUUykge1xyXG4gICAgICAgICAgICAgICAgQ0FSVCA9IENBUlQudG9PYmplY3QoKTtcclxuICAgICAgICAgICAgICAgIENBUlQuc2FsZSA9IFNBTEUuX2lkO1xyXG4gICAgICAgICAgICAgICAgLy9FTCBERVNDVUVOVE8gREUgSU5WRU5UQVJJT1xyXG4gICAgICAgICAgICAgICAgaWYoQ0FSVC52YXJpZWRhZCl7Ly9NVUxUSVBMRSBJTlZFTlRBUklPXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IFZBUklFREFEID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkKHtfaWQ6IENBUlQudmFyaWVkYWR9KTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbmV3X3N0b2NrID0gVkFSSUVEQUQuc3RvY2sgLSBDQVJULmNhbnRpZGFkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogQ0FSVC52YXJpZWRhZH0se1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9jazogbmV3X3N0b2NrLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9ZWxzZXsvL1VOSVRBUklPIElOVkVOVEFSSU9cclxuICAgICAgICAgICAgICAgICAgICBsZXQgUFJPRFVDVCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkKHtfaWQ6IENBUlQucHJvZHVjdH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdfc3RvY2sgPSBQUk9EVUNULnN0b2NrIC0gQ0FSVC5jYW50aWRhZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogQ0FSVC5wcm9kdWN0fSx7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b2NrOm5ld19zdG9jayxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlNhbGVEZXRhaWwuY3JlYXRlKENBUlQpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgbW9kZWxzLkNhcnQuZmluZEJ5SWRBbmREZWxldGUoe19pZDogQ0FSVC5faWR9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYXdhaXQgc2VuZF9lbWFpbChTQUxFLl9pZCk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkxBIE9SREVOIERFIEdFTkVSTyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkhVQk8gVU4gRVJST1JcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBQUMsR0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsV0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsSUFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksV0FBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUssd0JBQUEsR0FBQU4sc0JBQUEsQ0FBQUMsT0FBQTtBQUFzRCxTQUFBRCx1QkFBQU8sR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUV0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZUFBZ0JHLFVBQVVBLENBQUNDLE9BQU8sRUFBQztFQUMvQixJQUFJO0lBQ0EsSUFBSUMsWUFBWSxHQUFHLFNBQUFBLENBQVNDLElBQUksRUFBRUMsUUFBUSxFQUFFO01BQ3hDQyxXQUFFLENBQUNDLFFBQVEsQ0FBQ0gsSUFBSSxF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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_fs","_handlebars","_ejs","_nodemailer","_nodemailerSmtpTransport","obj","__esModule","default","send_email","sale_id","readHTMLFile","path","callback","fs","readFile","encoding","err","html","Order","models","Sale","findById","_id","populate","OrderDetail","SaleDetail","find","sale","AddressSale","SaleAddress","findOne","transporter","nodemailer","createTransport","smtpTransport","service","host","auth","user","pass","process","cwd","rest_html","ejs","render","order","address_sale","order_detail","template","handlebars","compile","htmlToSend","op","mailOptions","from","to","email","subject","sendMail","error","info","console","log","response","_default","exports","register","req","res","sale_data","body","sale_address_data","sale_address","SALE","create","SALE_ADDRESS","CARTS","Cart","CART","toObject","variedad","VARIEDAD","Variedad","new_stock","stock","cantidad","findByIdAndUpdate","PRODUCT","Product","product","findByIdAndDelete","status","json","message","send"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\controllers\\","sources":["SaleController.js"],"sourcesContent":["import models from '../models';\r\n\r\nimport fs from 'fs';\r\nimport handlebars from 'handlebars';\r\nimport ejs from 'ejs';\r\nimport nodemailer from 'nodemailer';\r\nimport smtpTransport from 'nodemailer-smtp-transport';\r\n\r\n// async function send_email(sale_id) {\r\n//     try {\r\n//         var readHTMLFile = function(path, callback) {\r\n//             fs.readFile(path, {encoding: 'utf-8'}, function (err, html) {\r\n//                 if (err) {\r\n//                     throw err;\r\n//                     callback(err);\r\n//                 }\r\n//                 else {\r\n//                     callback(null, html);\r\n//                 }\r\n//             });\r\n//         };  \r\n        \r\n//         let Order = await models.Sale.findById({_id: sale_id}).populate(\"user\");\r\n//         let OrderDetail = await models.SaleDetail.find({sale: Order._id}).populate(\"product\").populate(\"variedad\");\r\n//         let AddressSale = await models.SaleAddress.findOne({sale: Order._id});\r\n//         var transporter = nodemailer.createTransport(smtpTransport({\r\n//             service: 'gmail',\r\n//             host: 'smtp.gmail.com',\r\n//             auth: {\r\n//             user: 'echodeveloper960@gmail.com',\r\n//                 pass: 'bilcfvchcrscbseu'\r\n//             }\r\n//         }));\r\n\r\n//         readHTMLFile(process.cwd() + '/mails/email_sale.html', (err, html)=>{\r\n                            \r\n//             OrderDetail.map((detail) => {\r\n//                 detail.product.imgs = process.env.URL_BACKEND+'/api/products/uploads/product/'+detail.product.portada;\r\n//                 return detail;\r\n//             });\r\n\r\n//             let rest_html = ejs.render(html, {order: Order,address_sale: AddressSale,order_detail: OrderDetail});\r\n    \r\n//             var template = handlebars.compile(rest_html);\r\n//             var htmlToSend = template({op:true});\r\n    \r\n//             var mailOptions = {\r\n//                 from: 'echodeveloper960@gmail.com',\r\n//                 to: Order.user.email,\r\n//                 subject: 'Finaliza tu compra ' + Order._id,\r\n//                 html: htmlToSend\r\n//             };\r\n          \r\n//             transporter.sendMail(mailOptions, function(error, info){\r\n//                 if (!error) {\r\n//                     console.log('Email sent: ' + info.response);\r\n//                 }\r\n//             });\r\n        \r\n//         });\r\n        \r\n//         // res.status(200).json({\r\n//         //     message: \"EL CORREO SE ENVIO CORRECTAMENTE\",\r\n//         // });\r\n//     } catch (error) {\r\n//         console.log(error);\r\n//         // res.status(500).send({\r\n//         //     menssage:\"OCURRIO UN ERROR\",\r\n//         // });\r\n//     }\r\n// }\r\n\r\nasync  function send_email(sale_id){\r\n    try {\r\n        var readHTMLFile = function(path, callback) {\r\n            fs.readFile(path, {encoding: 'utf-8'}, function (err, html) {\r\n                if (err) {\r\n                    throw err;\r\n                    callback(err);\r\n                }\r\n                else {\r\n                    callback(null, html);\r\n                }\r\n            });\r\n        };\r\n\r\n        let Order = await models.Sale.findById({_id: sale_id}).populate(\"user\");\r\n        let OrderDetail = await models.SaleDetail.find({sale: Order._id}).populate(\"product\").populate(\"variedad\");\r\n        let AddressSale = await models.SaleAddress.findOne({sale: Order._id});\r\n\r\n        var transporter = nodemailer.createTransport(smtpTransport({\r\n            service: 'gmail',\r\n            host: 'smtp.gmail.com',\r\n            auth: {\r\n            user: 'suetyumbo@gmail.com',//encargado de enviar correos\r\n            pass: 'hgxxhaoomxyxxtix'\r\n            }\r\n        }));\r\n        readHTMLFile(process.cwd() + '/mails/email_sale.html', (err, html)=>{\r\n                                \r\n            let rest_html = ejs.render(html, {order: Order,address_sale:AddressSale,order_detail:OrderDetail});\r\n    \r\n            var template = handlebars.compile(rest_html);\r\n            var htmlToSend = template({op:true});\r\n    \r\n            var mailOptions = {\r\n                from: 'suetyumbo@gmail.com',\r\n                to: Order.user.email,\r\n                subject: 'Finaliza tu compra ' + Order._id,\r\n                html: htmlToSend\r\n            };\r\n          \r\n            transporter.sendMail(mailOptions, function(error, info){\r\n                if (!error) {\r\n                    console.log('Email sent: ' + info.response);\r\n                }\r\n            });\r\n        \r\n        });\r\n        // res.status(200).json({\r\n        //     message: \"El correo se envio correctamente\",\r\n        // })\r\n    } catch (error) {\r\n         console.log(error);\r\n        // res.status(500).send({\r\n        //     menssage: 'Ocurrio un problema',\r\n        // });\r\n    }\r\n   \r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            let sale_data = req.body.sale;\r\n            let sale_address_data = req.body.sale_address;\r\n\r\n            let SALE = await models.Sale.create(sale_data);\r\n\r\n            sale_address_data.sale = SALE._id;\r\n\r\n            let SALE_ADDRESS = await models.SaleAddress.create(sale_address_data);\r\n\r\n            let CARTS = await models.Cart.find({user: SALE.user});\r\n            \r\n            for (let CART of CARTS) {\r\n                CART = CART.toObject();\r\n                CART.sale = SALE._id;\r\n                //EL DESCUENTO DE INVENTARIO\r\n                if(CART.variedad){//MULTIPLE INVENTARIO\r\n                    let VARIEDAD = await models.Variedad.findById({_id: CART.variedad});\r\n                    let new_stock = VARIEDAD.stock - CART.cantidad;\r\n\r\n                    await models.Variedad.findByIdAndUpdate({_id: CART.variedad},{\r\n                        stock: new_stock,\r\n                    })\r\n                }else{//UNITARIO INVENTARIO\r\n                    let PRODUCT = await models.Product.findById({_id: CART.product});\r\n                    let new_stock = PRODUCT.stock - CART.cantidad;\r\n\r\n                    await models.Product.findByIdAndUpdate({_id: CART.product},{\r\n                        stock:new_stock,\r\n                    });\r\n                }\r\n                // \r\n                await models.SaleDetail.create(CART);\r\n                await models.Cart.findByIdAndDelete({_id: CART._id});\r\n            }\r\n\r\n            await send_email(SALE._id);\r\n\r\n            res.status(200).json({\r\n                message: \"LA ORDEN DE GENERO CORRECTAMENTE\",\r\n            })\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"HUBO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n\r\n    \r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1718060778984},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\Cart.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _CartController = _interopRequireDefault(require(\"../controllers/CartController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.get(\"/list\", _auth.default.verifyEcommerce, _CartController.default.list);\nrouter.post(\"/register\", _auth.default.verifyEcommerce, _CartController.default.register);\nrouter.put(\"/update\", _auth.default.verifyEcommerce, _CartController.default.update);\nrouter.delete(\"/delete/:id\", _auth.default.verifyEcommerce, _CartController.default.delete);\nrouter.post(\"/aplicar_cupon\", _auth.default.verifyEcommerce, _CartController.default.applyCupon);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9DYXJ0Q29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwiZ2V0IiwiYXV0aCIsInZlcmlmeUVjb21tZXJjZSIsImNhcnRDb250cm9sbGVyIiwibGlzdCIsInBvc3QiLCJyZWdpc3RlciIsInB1dCIsInVwZGF0ZSIsImRlbGV0ZSIsImFwcGx5Q3Vwb24iLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbndvcmxcXEVzY3JpdG9yaW9cXFByb2dyYW1hY2nDs25cXEVjb21tZXJjZVNvbGl0ZWtcXGFwaV9lY29tbWVyY2VcXHJvdXRlclxcIiwic291cmNlcyI6WyJDYXJ0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByb3V0ZXJ4IGZyb20gJ2V4cHJlc3MtcHJvbWlzZS1yb3V0ZXInXHJcbmltcG9ydCBjYXJ0Q29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9DYXJ0Q29udHJvbGxlcidcclxuaW1wb3J0IGF1dGggZnJvbSAnLi4vbWlkZGxld2FyZXMvYXV0aCdcclxuXHJcbmNvbnN0IHJvdXRlciA9IHJvdXRlcngoKTtcclxuXHJcbnJvdXRlci5nZXQoXCIvbGlzdFwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLGNhcnRDb250cm9sbGVyLmxpc3QpO1xyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLGNhcnRDb250cm9sbGVyLnJlZ2lzdGVyKTtcclxucm91dGVyLnB1dChcIi91cGRhdGVcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxjYXJ0Q29udHJvbGxlci51cGRhdGUpO1xyXG5yb3V0ZXIuZGVsZXRlKFwiL2RlbGV0ZS86aWRcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxjYXJ0Q29udHJvbGxlci5kZWxldGUpO1xyXG5yb3V0ZXIucG9zdChcIi9hcGxpY2FyX2N1cG9uXCIsYXV0aC52ZXJpZnlFY29tbWVyY2UsY2FydENvbnRyb2xsZXIuYXBwbHlDdXBvbik7XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsZUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXRDLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFFeEJELE1BQU0sQ0FBQ0UsR0FBRyxDQUFDLE9BQU8sRUFBQ0MsYUFBSSxDQUFDQyxlQUFlLEVBQUNDLHVCQUFjLENBQUNDLElBQUksQ0FBQztBQUM1RE4sTUFBTSxDQUFDTyxJQUFJLENBQUMsV0FBVyxFQUFDSixhQUFJLENBQUNDLGVBQWUsRUFBQ0MsdUJBQWMsQ0FBQ0csUUFBUSxDQUFDO0FBQ3JFUixNQUFNLENBQUNTLEdBQUcsQ0FBQyxTQUFTLEVBQUNOLGFBQUksQ0FBQ0MsZUFBZSxFQUFDQyx1QkFBYyxDQUFDSyxNQUFNLENBQUM7QUFDaEVWLE1BQU0sQ0FBQ1csTUFBTSxDQUFDLGFBQWEsRUFBQ1IsYUFBSSxDQUFDQyxlQUFlLEVBQUNDLHVCQUFjLENBQUNNLE1BQU0sQ0FBQztBQUN2RVgsTUFBTSxDQUFDTyxJQUFJLENBQUMsZ0JBQWdCLEVBQUNKLGFBQUksQ0FBQ0MsZUFBZSxFQUFDQyx1QkFBYyxDQUFDTyxVQUFVLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWYsT0FBQSxHQUU5REMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_CartController","_auth","obj","__esModule","default","router","routerx","get","auth","verifyEcommerce","cartController","list","post","register","put","update","delete","applyCupon","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\router\\","sources":["Cart.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport cartController from '../controllers/CartController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n\r\nrouter.get(\"/list\",auth.verifyEcommerce,cartController.list);\r\nrouter.post(\"/register\",auth.verifyEcommerce,cartController.register);\r\nrouter.put(\"/update\",auth.verifyEcommerce,cartController.update);\r\nrouter.delete(\"/delete/:id\",auth.verifyEcommerce,cartController.delete);\r\nrouter.post(\"/aplicar_cupon\",auth.verifyEcommerce,cartController.applyCupon);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,GAAG,CAAC,OAAO,EAACC,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACC,IAAI,CAAC;AAC5DN,MAAM,CAACO,IAAI,CAAC,WAAW,EAACJ,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACG,QAAQ,CAAC;AACrER,MAAM,CAACS,GAAG,CAAC,SAAS,EAACN,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACK,MAAM,CAAC;AAChEV,MAAM,CAACW,MAAM,CAAC,aAAa,EAACR,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACM,MAAM,CAAC;AACvEX,MAAM,CAACO,IAAI,CAAC,gBAAgB,EAACJ,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACO,UAAU,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAf,OAAA,GAE9DC,MAAM","ignoreList":[]}},"mtime":1718155295388},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\resources\\\\Cart.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  cart_list: cart => {\n    return {\n      _id: cart._id,\n      user: cart.user,\n      product: {\n        _id: cart.product._id,\n        title: cart.product.title,\n        sku: cart.product.sku,\n        slug: cart.product.slug,\n        imagen: 'http://localhost:3000' + '/api/products/uploads/product/' + cart.product.portada,\n        //*\n        categoria: cart.product.categoria,\n        price_cop: cart.product.price_cop,\n        price_usd: cart.product.price_usd\n      },\n      type_discount: cart.type_discount,\n      discount: cart.discount,\n      cantidad: cart.cantidad,\n      variedad: cart.variedad,\n      code_cupon: cart.code_cupon,\n      code_discount: cart.code_discount,\n      price_unitario: cart.price_unitario,\n      subtotal: cart.subtotal,\n      total: cart.total\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXJ0X2xpc3QiLCJjYXJ0IiwiX2lkIiwidXNlciIsInByb2R1Y3QiLCJ0aXRsZSIsInNrdSIsInNsdWciLCJpbWFnZW4iLCJwb3J0YWRhIiwiY2F0ZWdvcmlhIiwicHJpY2VfY29wIiwicHJpY2VfdXNkIiwidHlwZV9kaXNjb3VudCIsImRpc2NvdW50IiwiY2FudGlkYWQiLCJ2YXJpZWRhZCIsImNvZGVfY3Vwb24iLCJjb2RlX2Rpc2NvdW50IiwicHJpY2VfdW5pdGFyaW8iLCJzdWJ0b3RhbCIsInRvdGFsIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxyZXNvdXJjZXNcXCIsInNvdXJjZXMiOlsiQ2FydC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XHJcbiAgICBjYXJ0X2xpc3Q6IChjYXJ0KSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgX2lkOiBjYXJ0Ll9pZCxcclxuICAgICAgICAgICAgdXNlcjogY2FydC51c2VyLFxyXG4gICAgICAgICAgICBwcm9kdWN0OiB7XHJcbiAgICAgICAgICAgICAgICBfaWQ6IGNhcnQucHJvZHVjdC5faWQsXHJcbiAgICAgICAgICAgICAgICB0aXRsZTogY2FydC5wcm9kdWN0LnRpdGxlLFxyXG4gICAgICAgICAgICAgICAgc2t1OiBjYXJ0LnByb2R1Y3Quc2t1LFxyXG4gICAgICAgICAgICAgICAgc2x1ZzogY2FydC5wcm9kdWN0LnNsdWcsXHJcbiAgICAgICAgICAgICAgICBpbWFnZW46ICdodHRwOi8vbG9jYWxob3N0OjMwMDAnKycvYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC8nK2NhcnQucHJvZHVjdC5wb3J0YWRhLC8vKlxyXG4gICAgICAgICAgICAgICAgY2F0ZWdvcmlhOiBjYXJ0LnByb2R1Y3QuY2F0ZWdvcmlhLFxyXG4gICAgICAgICAgICAgICAgcHJpY2VfY29wOiBjYXJ0LnByb2R1Y3QucHJpY2VfY29wLFxyXG4gICAgICAgICAgICAgICAgcHJpY2VfdXNkOiBjYXJ0LnByb2R1Y3QucHJpY2VfdXNkLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0eXBlX2Rpc2NvdW50OiBjYXJ0LnR5cGVfZGlzY291bnQsXHJcbiAgICAgICAgICAgIGRpc2NvdW50OiBjYXJ0LmRpc2NvdW50LFxyXG4gICAgICAgICAgICBjYW50aWRhZDogY2FydC5jYW50aWRhZCxcclxuICAgICAgICAgICAgdmFyaWVkYWQ6IGNhcnQudmFyaWVkYWQsXHJcbiAgICAgICAgICAgIGNvZGVfY3Vwb246IGNhcnQuY29kZV9jdXBvbixcclxuICAgICAgICAgICAgY29kZV9kaXNjb3VudDogY2FydC5jb2RlX2Rpc2NvdW50LFxyXG4gICAgICAgICAgICBwcmljZV91bml0YXJpbzogY2FydC5wcmljZV91bml0YXJpbyxcclxuICAgICAgICAgICAgc3VidG90YWw6IGNhcnQuc3VidG90YWwsXHJcbiAgICAgICAgICAgIHRvdGFsOiBjYXJ0LnRvdGFsLFxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2lDQUFlO0VBQ1hBLFNBQVMsRUFBR0MsSUFBSSxJQUFLO0lBQ2pCLE9BQU87TUFDSEMsR0FBRyxFQUFFRCxJQUFJLENBQUNDLEdBQUc7TUFDYkMsSUFBSSxFQUFFRixJQUFJLENBQUNFLElBQUk7TUFDZkMsT0FBTyxFQUFFO1FBQ0xGLEdBQUcsRUFBRUQsSUFBSSxDQUFDRyxPQUFPLENBQUNGLEdBQUc7UUFDckJHLEtBQUssRUFBRUosSUFBSSxDQUFDRyxPQUFPLENBQUNDLEtBQUs7UUFDekJDLEdBQUcsRUFBRUwsSUFBSSxDQUFDRyxPQUFPLENBQUNFLEdBQUc7UUFDckJDLElBQUksRUFBRU4sSUFBSSxDQUFDRyxPQUFPLENBQUNHLElBQUk7UUFDdkJDLE1BQU0sRUFBRSx1QkFBdUIsR0FBQyxnQ0FBZ0MsR0FBQ1AsSUFBSSxDQUFDRyxPQUFPLENBQUNLLE9BQU87UUFBQztRQUN0RkMsU0FBUyxFQUFFVCxJQUFJLENBQUNHLE9BQU8sQ0FBQ00sU0FBUztRQUNqQ0MsU0FBUyxFQUFFVixJQUFJLENBQUNHLE9BQU8sQ0FBQ08sU0FBUztRQUNqQ0MsU0FBUyxFQUFFWCxJQUFJLENBQUNHLE9BQU8sQ0FBQ1E7TUFDNUIsQ0FBQztNQUNEQyxhQUFhLEVBQUVaLElBQUksQ0FBQ1ksYUFBYTtNQUNqQ0MsUUFBUSxFQUFFYixJQUFJLENBQUNhLFFBQVE7TUFDdkJDLFFBQVEsRUFBRWQsSUFBSSxDQUFDYyxRQUFRO01BQ3ZCQyxRQUFRLEVBQUVmLElBQUksQ0FBQ2UsUUFBUTtNQUN2QkMsVUFBVSxFQUFFaEIsSUFBSSxDQUFDZ0IsVUFBVTtNQUMzQkMsYUFBYSxFQUFFakIsSUFBSSxDQUFDaUIsYUFBYTtNQUNqQ0MsY0FBYyxFQUFFbEIsSUFBSSxDQUFDa0IsY0FBYztNQUNuQ0MsUUFBUSxFQUFFbkIsSUFBSSxDQUFDbUIsUUFBUTtNQUN2QkMsS0FBSyxFQUFFcEIsSUFBSSxDQUFDb0I7SUFDaEIsQ0FBQztFQUNMO0FBQ0osQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["cart_list","cart","_id","user","product","title","sku","slug","imagen","portada","categoria","price_cop","price_usd","type_discount","discount","cantidad","variedad","code_cupon","code_discount","price_unitario","subtotal","total"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\resources\\","sources":["Cart.js"],"sourcesContent":["export default {\r\n    cart_list: (cart) => {\r\n        return {\r\n            _id: cart._id,\r\n            user: cart.user,\r\n            product: {\r\n                _id: cart.product._id,\r\n                title: cart.product.title,\r\n                sku: cart.product.sku,\r\n                slug: cart.product.slug,\r\n                imagen: 'http://localhost:3000'+'/api/products/uploads/product/'+cart.product.portada,//*\r\n                categoria: cart.product.categoria,\r\n                price_cop: cart.product.price_cop,\r\n                price_usd: cart.product.price_usd,\r\n            },\r\n            type_discount: cart.type_discount,\r\n            discount: cart.discount,\r\n            cantidad: cart.cantidad,\r\n            variedad: cart.variedad,\r\n            code_cupon: cart.code_cupon,\r\n            code_discount: cart.code_discount,\r\n            price_unitario: cart.price_unitario,\r\n            subtotal: cart.subtotal,\r\n            total: cart.total,\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;iCAAe;EACXA,SAAS,EAAGC,IAAI,IAAK;IACjB,OAAO;MACHC,GAAG,EAAED,IAAI,CAACC,GAAG;MACbC,IAAI,EAAEF,IAAI,CAACE,IAAI;MACfC,OAAO,EAAE;QACLF,GAAG,EAAED,IAAI,CAACG,OAAO,CAACF,GAAG;QACrBG,KAAK,EAAEJ,IAAI,CAACG,OAAO,CAACC,KAAK;QACzBC,GAAG,EAAEL,IAAI,CAACG,OAAO,CAACE,GAAG;QACrBC,IAAI,EAAEN,IAAI,CAACG,OAAO,CAACG,IAAI;QACvBC,MAAM,EAAE,uBAAuB,GAAC,gCAAgC,GAACP,IAAI,CAACG,OAAO,CAACK,OAAO;QAAC;QACtFC,SAAS,EAAET,IAAI,CAACG,OAAO,CAACM,SAAS;QACjCC,SAAS,EAAEV,IAAI,CAACG,OAAO,CAACO,SAAS;QACjCC,SAAS,EAAEX,IAAI,CAACG,OAAO,CAACQ;MAC5B,CAAC;MACDC,aAAa,EAAEZ,IAAI,CAACY,aAAa;MACjCC,QAAQ,EAAEb,IAAI,CAACa,QAAQ;MACvBC,QAAQ,EAAEd,IAAI,CAACc,QAAQ;MACvBC,QAAQ,EAAEf,IAAI,CAACe,QAAQ;MACvBC,UAAU,EAAEhB,IAAI,CAACgB,UAAU;MAC3BC,aAAa,EAAEjB,IAAI,CAACiB,aAAa;MACjCC,cAAc,EAAElB,IAAI,CAACkB,cAAc;MACnCC,QAAQ,EAAEnB,IAAI,CAACmB,QAAQ;MACvBC,KAAK,EAAEpB,IAAI,CAACoB;IAChB,CAAC;EACL;AACJ,CAAC","ignoreList":[]}},"mtime":1718154554451},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\resources\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\resources\\\\Cart.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = exports.default = {\n  cart_list: cart => {\n    return {\n      _id: cart._id,\n      user: cart.user,\n      product: {\n        _id: cart.product._id,\n        title: cart.product.title,\n        sku: cart.product.sku,\n        slug: cart.product.slug,\n        imagen: 'http://localhost:3000' + '/api/products/uploads/product/' + cart.product.portada,\n        //*\n        categoria: cart.product.categoria,\n        price_cop: cart.product.price_cop,\n        price_usd: cart.product.price_usd\n      },\n      type_discount: cart.type_discount,\n      discount: cart.discount,\n      cantidad: cart.cantidad,\n      variedad: cart.variedad,\n      code_cupon: cart.code_cupon,\n      code_discount: cart.code_discount,\n      price_unitario: cart.price_unitario,\n      subtotal: cart.subtotal,\n      total: cart.total\n    };\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjYXJ0X2xpc3QiLCJjYXJ0IiwiX2lkIiwidXNlciIsInByb2R1Y3QiLCJ0aXRsZSIsInNrdSIsInNsdWciLCJpbWFnZW4iLCJwb3J0YWRhIiwiY2F0ZWdvcmlhIiwicHJpY2VfY29wIiwicHJpY2VfdXNkIiwidHlwZV9kaXNjb3VudCIsImRpc2NvdW50IiwiY2FudGlkYWQiLCJ2YXJpZWRhZCIsImNvZGVfY3Vwb24iLCJjb2RlX2Rpc2NvdW50IiwicHJpY2VfdW5pdGFyaW8iLCJzdWJ0b3RhbCIsInRvdGFsIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxyZXNvdXJjZXNcXCIsInNvdXJjZXMiOlsiQ2FydC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCB7XHJcbiAgICBjYXJ0X2xpc3Q6IChjYXJ0KSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgX2lkOiBjYXJ0Ll9pZCxcclxuICAgICAgICAgICAgdXNlcjogY2FydC51c2VyLFxyXG4gICAgICAgICAgICBwcm9kdWN0OiB7XHJcbiAgICAgICAgICAgICAgICBfaWQ6IGNhcnQucHJvZHVjdC5faWQsXHJcbiAgICAgICAgICAgICAgICB0aXRsZTogY2FydC5wcm9kdWN0LnRpdGxlLFxyXG4gICAgICAgICAgICAgICAgc2t1OiBjYXJ0LnByb2R1Y3Quc2t1LFxyXG4gICAgICAgICAgICAgICAgc2x1ZzogY2FydC5wcm9kdWN0LnNsdWcsXHJcbiAgICAgICAgICAgICAgICBpbWFnZW46ICdodHRwOi8vbG9jYWxob3N0OjMwMDAnKycvYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC8nK2NhcnQucHJvZHVjdC5wb3J0YWRhLC8vKlxyXG4gICAgICAgICAgICAgICAgY2F0ZWdvcmlhOiBjYXJ0LnByb2R1Y3QuY2F0ZWdvcmlhLFxyXG4gICAgICAgICAgICAgICAgcHJpY2VfY29wOiBjYXJ0LnByb2R1Y3QucHJpY2VfY29wLFxyXG4gICAgICAgICAgICAgICAgcHJpY2VfdXNkOiBjYXJ0LnByb2R1Y3QucHJpY2VfdXNkLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0eXBlX2Rpc2NvdW50OiBjYXJ0LnR5cGVfZGlzY291bnQsXHJcbiAgICAgICAgICAgIGRpc2NvdW50OiBjYXJ0LmRpc2NvdW50LFxyXG4gICAgICAgICAgICBjYW50aWRhZDogY2FydC5jYW50aWRhZCxcclxuICAgICAgICAgICAgdmFyaWVkYWQ6IGNhcnQudmFyaWVkYWQsXHJcbiAgICAgICAgICAgIGNvZGVfY3Vwb246IGNhcnQuY29kZV9jdXBvbixcclxuICAgICAgICAgICAgY29kZV9kaXNjb3VudDogY2FydC5jb2RlX2Rpc2NvdW50LFxyXG4gICAgICAgICAgICBwcmljZV91bml0YXJpbzogY2FydC5wcmljZV91bml0YXJpbyxcclxuICAgICAgICAgICAgc3VidG90YWw6IGNhcnQuc3VidG90YWwsXHJcbiAgICAgICAgICAgIHRvdGFsOiBjYXJ0LnRvdGFsLFxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O2lDQUFlO0VBQ1hBLFNBQVMsRUFBR0MsSUFBSSxJQUFLO0lBQ2pCLE9BQU87TUFDSEMsR0FBRyxFQUFFRCxJQUFJLENBQUNDLEdBQUc7TUFDYkMsSUFBSSxFQUFFRixJQUFJLENBQUNFLElBQUk7TUFDZkMsT0FBTyxFQUFFO1FBQ0xGLEdBQUcsRUFBRUQsSUFBSSxDQUFDRyxPQUFPLENBQUNGLEdBQUc7UUFDckJHLEtBQUssRUFBRUosSUFBSSxDQUFDRyxPQUFPLENBQUNDLEtBQUs7UUFDekJDLEdBQUcsRUFBRUwsSUFBSSxDQUFDRyxPQUFPLENBQUNFLEdBQUc7UUFDckJDLElBQUksRUFBRU4sSUFBSSxDQUFDRyxPQUFPLENBQUNHLElBQUk7UUFDdkJDLE1BQU0sRUFBRSx1QkFBdUIsR0FBQyxnQ0FBZ0MsR0FBQ1AsSUFBSSxDQUFDRyxPQUFPLENBQUNLLE9BQU87UUFBQztRQUN0RkMsU0FBUyxFQUFFVCxJQUFJLENBQUNHLE9BQU8sQ0FBQ00sU0FBUztRQUNqQ0MsU0FBUyxFQUFFVixJQUFJLENBQUNHLE9BQU8sQ0FBQ08sU0FBUztRQUNqQ0MsU0FBUyxFQUFFWCxJQUFJLENBQUNHLE9BQU8sQ0FBQ1E7TUFDNUIsQ0FBQztNQUNEQyxhQUFhLEVBQUVaLElBQUksQ0FBQ1ksYUFBYTtNQUNqQ0MsUUFBUSxFQUFFYixJQUFJLENBQUNhLFFBQVE7TUFDdkJDLFFBQVEsRUFBRWQsSUFBSSxDQUFDYyxRQUFRO01BQ3ZCQyxRQUFRLEVBQUVmLElBQUksQ0FBQ2UsUUFBUTtNQUN2QkMsVUFBVSxFQUFFaEIsSUFBSSxDQUFDZ0IsVUFBVTtNQUMzQkMsYUFBYSxFQUFFakIsSUFBSSxDQUFDaUIsYUFBYTtNQUNqQ0MsY0FBYyxFQUFFbEIsSUFBSSxDQUFDa0IsY0FBYztNQUNuQ0MsUUFBUSxFQUFFbkIsSUFBSSxDQUFDbUIsUUFBUTtNQUN2QkMsS0FBSyxFQUFFcEIsSUFBSSxDQUFDb0I7SUFDaEIsQ0FBQztFQUNMO0FBQ0osQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["cart_list","cart","_id","user","product","title","sku","slug","imagen","portada","categoria","price_cop","price_usd","type_discount","discount","cantidad","variedad","code_cupon","code_discount","price_unitario","subtotal","total"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\resources\\","sources":["Cart.js"],"sourcesContent":["export default {\r\n    cart_list: (cart) => {\r\n        return {\r\n            _id: cart._id,\r\n            user: cart.user,\r\n            product: {\r\n                _id: cart.product._id,\r\n                title: cart.product.title,\r\n                sku: cart.product.sku,\r\n                slug: cart.product.slug,\r\n                imagen: 'http://localhost:3000'+'/api/products/uploads/product/'+cart.product.portada,//*\r\n                categoria: cart.product.categoria,\r\n                price_cop: cart.product.price_cop,\r\n                price_usd: cart.product.price_usd,\r\n            },\r\n            type_discount: cart.type_discount,\r\n            discount: cart.discount,\r\n            cantidad: cart.cantidad,\r\n            variedad: cart.variedad,\r\n            code_cupon: cart.code_cupon,\r\n            code_discount: cart.code_discount,\r\n            price_unitario: cart.price_unitario,\r\n            subtotal: cart.subtotal,\r\n            total: cart.total,\r\n        }\r\n    }\r\n}"],"mappings":";;;;;;iCAAe;EACXA,SAAS,EAAGC,IAAI,IAAK;IACjB,OAAO;MACHC,GAAG,EAAED,IAAI,CAACC,GAAG;MACbC,IAAI,EAAEF,IAAI,CAACE,IAAI;MACfC,OAAO,EAAE;QACLF,GAAG,EAAED,IAAI,CAACG,OAAO,CAACF,GAAG;QACrBG,KAAK,EAAEJ,IAAI,CAACG,OAAO,CAACC,KAAK;QACzBC,GAAG,EAAEL,IAAI,CAACG,OAAO,CAACE,GAAG;QACrBC,IAAI,EAAEN,IAAI,CAACG,OAAO,CAACG,IAAI;QACvBC,MAAM,EAAE,uBAAuB,GAAC,gCAAgC,GAACP,IAAI,CAACG,OAAO,CAACK,OAAO;QAAC;QACtFC,SAAS,EAAET,IAAI,CAACG,OAAO,CAACM,SAAS;QACjCC,SAAS,EAAEV,IAAI,CAACG,OAAO,CAACO,SAAS;QACjCC,SAAS,EAAEX,IAAI,CAACG,OAAO,CAACQ;MAC5B,CAAC;MACDC,aAAa,EAAEZ,IAAI,CAACY,aAAa;MACjCC,QAAQ,EAAEb,IAAI,CAACa,QAAQ;MACvBC,QAAQ,EAAEd,IAAI,CAACc,QAAQ;MACvBC,QAAQ,EAAEf,IAAI,CAACe,QAAQ;MACvBC,UAAU,EAAEhB,IAAI,CAACgB,UAAU;MAC3BC,aAAa,EAAEjB,IAAI,CAACiB,aAAa;MACjCC,cAAc,EAAElB,IAAI,CAACkB,cAAc;MACnCC,QAAQ,EAAEnB,IAAI,CAACmB,QAAQ;MACvBC,KAAK,EAAEpB,IAAI,CAACoB;IAChB,CAAC;EACL;AACJ,CAAC","ignoreList":[]}},"mtime":1718154554451},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\AddressClient.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst AddressClientSchema = new _mongoose.Schema({\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  pais: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  address: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  referencia: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  ciudad: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  region: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  telefono: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  nota: {\n    type: String,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst AddressClient = _mongoose.default.model(\"address_client\", AddressClientSchema);\nvar _default = exports.default = AddressClient;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJBZGRyZXNzQ2xpZW50U2NoZW1hIiwiU2NoZW1hIiwidXNlciIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwibmFtZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsInN1cm5hbWUiLCJwYWlzIiwiYWRkcmVzcyIsInJlZmVyZW5jaWEiLCJjaXVkYWQiLCJyZWdpb24iLCJ0ZWxlZm9ubyIsImVtYWlsIiwibm90YSIsInRpbWVzdGFtcHMiLCJBZGRyZXNzQ2xpZW50IiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxud29ybFxcRXNjcml0b3Jpb1xcUHJvZ3JhbWFjacOzblxcRWNvbW1lcmNlU29saXRla1xcYXBpX2Vjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIkFkZHJlc3NDbGllbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuY29uc3QgQWRkcmVzc0NsaWVudFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgdXNlcjp7dHlwZTpTY2hlbWEuT2JqZWN0SWQscmVmOiAndXNlcicscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBuYW1lOnt0eXBlOlN0cmluZyxtYXhsZW5ndGggOiAyNTAscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBzdXJuYW1lOnt0eXBlOlN0cmluZyxtYXhsZW5ndGggOiAyNTAscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBwYWlzOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBhZGRyZXNzOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICByZWZlcmVuY2lhOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6ZmFsc2V9LFxyXG4gICAgY2l1ZGFkOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICByZWdpb246e3R5cGU6U3RyaW5nLG1heGxlbmd0aDogMjUwLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIHRlbGVmb25vOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBlbWFpbDp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgbm90YTp7dHlwZTpTdHJpbmcsIHJlcXVpcmVkOmZhbHNlfSxcclxufSx7XHJcbiAgICB0aW1lc3RhbXBzOiB0cnVlXHJcbn0pO1xyXG5cclxuY29uc3QgQWRkcmVzc0NsaWVudCA9IG1vbmdvb3NlLm1vZGVsKFwiYWRkcmVzc19jbGllbnRcIixBZGRyZXNzQ2xpZW50U2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgQWRkcmVzc0NsaWVudDsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","AddressClientSchema","Schema","user","type","ObjectId","ref","required","name","String","maxlength","surname","pais","address","referencia","ciudad","region","telefono","email","nota","timestamps","AddressClient","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\models\\","sources":["AddressClient.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst AddressClientSchema = new Schema({\r\n    user:{type:Schema.ObjectId,ref: 'user',required:true},\r\n    name:{type:String,maxlength : 250,required:true},\r\n    surname:{type:String,maxlength : 250,required:true},\r\n    pais:{type:String,maxlength: 250, required:true},\r\n    address:{type:String,maxlength: 250, required:true},\r\n    referencia:{type:String,maxlength: 250, required:false},\r\n    ciudad:{type:String,maxlength: 250, required:true},\r\n    region:{type:String,maxlength: 250, required:true},\r\n    telefono:{type:String,maxlength: 250, required:true},\r\n    email:{type:String,maxlength: 250, required:true},\r\n    nota:{type:String, required:false},\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst AddressClient = mongoose.model(\"address_client\",AddressClientSchema);\r\nexport default AddressClient;"],"mappings":"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","ignoreList":[]}},"mtime":1718029705420},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\CartController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _resources = _interopRequireDefault(require(\"../resources\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  list: async (req, res) => {\n    try {\n      let user_id = req.query.user_id;\n      let CARTS = await _models.default.Cart.find({\n        user: user_id\n      }).populate(\"variedad\").populate({\n        path: \"product\",\n        populate: {\n          path: \"categoria\"\n        }\n      });\n      CARTS = CARTS.map(cart => {\n        return _resources.default.Cart.cart_list(cart);\n      });\n      res.status(200).json({\n        carts: CARTS\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  register: async (req, res) => {\n    try {\n      let data = req.body;\n      //PRIMERO VAMOS A VALIDAR SI EL PRODUCTO EXISTE EN EL CARRITO DE COMPRA\n      if (data.variedad) {\n        let valid_cart = await _models.default.Cart.findOne({\n          user: data.user,\n          variedad: data.variedad,\n          product: data.product\n        });\n        if (valid_cart) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL PRODUCTO CON LA VARIEDAD YA EXISTE EN EL CARRITO DE COMPRA\"\n          });\n          return;\n        }\n      } else {\n        let valid_cart = await _models.default.Cart.findOne({\n          user: data.user,\n          product: data.product\n        });\n        if (valid_cart) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL PRODUCTO YA EXISTE EN EL CARRITO DE COMPRA\"\n          });\n          return;\n        }\n      }\n\n      //SEGUNDO VAMOS A VALIDAR SI EL STOCK ESTA DISPONIBLE\n\n      if (data.variedad) {\n        let valid_variedad = await _models.default.Variedad.findOne({\n          _id: data.variedad\n        });\n        if (valid_variedad.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL STOCK NO ESTA DISPONIBLE\"\n          });\n          return;\n        }\n      } else {\n        let valid_product = await _models.default.Product.findOne({\n          _id: data.product\n        });\n        if (valid_product.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL STOCK NO ESTA DISPONIBLE\"\n          });\n          return;\n        }\n      }\n      let CART = await _models.default.Cart.create(data);\n      let NEW_CART = await _models.default.Cart.findById({\n        _id: CART._id\n      }).populate(\"variedad\").populate({\n        path: \"product\",\n        populate: {\n          path: \"categoria\"\n        }\n      });\n      res.status(200).json({\n        cart: _resources.default.Cart.cart_list(NEW_CART),\n        message_text: \"EL CARRITO SE REGISTRO CON EXITO\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n\n      //SEGUNDO VAMOS A VALIDAR SI EL STOCK ESTA DISPONIBLE\n\n      if (data.variedad) {\n        let valid_variedad = await _models.default.Variedad.findOne({\n          _id: data.variedad\n        });\n        if (valid_variedad.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL STOCK NO ESTA DISPONIBLE\"\n          });\n          return;\n        }\n      } else {\n        let valid_product = await _models.default.Product.findOne({\n          _id: data.product\n        });\n        if (valid_product.stock < data.cantidad) {\n          res.status(200).json({\n            message: 403,\n            message_text: \"EL STOCK NO ESTA DISPONIBLE\"\n          });\n          return;\n        }\n      }\n      let CART = await _models.default.Cart.findByIdAndUpdate({\n        _id: data._id\n      }, data);\n      let NEW_CART = await _models.default.Cart.findById({\n        _id: CART._id\n      }).populate(\"variedad\").populate({\n        path: \"product\",\n        populate: {\n          path: \"categoria\"\n        }\n      });\n      res.status(200).json({\n        cart: _resources.default.Cart.cart_list(NEW_CART),\n        message_text: \"EL CARRITO SE ACTUALIZO CON EXITO\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  delete: async (req, res) => {\n    try {\n      let _id = req.params.id;\n      let CART = await _models.default.Cart.findByIdAndDelete({\n        _id: _id\n      });\n      res.status(200).json({\n        message_text: \"EL CARRITO SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  },\n  applyCupon: async (req, res) => {\n    try {\n      let data = req.body;\n      // LA PRIMERA VALIDACIÓN TIENE QUE VER CON LA EXISTENCIA DEL CUPON\n      let CUPON = await _models.default.Cupone.findOne({\n        code: data.code\n      });\n      if (!CUPON) {\n        res.status(200).json({\n          message: 403,\n          message_text: \"EL CUPON INGRESADO NO EXISTE, DIGITE OTRO NUEVAMENTE\"\n        });\n        return;\n      }\n      // TIENE CON EL USO DEL CUPON -- ESPERA \n\n      //la parte operativa\n\n      let carts = await _models.default.Cart.find({\n        user: data.user_id\n      }).populate(\"product\");\n      console.log(carts);\n      let products = [];\n      let categorias = [];\n      CUPON.products.forEach(product => {\n        products.push(product._id);\n      });\n      //[837373.838383]\n      //[{_id: 837373},{_id: 838383}].includes\n      CUPON.categorias.forEach(categoria => {\n        categorias.push(categoria._id);\n      });\n      console.log(products);\n      console.log(categorias);\n      for (const cart of carts) {\n        if (products.length > 0) {\n          if (products.includes(cart.product._id + \"\")) {\n            let subtotal = 0;\n            let total = 0;\n            if (CUPON.type_discount == 1) {\n              //PORCENTAJE\n              subtotal = cart.price_unitario - cart.price_unitario * (CUPON.discount * 0.01);\n            } else {\n              //POR MONEDA\n              subtotal = cart.price_unitario - CUPON.discount;\n            }\n            total = subtotal * cart.cantidad;\n            await _models.default.Cart.findByIdAndUpdate({\n              _id: cart._id\n            }, {\n              subtotal: subtotal,\n              total: total,\n              type_discount: CUPON.type_discount,\n              discount: CUPON.discount,\n              code_cupon: CUPON.code\n            });\n          }\n        }\n        if (categorias.length > 0) {\n          if (categorias.includes(cart.product.categoria + \"\")) {\n            let subtotal = 0;\n            let total = 0;\n            if (CUPON.type_discount == 1) {\n              //PORCENTAJE\n              subtotal = cart.price_unitario - cart.price_unitario * (CUPON.discount * 0.01);\n            } else {\n              //POR MONEDA\n              subtotal = cart.price_unitario - CUPON.discount;\n            }\n            total = subtotal * cart.cantidad;\n            await _models.default.Cart.findByIdAndUpdate({\n              _id: cart._id\n            }, {\n              subtotal: subtotal,\n              total: total,\n              type_discount: CUPON.type_discount,\n              discount: CUPON.discount,\n              code_cupon: CUPON.code\n            });\n          }\n        }\n      }\n      res.status(200).json({\n        message: 200,\n        message_text: \"EL CUPON SE APLICADO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n      console.log(error);\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfcmVzb3VyY2VzIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfZGVmYXVsdCIsImV4cG9ydHMiLCJsaXN0IiwicmVxIiwicmVzIiwidXNlcl9pZCIsInF1ZXJ5IiwiQ0FSVFMiLCJtb2RlbHMiLCJDYXJ0IiwiZmluZCIsInVzZXIiLCJwb3B1bGF0ZSIsInBhdGgiLCJtYXAiLCJjYXJ0IiwicmVzb3VyY2UiLCJjYXJ0X2xpc3QiLCJzdGF0dXMiLCJqc29uIiwiY2FydHMiLCJlcnJvciIsInNlbmQiLCJtZXNzYWdlIiwiY29uc29sZSIsImxvZyIsInJlZ2lzdGVyIiwiZGF0YSIsImJvZHkiLCJ2YXJpZWRhZCIsInZhbGlkX2NhcnQiLCJmaW5kT25lIiwicHJvZHVjdCIsIm1lc3NhZ2VfdGV4dCIsInZhbGlkX3ZhcmllZGFkIiwiVmFyaWVkYWQiLCJfaWQiLCJzdG9jayIsImNhbnRpZGFkIiwidmFsaWRfcHJvZHVjdCIsIlByb2R1Y3QiLCJDQVJUIiwiY3JlYXRlIiwiTkVXX0NBUlQiLCJmaW5kQnlJZCIsInVwZGF0ZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiZGVsZXRlIiwicGFyYW1zIiwiaWQiLCJmaW5kQnlJZEFuZERlbGV0ZSIsImFwcGx5Q3Vwb24iLCJDVVBPTiIsIkN1cG9uZSIsImNvZGUiLCJwcm9kdWN0cyIsImNhdGVnb3JpYXMiLCJmb3JFYWNoIiwicHVzaCIsImNhdGVnb3JpYSIsImxlbmd0aCIsImluY2x1ZGVzIiwic3VidG90YWwiLCJ0b3RhbCIsInR5cGVfZGlzY291bnQiLCJwcmljZV91bml0YXJpbyIsImRpc2NvdW50IiwiY29kZV9jdXBvbiJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxud29ybFxcRXNjcml0b3Jpb1xcUHJvZ3JhbWFjacOzblxcRWNvbW1lcmNlU29saXRla1xcYXBpX2Vjb21tZXJjZVxcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiQ2FydENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vZGVscyBmcm9tICcuLi9tb2RlbHMnXHJcbmltcG9ydCByZXNvdXJjZSBmcm9tICcuLi9yZXNvdXJjZXMnXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIGxpc3Q6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCB1c2VyX2lkID0gcmVxLnF1ZXJ5LnVzZXJfaWQ7XHJcbiAgICAgICAgICAgIGxldCBDQVJUUyA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmQoe1xyXG4gICAgICAgICAgICAgICAgdXNlcjogdXNlcl9pZCxcclxuICAgICAgICAgICAgfSkucG9wdWxhdGUoXCJ2YXJpZWRhZFwiKS5wb3B1bGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBwYXRoOiBcInByb2R1Y3RcIixcclxuICAgICAgICAgICAgICAgIHBvcHVsYXRlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogXCJjYXRlZ29yaWFcIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBDQVJUUyA9IENBUlRTLm1hcCgoY2FydCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc291cmNlLkNhcnQuY2FydF9saXN0KGNhcnQpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIGNhcnRzOiBDQVJUUyxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOlwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICByZWdpc3Rlcjphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuICAgICAgICAgICAgLy9QUklNRVJPIFZBTU9TIEEgVkFMSURBUiBTSSBFTCBQUk9EVUNUTyBFWElTVEUgRU4gRUwgQ0FSUklUTyBERSBDT01QUkFcclxuICAgICAgICAgICAgaWYoZGF0YS52YXJpZWRhZCl7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsaWRfY2FydCA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVzZXI6IGRhdGEudXNlcixcclxuICAgICAgICAgICAgICAgICAgICB2YXJpZWRhZDogZGF0YS52YXJpZWRhZCxcclxuICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiBkYXRhLnByb2R1Y3QsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGlmKHZhbGlkX2NhcnQpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogNDAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgUFJPRFVDVE8gQ09OIExBIFZBUklFREFEIFlBIEVYSVNURSBFTiBFTCBDQVJSSVRPIERFIENPTVBSQVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIGxldCB2YWxpZF9jYXJ0ID0gYXdhaXQgbW9kZWxzLkNhcnQuZmluZE9uZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcjogZGF0YS51c2VyLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6IGRhdGEucHJvZHVjdCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYodmFsaWRfY2FydCl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiA0MDMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBQUk9EVUNUTyBZQSBFWElTVEUgRU4gRUwgQ0FSUklUTyBERSBDT01QUkFcIixcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9TRUdVTkRPIFZBTU9TIEEgVkFMSURBUiBTSSBFTCBTVE9DSyBFU1RBIERJU1BPTklCTEVcclxuXHJcbiAgICAgICAgICAgIGlmKGRhdGEudmFyaWVkYWQpe1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbGlkX3ZhcmllZGFkID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIF9pZDogZGF0YS52YXJpZWRhZCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYodmFsaWRfdmFyaWVkYWQuc3RvY2sgPCBkYXRhLmNhbnRpZGFkKXtcclxuICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDQwMyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIFNUT0NLIE5PIEVTVEEgRElTUE9OSUJMRVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgbGV0IHZhbGlkX3Byb2R1Y3QgPSBhd2FpdCBtb2RlbHMuUHJvZHVjdC5maW5kT25lKHtcclxuICAgICAgICAgICAgICAgICAgICBfaWQ6IGRhdGEucHJvZHVjdCxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYodmFsaWRfcHJvZHVjdC5zdG9jayA8IGRhdGEuY2FudGlkYWQpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogNDAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgU1RPQ0sgTk8gRVNUQSBESVNQT05JQkxFXCJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IENBUlQgPSBhd2FpdCBtb2RlbHMuQ2FydC5jcmVhdGUoZGF0YSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgTkVXX0NBUlQgPSBhd2FpdCBtb2RlbHMuQ2FydC5maW5kQnlJZCh7X2lkOiBDQVJULl9pZH0pLnBvcHVsYXRlKFwidmFyaWVkYWRcIikucG9wdWxhdGUoe1xyXG4gICAgICAgICAgICAgICAgcGF0aDogXCJwcm9kdWN0XCIsXHJcbiAgICAgICAgICAgICAgICBwb3B1bGF0ZToge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IFwiY2F0ZWdvcmlhXCJcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBjYXJ0OiByZXNvdXJjZS5DYXJ0LmNhcnRfbGlzdChORVdfQ0FSVCksXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgQ0FSUklUTyBTRSBSRUdJU1RSTyBDT04gRVhJVE9cIixcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOlwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB1cGRhdGU6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XHJcblxyXG4gICAgICAgICAgICAvL1NFR1VORE8gVkFNT1MgQSBWQUxJREFSIFNJIEVMIFNUT0NLIEVTVEEgRElTUE9OSUJMRVxyXG5cclxuICAgICAgICAgICAgaWYoZGF0YS52YXJpZWRhZCl7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsaWRfdmFyaWVkYWQgPSBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZE9uZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgX2lkOiBkYXRhLnZhcmllZGFkLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZih2YWxpZF92YXJpZWRhZC5zdG9jayA8IGRhdGEuY2FudGlkYWQpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogNDAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgU1RPQ0sgTk8gRVNUQSBESVNQT05JQkxFXCJcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsaWRfcHJvZHVjdCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIF9pZDogZGF0YS5wcm9kdWN0LFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZih2YWxpZF9wcm9kdWN0LnN0b2NrIDwgZGF0YS5jYW50aWRhZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiA0MDMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBTVE9DSyBOTyBFU1RBIERJU1BPTklCTEVcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgQ0FSVCA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IGRhdGEuX2lkfSxkYXRhKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBORVdfQ0FSVCA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkKHtfaWQ6IENBUlQuX2lkfSkucG9wdWxhdGUoXCJ2YXJpZWRhZFwiKS5wb3B1bGF0ZSh7XHJcbiAgICAgICAgICAgICAgICBwYXRoOiBcInByb2R1Y3RcIixcclxuICAgICAgICAgICAgICAgIHBvcHVsYXRlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogXCJjYXRlZ29yaWFcIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIGNhcnQ6IHJlc291cmNlLkNhcnQuY2FydF9saXN0KE5FV19DQVJUKSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VfdGV4dDogXCJFTCBDQVJSSVRPIFNFIEFDVFVBTElaTyBDT04gRVhJVE9cIixcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOlwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBkZWxldGU6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBfaWQgPSByZXEucGFyYW1zLmlkO1xyXG4gICAgICAgICAgICBsZXQgQ0FSVCA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IF9pZH0pO1xyXG5cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIENBUlJJVE8gU0UgRUxJTUlOTyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6XCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGFwcGx5Q3Vwb246YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBkYXRhID0gcmVxLmJvZHk7XHJcbiAgICAgICAgICAgIC8vIExBIFBSSU1FUkEgVkFMSURBQ0nDk04gVElFTkUgUVVFIFZFUiBDT04gTEEgRVhJU1RFTkNJQSBERUwgQ1VQT05cclxuICAgICAgICAgICAgbGV0IENVUE9OID0gYXdhaXQgbW9kZWxzLkN1cG9uZS5maW5kT25lKHtcclxuICAgICAgICAgICAgICAgIGNvZGU6IGRhdGEuY29kZSxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgaWYoIUNVUE9OKXtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiA0MDMsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZV90ZXh0OiBcIkVMIENVUE9OIElOR1JFU0FETyBOTyBFWElTVEUsIERJR0lURSBPVFJPIE5VRVZBTUVOVEVcIlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gVElFTkUgQ09OIEVMIFVTTyBERUwgQ1VQT04gLS0gRVNQRVJBIFxyXG5cclxuICAgICAgICAgICAgLy9sYSBwYXJ0ZSBvcGVyYXRpdmFcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBjYXJ0cyA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmQoe3VzZXI6IGRhdGEudXNlcl9pZH0pLnBvcHVsYXRlKFwicHJvZHVjdFwiKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coY2FydHMpO1xyXG4gICAgICAgICAgICBsZXQgcHJvZHVjdHMgPSBbXTtcclxuICAgICAgICAgICAgbGV0IGNhdGVnb3JpYXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIENVUE9OLnByb2R1Y3RzLmZvckVhY2goKHByb2R1Y3QpID0+IHtcclxuICAgICAgICAgICAgICAgIHByb2R1Y3RzLnB1c2gocHJvZHVjdC5faWQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy9bODM3MzczLjgzODM4M11cclxuICAgICAgICAgICAgLy9be19pZDogODM3MzczfSx7X2lkOiA4MzgzODN9XS5pbmNsdWRlc1xyXG4gICAgICAgICAgICBDVVBPTi5jYXRlZ29yaWFzLmZvckVhY2goKGNhdGVnb3JpYSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2F0ZWdvcmlhcy5wdXNoKGNhdGVnb3JpYS5faWQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocHJvZHVjdHMpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjYXRlZ29yaWFzKTtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBjYXJ0IG9mIGNhcnRzKSB7XHJcbiAgICAgICAgICAgICAgICBpZihwcm9kdWN0cy5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihwcm9kdWN0cy5pbmNsdWRlcyhjYXJ0LnByb2R1Y3QuX2lkK1wiXCIpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHN1YnRvdGFsID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRvdGFsID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoQ1VQT04udHlwZV9kaXNjb3VudCA9PSAxKXsvL1BPUkNFTlRBSkVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRvdGFsID0gY2FydC5wcmljZV91bml0YXJpbyAtIGNhcnQucHJpY2VfdW5pdGFyaW8qKENVUE9OLmRpc2NvdW50KjAuMDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsvL1BPUiBNT05FREFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRvdGFsID0gY2FydC5wcmljZV91bml0YXJpbyAtIENVUE9OLmRpc2NvdW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsID0gc3VidG90YWwgKiBjYXJ0LmNhbnRpZGFkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgbW9kZWxzLkNhcnQuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogY2FydC5faWR9LHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRvdGFsOiBzdWJ0b3RhbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsOiB0b3RhbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVfZGlzY291bnQ6IENVUE9OLnR5cGVfZGlzY291bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNjb3VudDogQ1VQT04uZGlzY291bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlX2N1cG9uOiBDVVBPTi5jb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZihjYXRlZ29yaWFzLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKGNhdGVnb3JpYXMuaW5jbHVkZXMoY2FydC5wcm9kdWN0LmNhdGVnb3JpYStcIlwiKSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzdWJ0b3RhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0b3RhbCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKENVUE9OLnR5cGVfZGlzY291bnQgPT0gMSl7Ly9QT1JDRU5UQUpFXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0b3RhbCA9IGNhcnQucHJpY2VfdW5pdGFyaW8gLSBjYXJ0LnByaWNlX3VuaXRhcmlvKihDVVBPTi5kaXNjb3VudCowLjAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7Ly9QT1IgTU9ORURBXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0b3RhbCA9IGNhcnQucHJpY2VfdW5pdGFyaW8gLSBDVVBPTi5kaXNjb3VudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbCA9IHN1YnRvdGFsICogY2FydC5jYW50aWRhZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IG1vZGVscy5DYXJ0LmZpbmRCeUlkQW5kVXBkYXRlKHtfaWQ6IGNhcnQuX2lkfSx7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0b3RhbDogc3VidG90YWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbDogdG90YWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlX2Rpc2NvdW50OiBDVVBPTi50eXBlX2Rpc2NvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzY291bnQ6IENVUE9OLmRpc2NvdW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZV9jdXBvbjogQ1VQT04uY29kZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAyMDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlX3RleHQ6IFwiRUwgQ1VQT04gU0UgQVBMSUNBRE8gQ09SUkVDVEFNRU5URVwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOlwiT0NVUlJJTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOyBcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxPQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBbUMsU0FBQUQsdUJBQUFHLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFBQSxJQUFBRyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUYsT0FBQSxHQUNwQjtFQUNYRyxJQUFJLEVBQUMsTUFBQUEsQ0FBTUMsR0FBRyxFQUFDQyxHQUFHLEtBQUs7SUFDbkIsSUFBSTtNQUNBLElBQUlDLE9BQU8sR0FBR0YsR0FBRyxDQUFDRyxLQUFLLENBQUNELE9BQU87TUFDL0IsSUFBSUUsS0FBSyxHQUFHLE1BQU1DLGVBQU0sQ0FBQ0MsSUFBSSxDQUFDQyxJQUFJLENBQUM7UUFDL0JDLElBQUksRUFBRU47TUFDVixDQUFDLENBQUMsQ0FBQ08sUUFBUSxDQUFDLFVBQVUsQ0FBQyxDQUFDQSxRQUFRLENBQUM7UUFDN0JDLElBQUksRUFBRSxTQUFTO1FBQ2ZELFFBQVEsRUFBRTtVQUNOQyxJQUFJLEVBQUU7UUFDVjtNQUNKLENBQUMsQ0FBQztNQUVGTixLQUFLLEdBQUdBLEtBQUssQ0FBQ08sR0FBRyxDQUFFQyxJQUFJLElBQUs7UUFDeEIsT0FBT0Msa0JBQVEsQ0FBQ1AsSUFBSSxDQUFDUSxTQUFTLENBQUNGLElBQUksQ0FBQztNQUN4QyxDQUFDLENBQUM7TUFFRlgsR0FBRyxDQUFDYyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUNqQkMsS0FBSyxFQUFFYjtNQUNYLENBQUMsQ0FBQztJQUNOLENBQUMsQ0FB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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_resources","obj","__esModule","default","_default","exports","list","req","res","user_id","query","CARTS","models","Cart","find","user","populate","path","map","cart","resource","cart_list","status","json","carts","error","send","message","console","log","register","data","body","variedad","valid_cart","findOne","product","message_text","valid_variedad","Variedad","_id","stock","cantidad","valid_product","Product","CART","create","NEW_CART","findById","update","findByIdAndUpdate","delete","params","id","findByIdAndDelete","applyCupon","CUPON","Cupone","code","products","categorias","forEach","push","categoria","length","includes","subtotal","total","type_discount","price_unitario","discount","code_cupon"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\controllers\\","sources":["CartController.js"],"sourcesContent":["import models from '../models'\r\nimport resource from '../resources'\r\nexport default {\r\n    list:async(req,res) => {\r\n        try {\r\n            let user_id = req.query.user_id;\r\n            let CARTS = await models.Cart.find({\r\n                user: user_id,\r\n            }).populate(\"variedad\").populate({\r\n                path: \"product\",\r\n                populate: {\r\n                    path: \"categoria\"\r\n                },\r\n            });\r\n\r\n            CARTS = CARTS.map((cart) => {\r\n                return resource.Cart.cart_list(cart);\r\n            });\r\n\r\n            res.status(200).json({\r\n                carts: CARTS,\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    register:async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            //PRIMERO VAMOS A VALIDAR SI EL PRODUCTO EXISTE EN EL CARRITO DE COMPRA\r\n            if(data.variedad){\r\n                let valid_cart = await models.Cart.findOne({\r\n                    user: data.user,\r\n                    variedad: data.variedad,\r\n                    product: data.product,\r\n                });\r\n                if(valid_cart){\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL PRODUCTO CON LA VARIEDAD YA EXISTE EN EL CARRITO DE COMPRA\",\r\n                    })\r\n                    return;\r\n                }\r\n            }else{\r\n                let valid_cart = await models.Cart.findOne({\r\n                    user: data.user,\r\n                    product: data.product,\r\n                });\r\n                if(valid_cart){\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL PRODUCTO YA EXISTE EN EL CARRITO DE COMPRA\",\r\n                    })\r\n                    return;\r\n                }\r\n            }\r\n\r\n            //SEGUNDO VAMOS A VALIDAR SI EL STOCK ESTA DISPONIBLE\r\n\r\n            if(data.variedad){\r\n                let valid_variedad = await models.Variedad.findOne({\r\n                    _id: data.variedad,\r\n                });\r\n                if(valid_variedad.stock < data.cantidad){\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL STOCK NO ESTA DISPONIBLE\"\r\n                    })\r\n                    return;\r\n                }\r\n            }else{\r\n                let valid_product = await models.Product.findOne({\r\n                    _id: data.product,\r\n                });\r\n                if(valid_product.stock < data.cantidad){\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL STOCK NO ESTA DISPONIBLE\"\r\n                    });\r\n                    return;\r\n                }\r\n            }\r\n            let CART = await models.Cart.create(data);\r\n            \r\n            let NEW_CART = await models.Cart.findById({_id: CART._id}).populate(\"variedad\").populate({\r\n                path: \"product\",\r\n                populate: {\r\n                    path: \"categoria\"\r\n                },\r\n            });\r\n            res.status(200).json({\r\n                cart: resource.Cart.cart_list(NEW_CART),\r\n                message_text: \"EL CARRITO SE REGISTRO CON EXITO\",\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    update:async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n\r\n            //SEGUNDO VAMOS A VALIDAR SI EL STOCK ESTA DISPONIBLE\r\n\r\n            if(data.variedad){\r\n                let valid_variedad = await models.Variedad.findOne({\r\n                    _id: data.variedad,\r\n                });\r\n                if(valid_variedad.stock < data.cantidad){\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL STOCK NO ESTA DISPONIBLE\"\r\n                    })\r\n                    return;\r\n                }\r\n            }else{\r\n                let valid_product = await models.Product.findOne({\r\n                    _id: data.product,\r\n                });\r\n                if(valid_product.stock < data.cantidad){\r\n                    res.status(200).json({\r\n                        message: 403,\r\n                        message_text: \"EL STOCK NO ESTA DISPONIBLE\"\r\n                    });\r\n                    return;\r\n                }\r\n            }\r\n            let CART = await models.Cart.findByIdAndUpdate({_id: data._id},data);\r\n            \r\n            let NEW_CART = await models.Cart.findById({_id: CART._id}).populate(\"variedad\").populate({\r\n                path: \"product\",\r\n                populate: {\r\n                    path: \"categoria\"\r\n                },\r\n            });\r\n            res.status(200).json({\r\n                cart: resource.Cart.cart_list(NEW_CART),\r\n                message_text: \"EL CARRITO SE ACTUALIZO CON EXITO\",\r\n            })\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    delete:async(req,res) => {\r\n        try {\r\n            let _id = req.params.id;\r\n            let CART = await models.Cart.findByIdAndDelete({_id: _id});\r\n\r\n            res.status(200).json({\r\n                message_text: \"EL CARRITO SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error);\r\n        }\r\n    },\r\n    applyCupon:async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            // LA PRIMERA VALIDACIÓN TIENE QUE VER CON LA EXISTENCIA DEL CUPON\r\n            let CUPON = await models.Cupone.findOne({\r\n                code: data.code,\r\n            })\r\n            if(!CUPON){\r\n                res.status(200).json({\r\n                    message: 403,\r\n                    message_text: \"EL CUPON INGRESADO NO EXISTE, DIGITE OTRO NUEVAMENTE\"\r\n                });\r\n                return;\r\n            }\r\n            // TIENE CON EL USO DEL CUPON -- ESPERA \r\n\r\n            //la parte operativa\r\n            \r\n            let carts = await models.Cart.find({user: data.user_id}).populate(\"product\");\r\n            console.log(carts);\r\n            let products = [];\r\n            let categorias = [];\r\n\r\n            CUPON.products.forEach((product) => {\r\n                products.push(product._id);\r\n            });\r\n            //[837373.838383]\r\n            //[{_id: 837373},{_id: 838383}].includes\r\n            CUPON.categorias.forEach((categoria) => {\r\n                categorias.push(categoria._id);\r\n            });\r\n            console.log(products);\r\n            console.log(categorias);\r\n            for (const cart of carts) {\r\n                if(products.length > 0){\r\n                    if(products.includes(cart.product._id+\"\")){\r\n                        let subtotal = 0;\r\n                        let total = 0;\r\n                        if(CUPON.type_discount == 1){//PORCENTAJE\r\n                            subtotal = cart.price_unitario - cart.price_unitario*(CUPON.discount*0.01);\r\n                        }else{//POR MONEDA\r\n                            subtotal = cart.price_unitario - CUPON.discount;\r\n                        }\r\n                        total = subtotal * cart.cantidad;\r\n\r\n                        await models.Cart.findByIdAndUpdate({_id: cart._id},{\r\n                            subtotal: subtotal,\r\n                            total: total,\r\n                            type_discount: CUPON.type_discount,\r\n                            discount: CUPON.discount,\r\n                            code_cupon: CUPON.code,\r\n                        });\r\n                    }\r\n                }\r\n                if(categorias.length > 0){\r\n                    if(categorias.includes(cart.product.categoria+\"\")){\r\n                        let subtotal = 0;\r\n                        let total = 0;\r\n                        if(CUPON.type_discount == 1){//PORCENTAJE\r\n                            subtotal = cart.price_unitario - cart.price_unitario*(CUPON.discount*0.01);\r\n                        }else{//POR MONEDA\r\n                            subtotal = cart.price_unitario - CUPON.discount;\r\n                        }\r\n                        total = subtotal * cart.cantidad;\r\n\r\n                        await models.Cart.findByIdAndUpdate({_id: cart._id},{\r\n                            subtotal: subtotal,\r\n                            total: total,\r\n                            type_discount: CUPON.type_discount,\r\n                            discount: CUPON.discount,\r\n                            code_cupon: CUPON.code,\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n\r\n            res.status(200).json({\r\n                message: 200,\r\n                message_text: \"EL CUPON SE APLICADO CORRECTAMENTE\",\r\n            });\r\n        } catch (error) {\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n            console.log(error); \r\n        }\r\n    },\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1717991041333},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\Cart.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst CartSchema = new _mongoose.Schema({\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  type_discount: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es por porcentaje y 2 es por moneda\n  discount: {\n    type: Number,\n    default: 0\n  },\n  //50%\n  cantidad: {\n    type: Number,\n    required: true\n  },\n  //2\n  variedad: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'variedad',\n    required: false\n  },\n  code_cupon: {\n    type: String,\n    required: false\n  },\n  code_discount: {\n    type: String,\n    required: false\n  },\n  price_unitario: {\n    type: Number,\n    required: true\n  },\n  //60\n  subtotal: {\n    type: Number,\n    required: true\n  },\n  //30\n  total: {\n    type: Number,\n    required: true\n  } //60\n}, {\n  timestamps: true\n});\nconst Cart = _mongoose.default.model(\"cart\", CartSchema);\nvar _default = exports.default = Cart;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJDYXJ0U2NoZW1hIiwiU2NoZW1hIiwidXNlciIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwicHJvZHVjdCIsInR5cGVfZGlzY291bnQiLCJOdW1iZXIiLCJkaXNjb3VudCIsImNhbnRpZGFkIiwidmFyaWVkYWQiLCJjb2RlX2N1cG9uIiwiU3RyaW5nIiwiY29kZV9kaXNjb3VudCIsInByaWNlX3VuaXRhcmlvIiwic3VidG90YWwiLCJ0b3RhbCIsInRpbWVzdGFtcHMiLCJDYXJ0IiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxud29ybFxcRXNjcml0b3Jpb1xcUHJvZ3JhbWFjacOzblxcRWNvbW1lcmNlU29saXRla1xcYXBpX2Vjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIkNhcnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLCB7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IENhcnRTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIHVzZXI6IHt0eXBlOiBTY2hlbWEuT2JqZWN0SWQscmVmOiAndXNlcicscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBwcm9kdWN0OiB7dHlwZTogU2NoZW1hLk9iamVjdElkLCByZWY6ICdwcm9kdWN0JyxyZXF1aXJlZDp0cnVlfSxcclxuICAgIHR5cGVfZGlzY291bnQ6IHt0eXBlOk51bWJlcixyZXF1aXJlZDpmYWxzZSxkZWZhdWx0OiAxfSwvLzEgZXMgcG9yIHBvcmNlbnRhamUgeSAyIGVzIHBvciBtb25lZGFcclxuICAgIGRpc2NvdW50Ont0eXBlOk51bWJlcixkZWZhdWx0OiAwfSwvLzUwJVxyXG4gICAgY2FudGlkYWQ6IHt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSwvLzJcclxuICAgIHZhcmllZGFkOiB7dHlwZTpTY2hlbWEuT2JqZWN0SWQsIHJlZjogJ3ZhcmllZGFkJywgcmVxdWlyZWQ6IGZhbHNlfSxcclxuICAgIGNvZGVfY3Vwb246IHt0eXBlOlN0cmluZyxyZXF1aXJlZDpmYWxzZX0sXHJcbiAgICBjb2RlX2Rpc2NvdW50OiB7dHlwZTpTdHJpbmcscmVxdWlyZWQ6ZmFsc2V9LFxyXG4gICAgcHJpY2VfdW5pdGFyaW86IHt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSwvLzYwXHJcbiAgICBzdWJ0b3RhbDoge3R5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWV9LC8vMzBcclxuICAgIHRvdGFsOiB7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZX0sLy82MFxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6dHJ1ZVxyXG59KTtcclxuXHJcbmNvbnN0IENhcnQgPSBtb25nb29zZS5tb2RlbChcImNhcnRcIixDYXJ0U2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgQ2FydDsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUEwQyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","CartSchema","Schema","user","type","ObjectId","ref","required","product","type_discount","Number","discount","cantidad","variedad","code_cupon","String","code_discount","price_unitario","subtotal","total","timestamps","Cart","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\models\\","sources":["Cart.js"],"sourcesContent":["import mongoose, {Schema} from \"mongoose\";\r\n\r\nconst CartSchema = new Schema({\r\n    user: {type: Schema.ObjectId,ref: 'user',required:true},\r\n    product: {type: Schema.ObjectId, ref: 'product',required:true},\r\n    type_discount: {type:Number,required:false,default: 1},//1 es por porcentaje y 2 es por moneda\r\n    discount:{type:Number,default: 0},//50%\r\n    cantidad: {type:Number,required:true},//2\r\n    variedad: {type:Schema.ObjectId, ref: 'variedad', required: false},\r\n    code_cupon: {type:String,required:false},\r\n    code_discount: {type:String,required:false},\r\n    price_unitario: {type:Number,required:true},//60\r\n    subtotal: {type:Number,required:true},//30\r\n    total: {type:Number,required:true},//60\r\n},{\r\n    timestamps:true\r\n});\r\n\r\nconst Cart = mongoose.model(\"cart\",CartSchema);\r\nexport default Cart;"],"mappings":"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","ignoreList":[]}},"mtime":1718154563761},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\Sale.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst SaleSchema = new _mongoose.Schema({\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  currency_payment: {\n    type: String,\n    default: 'USD'\n  },\n  method_payment: {\n    type: String,\n    maxlength: 50,\n    required: true\n  },\n  n_transacccion: {\n    type: String,\n    maxlength: 200,\n    required: true\n  },\n  total: {\n    type: Number,\n    required: true\n  },\n  // \n  currency_total: {\n    type: String,\n    maxlength: 50,\n    default: 'USD'\n  },\n  price_dolar: {\n    type: Number,\n    default: 0\n  }\n}, {\n  timestamps: true\n});\nconst Sale = _mongoose.default.model(\"sale\", SaleSchema);\nvar _default = exports.default = Sale;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJTYWxlU2NoZW1hIiwiU2NoZW1hIiwidXNlciIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwiY3VycmVuY3lfcGF5bWVudCIsIlN0cmluZyIsIm1ldGhvZF9wYXltZW50IiwibWF4bGVuZ3RoIiwibl90cmFuc2FjY2Npb24iLCJ0b3RhbCIsIk51bWJlciIsImN1cnJlbmN5X3RvdGFsIiwicHJpY2VfZG9sYXIiLCJ0aW1lc3RhbXBzIiwiU2FsZSIsIm1vbmdvb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbndvcmxcXEVzY3JpdG9yaW9cXFByb2dyYW1hY2nDs25cXEVjb21tZXJjZVNvbGl0ZWtcXGFwaV9lY29tbWVyY2VcXG1vZGVsc1xcIiwic291cmNlcyI6WyJTYWxlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IFNhbGVTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIHVzZXI6e3R5cGU6IFNjaGVtYS5PYmplY3RJZCxyZWY6J3VzZXInLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgY3VycmVuY3lfcGF5bWVudDp7dHlwZTogU3RyaW5nLGRlZmF1bHQ6ICdVU0QnfSxcclxuICAgIG1ldGhvZF9wYXltZW50Ont0eXBlOlN0cmluZyxtYXhsZW5ndGg6IDUwLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgbl90cmFuc2FjY2Npb246IHt0eXBlOlN0cmluZyxtYXhsZW5ndGg6IDIwMCxyZXF1aXJlZDp0cnVlfSxcclxuICAgIHRvdGFsOnt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSxcclxuICAgIC8vIFxyXG4gICAgY3VycmVuY3lfdG90YWw6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDogNTAsIGRlZmF1bHQ6ICdVU0QnfSxcclxuICAgIHByaWNlX2RvbGFyOnt0eXBlOk51bWJlcixkZWZhdWx0OiAwfSxcclxufSx7XHJcbiAgICB0aW1lc3RhbXBzOiB0cnVlLFxyXG59KTtcclxuXHJcbmNvbnN0IFNhbGUgPSBtb25nb29zZS5tb2RlbChcInNhbGVcIixTYWxlU2NoZW1hKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNhbGU7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBeUMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxLQUFBRixDQUFBO0FBQUEsU0FBQUgsd0JBQUFHLENBQUEsRUFBQUUsQ0FBQSxTQUFBQSxDQUFBLElBQUFGLENBQUEsSUFBQUEsQ0FBQSxDQUFBSSxVQUFBLFNBQUFKLENBQUEsZUFBQUEsQ0FBQSx1QkFBQUEsQ0FBQSx5QkFBQUEsQ0FBQSxXQUFBSyxPQUFBLEVBQUFMLENBQUEsUUFBQUcsQ0FBQSxHQUFBSix3QkFBQSxDQUFBRyxDQUFBLE9BQUFDLENBQUEsSUFBQUEsQ0FBQSxDQUFBRyxHQUFBLENBQUFOLENBQUEsVUFBQUcsQ0FBQSxDQUFBSSxHQUFBLENBQUFQLENBQUEsT0FBQVEsQ0FBQSxLQUFBQyxTQUFBLFVBQUFDLENBQUEsR0FBQUMsTUFBQSxDQUFBQyxjQUFBLElBQUFELE1BQUEsQ0FBQUUsd0JBQUEsV0FBQUMsQ0FBQSxJQUFBZCxDQUFBLG9CQUFBYyxDQUFBLE9BQUFDLGNBQUEsQ0FBQUMsSUFBQSxDQUFBaEIsQ0FBQSxFQUFBYyxDQUFBLFNBQUFHLENBQUEsR0FBQVAsQ0FBQSxHQUFBQyxNQUFBLENBQUFFLHdCQUFBLENBQUFiLENBQUEsRUFBQWMsQ0FBQSxVQUFBRyxDQUFBLEtBQUFBLENBQUEsQ0FBQVYsR0FBQSxJQUFBVSxDQUFBLENBQUFDLEdBQUEsSUFBQVAsTUFBQSxDQUFBQyxjQUFBLENBQUFKLENBQUEsRUFBQU0sQ0FBQSxFQUFBRyxDQUFBLElBQUFULENBQUEsQ0FBQU0sQ0FBQSxJQUFBZCxDQUFBLENBQUFjLENBQUEsWUFBQU4sQ0FBQSxDQUFBSCxPQUFBLEdBQUFMLENBQUEsRUFBQUcsQ0FBQSxJQUFBQSxDQUFBLENBQUFlLEdBQUEsQ0FBQWxCLENBQUEsRUFBQVEsQ0FBQSxHQUFBQSxDQUFBO0FBRXpDLE1BQU1XLFVBQVUsR0FBRyxJQUFJQyxnQkFBTSxDQUFDO0VBQzFCQyxJQUFJLEVBQUM7SUFBQ0MsSUFBSSxFQUFFRixnQkFBTSxDQUFDRyxRQUFRO0lBQUNDLEdBQUcsRUFBQyxNQUFNO0lBQUNDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDckRDLGdCQUFnQixFQUFDO0lBQUNKLElBQUksRUFBRUssTUFBTTtJQUFDdEIsT0FBTyxFQUFFO0VBQUssQ0FBQztFQUM5Q3VCLGNBQWMsRUFBQztJQUFDTixJQUFJLEVBQUNLLE1BQU07SUFBQ0UsU0FBUyxFQUFFLEVBQUU7SUFBQ0osUUFBUSxFQUFDO0VBQUksQ0FBQztFQUN4REssY0FBYyxFQUFFO0lBQUNSLElBQUksRUFBQ0ssTUFBTTtJQUFDRSxTQUFTLEVBQUUsR0FBRztJQUFDSixRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQzFETSxLQUFLLEVBQUM7SUFBQ1QsSUFBSSxFQUFDVSxNQUFNO0lBQUNQLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDakM7RUFDQVEsY0FBYyxFQUFFO0lBQUNYLElBQUksRUFBRUssTUFBTTtJQUFFRSxTQUFTLEVBQUUsRUFBRTtJQUFFeEIsT0FBTyxFQUFFO0VBQUssQ0FBQztFQUM3RDZCLFdBQVcsRUFBQztJQUFDWixJQUFJLEVBQUNVLE1BQU07SUFBQzNCLE9BQU8sRUFBRTtFQUFDO0FBQ3ZDLENBQUMsRUFBQztFQUNFOEIsVUFBVSxFQUFFO0FBQ2hCLENBQUMsQ0FBQztBQUVGLE1BQU1DLElBQUksR0FBR0MsaUJBQVEsQ0FBQ0MsS0FBSyxDQUFDLE1BQU0sRUFBQ25CLFVBQVUsQ0FBQztBQUFDLElBQUFvQixRQUFBLEdBQUFDLE9BQUEsQ0FBQW5DLE9BQUEsR0FFaEMrQixJQUFJIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","SaleSchema","Schema","user","type","ObjectId","ref","required","currency_payment","String","method_payment","maxlength","n_transacccion","total","Number","currency_total","price_dolar","timestamps","Sale","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\models\\","sources":["Sale.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst SaleSchema = new Schema({\r\n    user:{type: Schema.ObjectId,ref:'user',required:true},\r\n    currency_payment:{type: String,default: 'USD'},\r\n    method_payment:{type:String,maxlength: 50,required:true},\r\n    n_transacccion: {type:String,maxlength: 200,required:true},\r\n    total:{type:Number,required:true},\r\n    // \r\n    currency_total: {type: String, maxlength: 50, default: 'USD'},\r\n    price_dolar:{type:Number,default: 0},\r\n},{\r\n    timestamps: true,\r\n});\r\n\r\nconst Sale = mongoose.model(\"sale\",SaleSchema);\r\n\r\nexport default Sale;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC1BC,IAAI,EAAC;IAACC,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EACrDC,gBAAgB,EAAC;IAACJ,IAAI,EAAEK,MAAM;IAACtB,OAAO,EAAE;EAAK,CAAC;EAC9CuB,cAAc,EAAC;IAACN,IAAI,EAACK,MAAM;IAACE,SAAS,EAAE,EAAE;IAACJ,QAAQ,EAAC;EAAI,CAAC;EACxDK,cAAc,EAAE;IAACR,IAAI,EAACK,MAAM;IAACE,SAAS,EAAE,GAAG;IAACJ,QAAQ,EAAC;EAAI,CAAC;EAC1DM,KAAK,EAAC;IAACT,IAAI,EAACU,MAAM;IAACP,QAAQ,EAAC;EAAI,CAAC;EACjC;EACAQ,cAAc,EAAE;IAACX,IAAI,EAAEK,MAAM;IAAEE,SAAS,EAAE,EAAE;IAAExB,OAAO,EAAE;EAAK,CAAC;EAC7D6B,WAAW,EAAC;IAACZ,IAAI,EAACU,MAAM;IAAC3B,OAAO,EAAE;EAAC;AACvC,CAAC,EAAC;EACE8B,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAACnB,UAAU,CAAC;AAAC,IAAAoB,QAAA,GAAAC,OAAA,CAAAnC,OAAA,GAEhC+B,IAAI","ignoreList":[]}},"mtime":1718038405803},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\SaleDetail.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst SaleDetailSchema = new _mongoose.Schema({\n  sale: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'sale',\n    required: true\n  },\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  type_discount: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es por porcentaje y 2 es por moneda\n  discount: {\n    type: Number,\n    default: 0\n  },\n  //50%\n  cantidad: {\n    type: Number,\n    required: true\n  },\n  //2\n  variedad: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'variedad',\n    required: false\n  },\n  code_cupon: {\n    type: String,\n    required: false\n  },\n  code_discount: {\n    type: String,\n    required: false\n  },\n  price_unitario: {\n    type: Number,\n    required: true\n  },\n  //60\n  subtotal: {\n    type: Number,\n    required: true\n  },\n  //30\n  total: {\n    type: Number,\n    required: true\n  } //60\n}, {\n  timestamps: true\n});\nconst SaleDetail = _mongoose.default.model(\"sale_detail\", SaleDetailSchema);\nvar _default = exports.default = SaleDetail;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJTYWxlRGV0YWlsU2NoZW1hIiwiU2NoZW1hIiwic2FsZSIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwicHJvZHVjdCIsInR5cGVfZGlzY291bnQiLCJOdW1iZXIiLCJkaXNjb3VudCIsImNhbnRpZGFkIiwidmFyaWVkYWQiLCJjb2RlX2N1cG9uIiwiU3RyaW5nIiwiY29kZV9kaXNjb3VudCIsInByaWNlX3VuaXRhcmlvIiwic3VidG90YWwiLCJ0b3RhbCIsInRpbWVzdGFtcHMiLCJTYWxlRGV0YWlsIiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxud29ybFxcRXNjcml0b3Jpb1xcUHJvZ3JhbWFjacOzblxcRWNvbW1lcmNlU29saXRla1xcYXBpX2Vjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIlNhbGVEZXRhaWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuY29uc3QgU2FsZURldGFpbFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgc2FsZToge3R5cGU6IFNjaGVtYS5PYmplY3RJZCxyZWY6ICdzYWxlJyxyZXF1aXJlZDp0cnVlfSxcclxuICAgIHByb2R1Y3Q6IHt0eXBlOiBTY2hlbWEuT2JqZWN0SWQsIHJlZjogJ3Byb2R1Y3QnLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgdHlwZV9kaXNjb3VudDoge3R5cGU6TnVtYmVyLHJlcXVpcmVkOmZhbHNlLGRlZmF1bHQ6IDF9LC8vMSBlcyBwb3IgcG9yY2VudGFqZSB5IDIgZXMgcG9yIG1vbmVkYVxyXG4gICAgZGlzY291bnQ6e3R5cGU6TnVtYmVyLGRlZmF1bHQ6IDB9LC8vNTAlXHJcbiAgICBjYW50aWRhZDoge3R5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWV9LC8vMlxyXG4gICAgdmFyaWVkYWQ6IHt0eXBlOlNjaGVtYS5PYmplY3RJZCwgcmVmOiAndmFyaWVkYWQnLCByZXF1aXJlZDogZmFsc2V9LFxyXG4gICAgY29kZV9jdXBvbjoge3R5cGU6U3RyaW5nLHJlcXVpcmVkOmZhbHNlfSxcclxuICAgIGNvZGVfZGlzY291bnQ6IHt0eXBlOlN0cmluZyxyZXF1aXJlZDpmYWxzZX0sXHJcbiAgICBwcmljZV91bml0YXJpbzoge3R5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWV9LC8vNjBcclxuICAgIHN1YnRvdGFsOiB7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZX0sLy8zMFxyXG4gICAgdG90YWw6IHt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSwvLzYwXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczp0cnVlLFxyXG59KTtcclxuXHJcbmNvbnN0IFNhbGVEZXRhaWwgPSBtb25nb29zZS5tb2RlbChcInNhbGVfZGV0YWlsXCIsU2FsZURldGFpbFNjaGVtYSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTYWxlRGV0YWlsOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQXlDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYs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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","SaleDetailSchema","Schema","sale","type","ObjectId","ref","required","product","type_discount","Number","discount","cantidad","variedad","code_cupon","String","code_discount","price_unitario","subtotal","total","timestamps","SaleDetail","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\models\\","sources":["SaleDetail.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst SaleDetailSchema = new Schema({\r\n    sale: {type: Schema.ObjectId,ref: 'sale',required:true},\r\n    product: {type: Schema.ObjectId, ref: 'product',required:true},\r\n    type_discount: {type:Number,required:false,default: 1},//1 es por porcentaje y 2 es por moneda\r\n    discount:{type:Number,default: 0},//50%\r\n    cantidad: {type:Number,required:true},//2\r\n    variedad: {type:Schema.ObjectId, ref: 'variedad', required: false},\r\n    code_cupon: {type:String,required:false},\r\n    code_discount: {type:String,required:false},\r\n    price_unitario: {type:Number,required:true},//60\r\n    subtotal: {type:Number,required:true},//30\r\n    total: {type:Number,required:true},//60\r\n},{\r\n    timestamps:true,\r\n});\r\n\r\nconst SaleDetail = mongoose.model(\"sale_detail\",SaleDetailSchema);\r\n\r\nexport default SaleDetail;"],"mappings":"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","ignoreList":[]}},"mtime":1718038096723},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\SaleAddress.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst SaleAddressSchema = new _mongoose.Schema({\n  sale: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'sale',\n    required: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  pais: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  address: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  referencia: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  ciudad: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  region: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  telefono: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  nota: {\n    type: String,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst SaleAddress = _mongoose.default.model(\"sale_address\", SaleAddressSchema);\nvar _default = exports.default = SaleAddress;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJTYWxlQWRkcmVzc1NjaGVtYSIsIlNjaGVtYSIsInNhbGUiLCJ0eXBlIiwiT2JqZWN0SWQiLCJyZWYiLCJyZXF1aXJlZCIsIm5hbWUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJzdXJuYW1lIiwicGFpcyIsImFkZHJlc3MiLCJyZWZlcmVuY2lhIiwiY2l1ZGFkIiwicmVnaW9uIiwidGVsZWZvbm8iLCJlbWFpbCIsIm5vdGEiLCJ0aW1lc3RhbXBzIiwiU2FsZUFkZHJlc3MiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiU2FsZUFkZHJlc3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuY29uc3QgU2FsZUFkZHJlc3NTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIHNhbGU6e3R5cGU6U2NoZW1hLk9iamVjdElkLHJlZjogJ3NhbGUnLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgbmFtZTp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoIDogMjUwLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgc3VybmFtZTp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoIDogMjUwLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgcGFpczp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgYWRkcmVzczp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgcmVmZXJlbmNpYTp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOmZhbHNlfSxcclxuICAgIGNpdWRhZDp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgcmVnaW9uOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICB0ZWxlZm9ubzp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgZW1haWw6e3R5cGU6U3RyaW5nLG1heGxlbmd0aDogMjUwLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIG5vdGE6e3R5cGU6U3RyaW5nLCByZXF1aXJlZDpmYWxzZX0sXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczogdHJ1ZVxyXG59KTtcclxuXHJcbmNvbnN0IFNhbGVBZGRyZXNzID0gbW9uZ29vc2UubW9kZWwoXCJzYWxlX2FkZHJlc3NcIixTYWxlQWRkcmVzc1NjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IFNhbGVBZGRyZXNzOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQXlDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYsQ0FBQTtBQUFBLFNBQUFILHdCQUFBRyxDQUFBLEVBQUFFLENBQUEsU0FBQUEsQ0FB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","SaleAddressSchema","Schema","sale","type","ObjectId","ref","required","name","String","maxlength","surname","pais","address","referencia","ciudad","region","telefono","email","nota","timestamps","SaleAddress","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\models\\","sources":["SaleAddress.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst SaleAddressSchema = new Schema({\r\n    sale:{type:Schema.ObjectId,ref: 'sale',required:true},\r\n    name:{type:String,maxlength : 250,required:true},\r\n    surname:{type:String,maxlength : 250,required:true},\r\n    pais:{type:String,maxlength: 250, required:true},\r\n    address:{type:String,maxlength: 250, required:true},\r\n    referencia:{type:String,maxlength: 250, required:false},\r\n    ciudad:{type:String,maxlength: 250, required:true},\r\n    region:{type:String,maxlength: 250, required:true},\r\n    telefono:{type:String,maxlength: 250, required:true},\r\n    email:{type:String,maxlength: 250, required:true},\r\n    nota:{type:String, required:false},\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst SaleAddress = mongoose.model(\"sale_address\",SaleAddressSchema);\r\nexport default SaleAddress;"],"mappings":"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","ignoreList":[]}},"mtime":1718038094014},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\Review.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst ReviewSchema = new _mongoose.Schema({\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  sale_detail: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'sale_detail',\n    required: true\n  },\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  cantidad: {\n    type: Number,\n    maxlength: 2,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst Review = _mongoose.default.model(\"review\", ReviewSchema);\nvar _default = exports.default = Review;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJSZXZpZXdTY2hlbWEiLCJTY2hlbWEiLCJwcm9kdWN0IiwidHlwZSIsIk9iamVjdElkIiwicmVmIiwicmVxdWlyZWQiLCJzYWxlX2RldGFpbCIsInVzZXIiLCJjYW50aWRhZCIsIk51bWJlciIsIm1heGxlbmd0aCIsImRlc2NyaXB0aW9uIiwiU3RyaW5nIiwidGltZXN0YW1wcyIsIlJldmlldyIsIm1vbmdvb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbndvcmxcXEVzY3JpdG9yaW9cXFByb2dyYW1hY2nDs25cXEVjb21tZXJjZVNvbGl0ZWtcXGFwaV9lY29tbWVyY2VcXG1vZGVsc1xcIiwic291cmNlcyI6WyJSZXZpZXcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuY29uc3QgUmV2aWV3U2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICBwcm9kdWN0Ont0eXBlOlNjaGVtYS5PYmplY3RJZCxyZWY6J3Byb2R1Y3QnLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgc2FsZV9kZXRhaWw6e3R5cGU6U2NoZW1hLk9iamVjdElkLHJlZjonc2FsZV9kZXRhaWwnLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIHVzZXI6e3R5cGU6U2NoZW1hLk9iamVjdElkLHJlZjondXNlcicsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgY2FudGlkYWQ6e3R5cGU6TnVtYmVyLG1heGxlbmd0aDoyLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgZGVzY3JpcHRpb246e3R5cGU6U3RyaW5nLHJlcXVpcmVkOnRydWV9LFxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6IHRydWVcclxufSk7XHJcblxyXG5jb25zdCBSZXZpZXcgPSBtb25nb29zZS5tb2RlbChcInJldmlld1wiLFJldmlld1NjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IFJldmlldzsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFBQUwsQ0FBQSxRQUFBRyxDQUFBLEdBQUFKLHdCQUFBLENBQUFHLENBQUEsT0FBQUMsQ0FBQSxJQUFBQSxDQUFBLENBQUFHLEdBQUEsQ0FBQU4sQ0FBQSxVQUFBRyxDQUFBLENBQUFJLEdBQUEsQ0FBQVAsQ0FBQSxPQUFBUSxDQUFBLEtBQUFDLFNBQUEsVUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxDQUFBLElBQUFkLENBQUEsb0JBQUFjLENBQUEsT0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFoQixDQUFBLEVBQUFjLENBQUEsU0FBQUcsQ0FBQSxHQUFBUCxDQUFBLEdBQUFDLE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQWIsQ0FBQSxFQUFBYyxDQUFBLFVBQUFHLENBQUEsS0FBQUEsQ0FBQSxDQUFBVixHQUFBLElBQUFVLENBQUEsQ0FBQUMsR0FBQSxJQUFBUCxNQUFBLENBQUFDLGNBQUEsQ0FBQUosQ0FBQSxFQUFBTSxDQUFBLEVBQUFHLENBQUEsSUFBQVQsQ0FBQSxDQUFBTSxDQUFBLElBQUFkLENBQUEsQ0FBQWMsQ0FBQSxZQUFBTixDQUFBLENBQUFILE9BQUEsR0FBQUwsQ0FBQSxFQUFBRyxDQUFBLElBQUFBLENBQUEsQ0FBQWUsR0FBQSxDQUFBbEIsQ0FBQSxFQUFBUSxDQUFBLEdBQUFBLENBQUE7QUFFekMsTUFBTVcsWUFBWSxHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDNUJDLE9BQU8sRUFBQztJQUFDQyxJQUFJLEVBQUNGLGdCQUFNLENBQUNHLFFBQVE7SUFBQ0MsR0FBRyxFQUFDLFNBQVM7SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUMxREMsV0FBVyxFQUFDO0lBQUNKLElBQUksRUFBQ0YsZ0JBQU0sQ0FBQ0csUUFBUTtJQUFDQyxHQUFHLEVBQUMsYUFBYTtJQUFFQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ25FRSxJQUFJLEVBQUM7SUFBQ0wsSUFBSSxFQUFDRixnQkFBTSxDQUFDRyxRQUFRO0lBQUNDLEdBQUcsRUFBQyxNQUFNO0lBQUVDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDckRHLFFBQVEsRUFBQztJQUFDTixJQUFJLEVBQUNPLE1BQU07SUFBQ0MsU0FBUyxFQUFDLENBQUM7SUFBQ0wsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNoRE0sV0FBVyxFQUFDO0lBQUNULElBQUksRUFBQ1UsTUFBTTtJQUFDUCxRQUFRLEVBQUM7RUFBSTtBQUMxQyxDQUFDLEVBQUM7RUFDRVEsVUFBVSxFQUFFO0FBQ2hCLENBQUMsQ0FBQztBQUVGLE1BQU1DLE1BQU0sR0FBR0MsaUJBQVEsQ0FBQ0MsS0FBSyxDQUFDLFFBQVEsRUFBQ2pCLFlBQVksQ0FBQztBQUFDLElBQUFrQixRQUFBLEdBQUFDLE9BQUEsQ0FBQWpDLE9BQUEsR0FDdEM2QixNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","ReviewSchema","Schema","product","type","ObjectId","ref","required","sale_detail","user","cantidad","Number","maxlength","description","String","timestamps","Review","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\models\\","sources":["Review.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst ReviewSchema = new Schema({\r\n    product:{type:Schema.ObjectId,ref:'product',required:true},\r\n    sale_detail:{type:Schema.ObjectId,ref:'sale_detail', required:true},\r\n    user:{type:Schema.ObjectId,ref:'user', required:true},\r\n    cantidad:{type:Number,maxlength:2,required:true},\r\n    description:{type:String,required:true},\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst Review = mongoose.model(\"review\",ReviewSchema);\r\nexport default Review;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,YAAY,GAAG,IAAIC,gBAAM,CAAC;EAC5BC,OAAO,EAAC;IAACC,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,SAAS;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC1DC,WAAW,EAAC;IAACJ,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,aAAa;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACnEE,IAAI,EAAC;IAACL,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,MAAM;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACrDG,QAAQ,EAAC;IAACN,IAAI,EAACO,MAAM;IAACC,SAAS,EAAC,CAAC;IAACL,QAAQ,EAAC;EAAI,CAAC;EAChDM,WAAW,EAAC;IAACT,IAAI,EAACU,MAAM;IAACP,QAAQ,EAAC;EAAI;AAC1C,CAAC,EAAC;EACEQ,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAGC,iBAAQ,CAACC,KAAK,CAAC,QAAQ,EAACjB,YAAY,CAAC;AAAC,IAAAkB,QAAA,GAAAC,OAAA,CAAAjC,OAAA,GACtC6B,MAAM","ignoreList":[]}},"mtime":1718064485495},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\Cart.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst CartSchema = new _mongoose.Schema({\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  type_discount: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es por porcentaje y 2 es por moneda\n  discount: {\n    type: Number,\n    default: 0\n  },\n  //50%\n  cantidad: {\n    type: Number,\n    required: true\n  },\n  //2\n  variedad: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'variedad',\n    required: false\n  },\n  code_cupon: {\n    type: String,\n    required: false\n  },\n  code_discount: {\n    type: String,\n    required: false\n  },\n  price_unitario: {\n    type: Number,\n    required: true\n  },\n  //60\n  subtotal: {\n    type: Number,\n    required: true\n  },\n  //30\n  total: {\n    type: Number,\n    required: true\n  } //60\n}, {\n  timestamps: true\n});\nconst Cart = _mongoose.default.model(\"cart\", CartSchema);\nvar _default = exports.default = Cart;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJDYXJ0U2NoZW1hIiwiU2NoZW1hIiwidXNlciIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwicHJvZHVjdCIsInR5cGVfZGlzY291bnQiLCJOdW1iZXIiLCJkaXNjb3VudCIsImNhbnRpZGFkIiwidmFyaWVkYWQiLCJjb2RlX2N1cG9uIiwiU3RyaW5nIiwiY29kZV9kaXNjb3VudCIsInByaWNlX3VuaXRhcmlvIiwic3VidG90YWwiLCJ0b3RhbCIsInRpbWVzdGFtcHMiLCJDYXJ0IiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxud29ybFxcRXNjcml0b3Jpb1xcUHJvZ3JhbWFjacOzblxcRWNvbW1lcmNlU29saXRla1xcYXBpX2Vjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIkNhcnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLCB7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IENhcnRTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIHVzZXI6IHt0eXBlOiBTY2hlbWEuT2JqZWN0SWQscmVmOiAndXNlcicscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBwcm9kdWN0OiB7dHlwZTogU2NoZW1hLk9iamVjdElkLCByZWY6ICdwcm9kdWN0JyxyZXF1aXJlZDp0cnVlfSxcclxuICAgIHR5cGVfZGlzY291bnQ6IHt0eXBlOk51bWJlcixyZXF1aXJlZDpmYWxzZSxkZWZhdWx0OiAxfSwvLzEgZXMgcG9yIHBvcmNlbnRhamUgeSAyIGVzIHBvciBtb25lZGFcclxuICAgIGRpc2NvdW50Ont0eXBlOk51bWJlcixkZWZhdWx0OiAwfSwvLzUwJVxyXG4gICAgY2FudGlkYWQ6IHt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSwvLzJcclxuICAgIHZhcmllZGFkOiB7dHlwZTpTY2hlbWEuT2JqZWN0SWQsIHJlZjogJ3ZhcmllZGFkJywgcmVxdWlyZWQ6IGZhbHNlfSxcclxuICAgIGNvZGVfY3Vwb246IHt0eXBlOlN0cmluZyxyZXF1aXJlZDpmYWxzZX0sXHJcbiAgICBjb2RlX2Rpc2NvdW50OiB7dHlwZTpTdHJpbmcscmVxdWlyZWQ6ZmFsc2V9LFxyXG4gICAgcHJpY2VfdW5pdGFyaW86IHt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSwvLzYwXHJcbiAgICBzdWJ0b3RhbDoge3R5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWV9LC8vMzBcclxuICAgIHRvdGFsOiB7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZX0sLy82MFxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6dHJ1ZVxyXG59KTtcclxuXHJcbmNvbnN0IENhcnQgPSBtb25nb29zZS5tb2RlbChcImNhcnRcIixDYXJ0U2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgQ2FydDsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUEwQyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","CartSchema","Schema","user","type","ObjectId","ref","required","product","type_discount","Number","discount","cantidad","variedad","code_cupon","String","code_discount","price_unitario","subtotal","total","timestamps","Cart","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\models\\","sources":["Cart.js"],"sourcesContent":["import mongoose, {Schema} from \"mongoose\";\r\n\r\nconst CartSchema = new Schema({\r\n    user: {type: Schema.ObjectId,ref: 'user',required:true},\r\n    product: {type: Schema.ObjectId, ref: 'product',required:true},\r\n    type_discount: {type:Number,required:false,default: 1},//1 es por porcentaje y 2 es por moneda\r\n    discount:{type:Number,default: 0},//50%\r\n    cantidad: {type:Number,required:true},//2\r\n    variedad: {type:Schema.ObjectId, ref: 'variedad', required: false},\r\n    code_cupon: {type:String,required:false},\r\n    code_discount: {type:String,required:false},\r\n    price_unitario: {type:Number,required:true},//60\r\n    subtotal: {type:Number,required:true},//30\r\n    total: {type:Number,required:true},//60\r\n},{\r\n    timestamps:true\r\n});\r\n\r\nconst Cart = mongoose.model(\"cart\",CartSchema);\r\nexport default Cart;"],"mappings":"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","ignoreList":[]}},"mtime":1718154563761},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\AddressClient.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst AddressClientSchema = new _mongoose.Schema({\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  pais: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  address: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  referencia: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  ciudad: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  region: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  telefono: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  nota: {\n    type: String,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst AddressClient = _mongoose.default.model(\"address_client\", AddressClientSchema);\nvar _default = exports.default = AddressClient;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJBZGRyZXNzQ2xpZW50U2NoZW1hIiwiU2NoZW1hIiwidXNlciIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwibmFtZSIsIlN0cmluZyIsIm1heGxlbmd0aCIsInN1cm5hbWUiLCJwYWlzIiwiYWRkcmVzcyIsInJlZmVyZW5jaWEiLCJjaXVkYWQiLCJyZWdpb24iLCJ0ZWxlZm9ubyIsImVtYWlsIiwibm90YSIsInRpbWVzdGFtcHMiLCJBZGRyZXNzQ2xpZW50IiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxud29ybFxcRXNjcml0b3Jpb1xcUHJvZ3JhbWFjacOzblxcRWNvbW1lcmNlU29saXRla1xcYXBpX2Vjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIkFkZHJlc3NDbGllbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuY29uc3QgQWRkcmVzc0NsaWVudFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgdXNlcjp7dHlwZTpTY2hlbWEuT2JqZWN0SWQscmVmOiAndXNlcicscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBuYW1lOnt0eXBlOlN0cmluZyxtYXhsZW5ndGggOiAyNTAscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBzdXJuYW1lOnt0eXBlOlN0cmluZyxtYXhsZW5ndGggOiAyNTAscmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBwYWlzOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBhZGRyZXNzOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICByZWZlcmVuY2lhOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6ZmFsc2V9LFxyXG4gICAgY2l1ZGFkOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICByZWdpb246e3R5cGU6U3RyaW5nLG1heGxlbmd0aDogMjUwLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIHRlbGVmb25vOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICBlbWFpbDp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgbm90YTp7dHlwZTpTdHJpbmcsIHJlcXVpcmVkOmZhbHNlfSxcclxufSx7XHJcbiAgICB0aW1lc3RhbXBzOiB0cnVlXHJcbn0pO1xyXG5cclxuY29uc3QgQWRkcmVzc0NsaWVudCA9IG1vbmdvb3NlLm1vZGVsKFwiYWRkcmVzc19jbGllbnRcIixBZGRyZXNzQ2xpZW50U2NoZW1hKTtcclxuZXhwb3J0IGRlZmF1bHQgQWRkcmVzc0NsaWVudDsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","AddressClientSchema","Schema","user","type","ObjectId","ref","required","name","String","maxlength","surname","pais","address","referencia","ciudad","region","telefono","email","nota","timestamps","AddressClient","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\models\\","sources":["AddressClient.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst AddressClientSchema = new Schema({\r\n    user:{type:Schema.ObjectId,ref: 'user',required:true},\r\n    name:{type:String,maxlength : 250,required:true},\r\n    surname:{type:String,maxlength : 250,required:true},\r\n    pais:{type:String,maxlength: 250, required:true},\r\n    address:{type:String,maxlength: 250, required:true},\r\n    referencia:{type:String,maxlength: 250, required:false},\r\n    ciudad:{type:String,maxlength: 250, required:true},\r\n    region:{type:String,maxlength: 250, required:true},\r\n    telefono:{type:String,maxlength: 250, required:true},\r\n    email:{type:String,maxlength: 250, required:true},\r\n    nota:{type:String, required:false},\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst AddressClient = mongoose.model(\"address_client\",AddressClientSchema);\r\nexport default AddressClient;"],"mappings":"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","ignoreList":[]}},"mtime":1718029705420},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\Sale.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst SaleSchema = new _mongoose.Schema({\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  currency_payment: {\n    type: String,\n    default: 'USD'\n  },\n  method_payment: {\n    type: String,\n    maxlength: 50,\n    required: true\n  },\n  n_transacccion: {\n    type: String,\n    maxlength: 200,\n    required: true\n  },\n  total: {\n    type: Number,\n    required: true\n  },\n  // \n  currency_total: {\n    type: String,\n    maxlength: 50,\n    default: 'USD'\n  },\n  price_dolar: {\n    type: Number,\n    default: 0\n  }\n}, {\n  timestamps: true\n});\nconst Sale = _mongoose.default.model(\"sale\", SaleSchema);\nvar _default = exports.default = Sale;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJTYWxlU2NoZW1hIiwiU2NoZW1hIiwidXNlciIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwiY3VycmVuY3lfcGF5bWVudCIsIlN0cmluZyIsIm1ldGhvZF9wYXltZW50IiwibWF4bGVuZ3RoIiwibl90cmFuc2FjY2Npb24iLCJ0b3RhbCIsIk51bWJlciIsImN1cnJlbmN5X3RvdGFsIiwicHJpY2VfZG9sYXIiLCJ0aW1lc3RhbXBzIiwiU2FsZSIsIm1vbmdvb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbndvcmxcXEVzY3JpdG9yaW9cXFByb2dyYW1hY2nDs25cXEVjb21tZXJjZVNvbGl0ZWtcXGFwaV9lY29tbWVyY2VcXG1vZGVsc1xcIiwic291cmNlcyI6WyJTYWxlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSx7U2NoZW1hfSBmcm9tIFwibW9uZ29vc2VcIjtcclxuXHJcbmNvbnN0IFNhbGVTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIHVzZXI6e3R5cGU6IFNjaGVtYS5PYmplY3RJZCxyZWY6J3VzZXInLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgY3VycmVuY3lfcGF5bWVudDp7dHlwZTogU3RyaW5nLGRlZmF1bHQ6ICdVU0QnfSxcclxuICAgIG1ldGhvZF9wYXltZW50Ont0eXBlOlN0cmluZyxtYXhsZW5ndGg6IDUwLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgbl90cmFuc2FjY2Npb246IHt0eXBlOlN0cmluZyxtYXhsZW5ndGg6IDIwMCxyZXF1aXJlZDp0cnVlfSxcclxuICAgIHRvdGFsOnt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSxcclxuICAgIC8vIFxyXG4gICAgY3VycmVuY3lfdG90YWw6IHt0eXBlOiBTdHJpbmcsIG1heGxlbmd0aDogNTAsIGRlZmF1bHQ6ICdVU0QnfSxcclxuICAgIHByaWNlX2RvbGFyOnt0eXBlOk51bWJlcixkZWZhdWx0OiAwfSxcclxufSx7XHJcbiAgICB0aW1lc3RhbXBzOiB0cnVlLFxyXG59KTtcclxuXHJcbmNvbnN0IFNhbGUgPSBtb25nb29zZS5tb2RlbChcInNhbGVcIixTYWxlU2NoZW1hKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IFNhbGU7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxTQUFBLEdBQUFDLHVCQUFBLENBQUFDLE9BQUE7QUFBeUMsU0FBQUMseUJBQUFDLENBQUEsNkJBQUFDLE9BQUEsbUJBQUFDLENBQUEsT0FBQUQsT0FBQSxJQUFBRSxDQUFBLE9BQUFGLE9BQUEsWUFBQUYsd0JBQUEsWUFBQUEsQ0FBQUMsQ0FBQSxXQUFBQSxDQUFBLEdBQUFHLENBQUEsR0FBQUQsQ0FBQSxLQUFBRixDQUFBO0FBQUEsU0FBQUgsd0JBQUFHLENBQUEsRUFBQUUsQ0FBQSxTQUFBQSxDQUFBLElBQUFGLENBQUEsSUFBQUEsQ0FBQSxDQUFBSSxVQUFBLFNBQUFKLENBQUEsZUFBQUEsQ0FBQSx1QkFBQUEsQ0FBQSx5QkFBQUEsQ0FBQSxXQUFBSyxPQUFBLEVBQUFMLENBQUEsUUFBQUcsQ0FBQSxHQUFBSix3QkFBQSxDQUFBRyxDQUFBLE9BQUFDLENBQUEsSUFBQUEsQ0FBQSxDQUFBRyxHQUFBLENBQUFOLENBQUEsVUFBQUcsQ0FBQSxDQUFBSSxHQUFBLENBQUFQLENBQUEsT0FBQVEsQ0FBQSxLQUFBQyxTQUFBLFVBQUFDLENBQUEsR0FBQUMsTUFBQSxDQUFBQyxjQUFBLElBQUFELE1BQUEsQ0FBQUUsd0JBQUEsV0FBQUMsQ0FBQSxJQUFBZCxDQUFBLG9CQUFBYyxDQUFBLE9BQUFDLGNBQUEsQ0FBQUMsSUFBQSxDQUFBaEIsQ0FBQSxFQUFBYyxDQUFBLFNBQUFHLENBQUEsR0FBQVAsQ0FBQSxHQUFBQyxNQUFBLENBQUFFLHdCQUFBLENBQUFiLENBQUEsRUFBQWMsQ0FBQSxVQUFBRyxDQUFBLEtBQUFBLENBQUEsQ0FBQVYsR0FBQSxJQUFBVSxDQUFBLENBQUFDLEdBQUEsSUFBQVAsTUFBQSxDQUFBQyxjQUFBLENBQUFKLENBQUEsRUFBQU0sQ0FBQSxFQUFBRyxDQUFBLElBQUFULENBQUEsQ0FBQU0sQ0FBQSxJQUFBZCxDQUFBLENBQUFjLENBQUEsWUFBQU4sQ0FBQSxDQUFBSCxPQUFBLEdBQUFMLENBQUEsRUFBQUcsQ0FBQSxJQUFBQSxDQUFBLENBQUFlLEdBQUEsQ0FBQWxCLENBQUEsRUFBQVEsQ0FBQSxHQUFBQSxDQUFBO0FBRXpDLE1BQU1XLFVBQVUsR0FBRyxJQUFJQyxnQkFBTSxDQUFDO0VBQzFCQyxJQUFJLEVBQUM7SUFBQ0MsSUFBSSxFQUFFRixnQkFBTSxDQUFDRyxRQUFRO0lBQUNDLEdBQUcsRUFBQyxNQUFNO0lBQUNDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDckRDLGdCQUFnQixFQUFDO0lBQUNKLElBQUksRUFBRUssTUFBTTtJQUFDdEIsT0FBTyxFQUFFO0VBQUssQ0FBQztFQUM5Q3VCLGNBQWMsRUFBQztJQUFDTixJQUFJLEVBQUNLLE1BQU07SUFBQ0UsU0FBUyxFQUFFLEVBQUU7SUFBQ0osUUFBUSxFQUFDO0VBQUksQ0FBQztFQUN4REssY0FBYyxFQUFFO0lBQUNSLElBQUksRUFBQ0ssTUFBTTtJQUFDRSxTQUFTLEVBQUUsR0FBRztJQUFDSixRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQzFETSxLQUFLLEVBQUM7SUFBQ1QsSUFBSSxFQUFDVSxNQUFNO0lBQUNQLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDakM7RUFDQVEsY0FBYyxFQUFFO0lBQUNYLElBQUksRUFBRUssTUFBTTtJQUFFRSxTQUFTLEVBQUUsRUFBRTtJQUFFeEIsT0FBTyxFQUFFO0VBQUssQ0FBQztFQUM3RDZCLFdBQVcsRUFBQztJQUFDWixJQUFJLEVBQUNVLE1BQU07SUFBQzNCLE9BQU8sRUFBRTtFQUFDO0FBQ3ZDLENBQUMsRUFBQztFQUNFOEIsVUFBVSxFQUFFO0FBQ2hCLENBQUMsQ0FBQztBQUVGLE1BQU1DLElBQUksR0FBR0MsaUJBQVEsQ0FBQ0MsS0FBSyxDQUFDLE1BQU0sRUFBQ25CLFVBQVUsQ0FBQztBQUFDLElBQUFvQixRQUFBLEdBQUFDLE9BQUEsQ0FBQW5DLE9BQUEsR0FFaEMrQixJQUFJIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","SaleSchema","Schema","user","type","ObjectId","ref","required","currency_payment","String","method_payment","maxlength","n_transacccion","total","Number","currency_total","price_dolar","timestamps","Sale","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\models\\","sources":["Sale.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst SaleSchema = new Schema({\r\n    user:{type: Schema.ObjectId,ref:'user',required:true},\r\n    currency_payment:{type: String,default: 'USD'},\r\n    method_payment:{type:String,maxlength: 50,required:true},\r\n    n_transacccion: {type:String,maxlength: 200,required:true},\r\n    total:{type:Number,required:true},\r\n    // \r\n    currency_total: {type: String, maxlength: 50, default: 'USD'},\r\n    price_dolar:{type:Number,default: 0},\r\n},{\r\n    timestamps: true,\r\n});\r\n\r\nconst Sale = mongoose.model(\"sale\",SaleSchema);\r\n\r\nexport default Sale;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,UAAU,GAAG,IAAIC,gBAAM,CAAC;EAC1BC,IAAI,EAAC;IAACC,IAAI,EAAEF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,MAAM;IAACC,QAAQ,EAAC;EAAI,CAAC;EACrDC,gBAAgB,EAAC;IAACJ,IAAI,EAAEK,MAAM;IAACtB,OAAO,EAAE;EAAK,CAAC;EAC9CuB,cAAc,EAAC;IAACN,IAAI,EAACK,MAAM;IAACE,SAAS,EAAE,EAAE;IAACJ,QAAQ,EAAC;EAAI,CAAC;EACxDK,cAAc,EAAE;IAACR,IAAI,EAACK,MAAM;IAACE,SAAS,EAAE,GAAG;IAACJ,QAAQ,EAAC;EAAI,CAAC;EAC1DM,KAAK,EAAC;IAACT,IAAI,EAACU,MAAM;IAACP,QAAQ,EAAC;EAAI,CAAC;EACjC;EACAQ,cAAc,EAAE;IAACX,IAAI,EAAEK,MAAM;IAAEE,SAAS,EAAE,EAAE;IAAExB,OAAO,EAAE;EAAK,CAAC;EAC7D6B,WAAW,EAAC;IAACZ,IAAI,EAACU,MAAM;IAAC3B,OAAO,EAAE;EAAC;AACvC,CAAC,EAAC;EACE8B,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,IAAI,GAAGC,iBAAQ,CAACC,KAAK,CAAC,MAAM,EAACnB,UAAU,CAAC;AAAC,IAAAoB,QAAA,GAAAC,OAAA,CAAAnC,OAAA,GAEhC+B,IAAI","ignoreList":[]}},"mtime":1718038405803},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\SaleDetail.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst SaleDetailSchema = new _mongoose.Schema({\n  sale: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'sale',\n    required: true\n  },\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  type_discount: {\n    type: Number,\n    required: false,\n    default: 1\n  },\n  //1 es por porcentaje y 2 es por moneda\n  discount: {\n    type: Number,\n    default: 0\n  },\n  //50%\n  cantidad: {\n    type: Number,\n    required: true\n  },\n  //2\n  variedad: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'variedad',\n    required: false\n  },\n  code_cupon: {\n    type: String,\n    required: false\n  },\n  code_discount: {\n    type: String,\n    required: false\n  },\n  price_unitario: {\n    type: Number,\n    required: true\n  },\n  //60\n  subtotal: {\n    type: Number,\n    required: true\n  },\n  //30\n  total: {\n    type: Number,\n    required: true\n  } //60\n}, {\n  timestamps: true\n});\nconst SaleDetail = _mongoose.default.model(\"sale_detail\", SaleDetailSchema);\nvar _default = exports.default = SaleDetail;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJTYWxlRGV0YWlsU2NoZW1hIiwiU2NoZW1hIiwic2FsZSIsInR5cGUiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwicHJvZHVjdCIsInR5cGVfZGlzY291bnQiLCJOdW1iZXIiLCJkaXNjb3VudCIsImNhbnRpZGFkIiwidmFyaWVkYWQiLCJjb2RlX2N1cG9uIiwiU3RyaW5nIiwiY29kZV9kaXNjb3VudCIsInByaWNlX3VuaXRhcmlvIiwic3VidG90YWwiLCJ0b3RhbCIsInRpbWVzdGFtcHMiLCJTYWxlRGV0YWlsIiwibW9uZ29vc2UiLCJtb2RlbCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxud29ybFxcRXNjcml0b3Jpb1xcUHJvZ3JhbWFjacOzblxcRWNvbW1lcmNlU29saXRla1xcYXBpX2Vjb21tZXJjZVxcbW9kZWxzXFwiLCJzb3VyY2VzIjpbIlNhbGVEZXRhaWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuY29uc3QgU2FsZURldGFpbFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xyXG4gICAgc2FsZToge3R5cGU6IFNjaGVtYS5PYmplY3RJZCxyZWY6ICdzYWxlJyxyZXF1aXJlZDp0cnVlfSxcclxuICAgIHByb2R1Y3Q6IHt0eXBlOiBTY2hlbWEuT2JqZWN0SWQsIHJlZjogJ3Byb2R1Y3QnLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgdHlwZV9kaXNjb3VudDoge3R5cGU6TnVtYmVyLHJlcXVpcmVkOmZhbHNlLGRlZmF1bHQ6IDF9LC8vMSBlcyBwb3IgcG9yY2VudGFqZSB5IDIgZXMgcG9yIG1vbmVkYVxyXG4gICAgZGlzY291bnQ6e3R5cGU6TnVtYmVyLGRlZmF1bHQ6IDB9LC8vNTAlXHJcbiAgICBjYW50aWRhZDoge3R5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWV9LC8vMlxyXG4gICAgdmFyaWVkYWQ6IHt0eXBlOlNjaGVtYS5PYmplY3RJZCwgcmVmOiAndmFyaWVkYWQnLCByZXF1aXJlZDogZmFsc2V9LFxyXG4gICAgY29kZV9jdXBvbjoge3R5cGU6U3RyaW5nLHJlcXVpcmVkOmZhbHNlfSxcclxuICAgIGNvZGVfZGlzY291bnQ6IHt0eXBlOlN0cmluZyxyZXF1aXJlZDpmYWxzZX0sXHJcbiAgICBwcmljZV91bml0YXJpbzoge3R5cGU6TnVtYmVyLHJlcXVpcmVkOnRydWV9LC8vNjBcclxuICAgIHN1YnRvdGFsOiB7dHlwZTpOdW1iZXIscmVxdWlyZWQ6dHJ1ZX0sLy8zMFxyXG4gICAgdG90YWw6IHt0eXBlOk51bWJlcixyZXF1aXJlZDp0cnVlfSwvLzYwXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczp0cnVlLFxyXG59KTtcclxuXHJcbmNvbnN0IFNhbGVEZXRhaWwgPSBtb25nb29zZS5tb2RlbChcInNhbGVfZGV0YWlsXCIsU2FsZURldGFpbFNjaGVtYSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBTYWxlRGV0YWlsOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQXlDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYs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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","SaleDetailSchema","Schema","sale","type","ObjectId","ref","required","product","type_discount","Number","discount","cantidad","variedad","code_cupon","String","code_discount","price_unitario","subtotal","total","timestamps","SaleDetail","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\models\\","sources":["SaleDetail.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst SaleDetailSchema = new Schema({\r\n    sale: {type: Schema.ObjectId,ref: 'sale',required:true},\r\n    product: {type: Schema.ObjectId, ref: 'product',required:true},\r\n    type_discount: {type:Number,required:false,default: 1},//1 es por porcentaje y 2 es por moneda\r\n    discount:{type:Number,default: 0},//50%\r\n    cantidad: {type:Number,required:true},//2\r\n    variedad: {type:Schema.ObjectId, ref: 'variedad', required: false},\r\n    code_cupon: {type:String,required:false},\r\n    code_discount: {type:String,required:false},\r\n    price_unitario: {type:Number,required:true},//60\r\n    subtotal: {type:Number,required:true},//30\r\n    total: {type:Number,required:true},//60\r\n},{\r\n    timestamps:true,\r\n});\r\n\r\nconst SaleDetail = mongoose.model(\"sale_detail\",SaleDetailSchema);\r\n\r\nexport default SaleDetail;"],"mappings":"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","ignoreList":[]}},"mtime":1718038096723},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\Review.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _ReviewClientController = _interopRequireDefault(require(\"../controllers/ReviewClientController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", _auth.default.verifyEcommerce, _ReviewClientController.default.register);\nrouter.put(\"/update\", _auth.default.verifyEcommerce, _ReviewClientController.default.update);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9SZXZpZXdDbGllbnRDb250cm9sbGVyIiwiX2F1dGgiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsInJvdXRlcngiLCJwb3N0IiwiYXV0aCIsInZlcmlmeUVjb21tZXJjZSIsIlJldmlld0NsaWVudENvbnRyb2xsZXIiLCJyZWdpc3RlciIsInB1dCIsInVwZGF0ZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxud29ybFxcRXNjcml0b3Jpb1xcUHJvZ3JhbWFjacOzblxcRWNvbW1lcmNlU29saXRla1xcYXBpX2Vjb21tZXJjZVxccm91dGVyXFwiLCJzb3VyY2VzIjpbIlJldmlldy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tICdleHByZXNzLXByb21pc2Utcm91dGVyJ1xyXG5pbXBvcnQgUmV2aWV3Q2xpZW50Q29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9SZXZpZXdDbGllbnRDb250cm9sbGVyJ1xyXG5pbXBvcnQgYXV0aCBmcm9tICcuLi9taWRkbGV3YXJlcy9hdXRoJ1xyXG5cclxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xyXG5cclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxSZXZpZXdDbGllbnRDb250cm9sbGVyLnJlZ2lzdGVyKTtcclxucm91dGVyLnB1dChcIi91cGRhdGVcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxSZXZpZXdDbGllbnRDb250cm9sbGVyLnVwZGF0ZSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsdUJBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFzQyxTQUFBRCx1QkFBQUksR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUV0QyxNQUFNRyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDO0FBRXhCRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUNDLGFBQUksQ0FBQ0MsZUFBZSxFQUFDQywrQkFBc0IsQ0FBQ0MsUUFBUSxDQUFDO0FBQzdFTixNQUFNLENBQUNPLEdBQUcsQ0FBQyxTQUFTLEVBQUNKLGFBQUksQ0FBQ0MsZUFBZSxFQUFDQywrQkFBc0IsQ0FBQ0csTUFBTSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFYLE9BQUEsR0FFMURDLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_ReviewClientController","_auth","obj","__esModule","default","router","routerx","post","auth","verifyEcommerce","ReviewClientController","register","put","update","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\router\\","sources":["Review.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport ReviewClientController from '../controllers/ReviewClientController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n\r\nrouter.post(\"/register\",auth.verifyEcommerce,ReviewClientController.register);\r\nrouter.put(\"/update\",auth.verifyEcommerce,ReviewClientController.update);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,uBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,eAAe,EAACC,+BAAsB,CAACC,QAAQ,CAAC;AAC7EN,MAAM,CAACO,GAAG,CAAC,SAAS,EAACJ,aAAI,CAACC,eAAe,EAACC,+BAAsB,CAACG,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAX,OAAA,GAE1DC,MAAM","ignoreList":[]}},"mtime":1718064492514},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\ReviewClientController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let review = await _models.default.Review.create(req.body);\n      res.status(200).json({\n        message: \"LA RESEÑA HA SIDO REGISTRADA CORRECTAMENTE\",\n        review: review\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      await _models.default.Review.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let reviewD = await _models.default.Review.findById({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"LA RESEÑA HA MODIFICADO CORRECTAMENTE\",\n        review: reviewD\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwicmV2aWV3IiwibW9kZWxzIiwiUmV2aWV3IiwiY3JlYXRlIiwiYm9keSIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwic2VuZCIsInVwZGF0ZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiX2lkIiwicmV2aWV3RCIsImZpbmRCeUlkIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJSZXZpZXdDbGllbnRDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbHMgZnJvbSBcIi4uL21vZGVsc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcmVnaXN0ZXI6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCByZXZpZXcgPSBhd2FpdCBtb2RlbHMuUmV2aWV3LmNyZWF0ZShyZXEuYm9keSk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkxBIFJFU0XDkUEgSEEgU0lETyBSRUdJU1RSQURBIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgICAgIHJldmlldzogcmV2aWV3LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6XCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB1cGRhdGU6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5SZXZpZXcuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogcmVxLmJvZHkuX2lkfSxyZXEuYm9keSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgcmV2aWV3RCA9IGF3YWl0IG1vZGVscy5SZXZpZXcuZmluZEJ5SWQoe19pZDogcmVxLmJvZHkuX2lkfSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTEEgUkVTRcORQSBIQSBNT0RJRklDQURPIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgICAgIHJldmlldzogcmV2aWV3RFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6XCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUErQixTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBRWhCO0VBQ1hHLFFBQVEsRUFBQyxNQUFBQSxDQUFNQyxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUN2QixJQUFJO01BQ0EsSUFBSUMsTUFBTSxHQUFHLE1BQU1DLGVBQU0sQ0FBQ0MsTUFBTSxDQUFDQyxNQUFNLENBQUNMLEdBQUcsQ0FBQ00sSUFBSSxDQUFDO01BRWpETCxHQUFHLENBQUNNLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUUsNENBQTRDO1FBQ3JEUCxNQUFNLEVBQUVBO01BQ1osQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDLE9BQU9RLEtBQUssRUFBRTtNQUNaQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsS0FBSyxDQUFDO01BQ2xCVCxHQUFHLENBQUNNLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ00sSUFBSSxDQUFDO1FBQ2pCSixPQUFPLEVBQUM7TUFDWixDQUFDLENBQUM7SUFDTjtFQUNKLENBQUM7RUFDREssTUFBTSxFQUFDLE1BQUFBLENBQU1kLEdBQUcsRUFBQ0MsR0FBRyxLQUFLO0lBQ3JCLElBQUk7TUFDQSxNQUFNRSxlQUFNLENBQUNDLE1BQU0sQ0FBQ1csaUJBQWlCLENBQUM7UUFBQ0MsR0FBRyxFQUFFaEIsR0FBRyxDQUFDTSxJQUFJLENBQUNVO01BQUcsQ0FBQyxFQUFDaEIsR0FBRyxDQUFDTSxJQUFJLENBQUM7TUFFbkUsSUFBSVcsT0FBTyxHQUFHLE1BQU1kLGVBQU0sQ0FBQ0MsTUFBTSxDQUFDYyxRQUFRLENBQUM7UUFBQ0YsR0FBRyxFQUFFaEIsR0FBRyxDQUFDTSxJQUFJLENBQUNVO01BQUcsQ0FBQyxDQUFDO01BQy9EZixHQUFHLENBQUNNLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUUsdUNBQXVDO1FBQ2hEUCxNQUFNLEVBQUVlO01BQ1osQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDLE9BQU9QLEtBQUssRUFBRTtNQUNaQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsS0FBSyxDQUFDO01BQ2xCVCxHQUFHLENBQUNNLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ00sSUFBSSxDQUFDO1FBQ2pCSixPQUFPLEVBQUM7TUFDWixDQUFDLENBQUM7SUFDTjtFQUNKO0FBQ0osQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_models","_interopRequireDefault","require","obj","__esModule","default","_default","exports","register","req","res","review","models","Review","create","body","status","json","message","error","console","log","send","update","findByIdAndUpdate","_id","reviewD","findById"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\controllers\\","sources":["ReviewClientController.js"],"sourcesContent":["import models from \"../models\";\r\n\r\nexport default {\r\n    register:async(req,res) => {\r\n        try {\r\n            let review = await models.Review.create(req.body);\r\n\r\n            res.status(200).json({\r\n                message: \"LA RESEÑA HA SIDO REGISTRADA CORRECTAMENTE\",\r\n                review: review,\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    update:async(req,res) => {\r\n        try {\r\n            await models.Review.findByIdAndUpdate({_id: req.body._id},req.body);\r\n\r\n            let reviewD = await models.Review.findById({_id: req.body._id});\r\n            res.status(200).json({\r\n                message: \"LA RESEÑA HA MODIFICADO CORRECTAMENTE\",\r\n                review: reviewD\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n}"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA+B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEhB;EACXG,QAAQ,EAAC,MAAAA,CAAMC,GAAG,EAACC,GAAG,KAAK;IACvB,IAAI;MACA,IAAIC,MAAM,GAAG,MAAMC,eAAM,CAACC,MAAM,CAACC,MAAM,CAACL,GAAG,CAACM,IAAI,CAAC;MAEjDL,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE,4CAA4C;QACrDP,MAAM,EAAEA;MACZ,CAAC,CAAC;IACN,CAAC,CAAC,OAAOQ,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClBT,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACM,IAAI,CAAC;QACjBJ,OAAO,EAAC;MACZ,CAAC,CAAC;IACN;EACJ,CAAC;EACDK,MAAM,EAAC,MAAAA,CAAMd,GAAG,EAACC,GAAG,KAAK;IACrB,IAAI;MACA,MAAME,eAAM,CAACC,MAAM,CAACW,iBAAiB,CAAC;QAACC,GAAG,EAAEhB,GAAG,CAACM,IAAI,CAACU;MAAG,CAAC,EAAChB,GAAG,CAACM,IAAI,CAAC;MAEnE,IAAIW,OAAO,GAAG,MAAMd,eAAM,CAACC,MAAM,CAACc,QAAQ,CAAC;QAACF,GAAG,EAAEhB,GAAG,CAACM,IAAI,CAACU;MAAG,CAAC,CAAC;MAC/Df,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE,uCAAuC;QAChDP,MAAM,EAAEe;MACZ,CAAC,CAAC;IACN,CAAC,CAAC,OAAOP,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClBT,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACM,IAAI,CAAC;QACjBJ,OAAO,EAAC;MACZ,CAAC,CAAC;IACN;EACJ;AACJ,CAAC","ignoreList":[]}},"mtime":1718064634793},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\SaleAddress.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst SaleAddressSchema = new _mongoose.Schema({\n  sale: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'sale',\n    required: true\n  },\n  name: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  surname: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  pais: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  address: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  referencia: {\n    type: String,\n    maxlength: 250,\n    required: false\n  },\n  ciudad: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  region: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  telefono: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  email: {\n    type: String,\n    maxlength: 250,\n    required: true\n  },\n  nota: {\n    type: String,\n    required: false\n  }\n}, {\n  timestamps: true\n});\nconst SaleAddress = _mongoose.default.model(\"sale_address\", SaleAddressSchema);\nvar _default = exports.default = SaleAddress;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJTYWxlQWRkcmVzc1NjaGVtYSIsIlNjaGVtYSIsInNhbGUiLCJ0eXBlIiwiT2JqZWN0SWQiLCJyZWYiLCJyZXF1aXJlZCIsIm5hbWUiLCJTdHJpbmciLCJtYXhsZW5ndGgiLCJzdXJuYW1lIiwicGFpcyIsImFkZHJlc3MiLCJyZWZlcmVuY2lhIiwiY2l1ZGFkIiwicmVnaW9uIiwidGVsZWZvbm8iLCJlbWFpbCIsIm5vdGEiLCJ0aW1lc3RhbXBzIiwiU2FsZUFkZHJlc3MiLCJtb25nb29zZSIsIm1vZGVsIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxtb2RlbHNcXCIsInNvdXJjZXMiOlsiU2FsZUFkZHJlc3MuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuY29uc3QgU2FsZUFkZHJlc3NTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICAgIHNhbGU6e3R5cGU6U2NoZW1hLk9iamVjdElkLHJlZjogJ3NhbGUnLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgbmFtZTp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoIDogMjUwLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgc3VybmFtZTp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoIDogMjUwLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgcGFpczp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgYWRkcmVzczp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgcmVmZXJlbmNpYTp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOmZhbHNlfSxcclxuICAgIGNpdWRhZDp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgcmVnaW9uOnt0eXBlOlN0cmluZyxtYXhsZW5ndGg6IDI1MCwgcmVxdWlyZWQ6dHJ1ZX0sXHJcbiAgICB0ZWxlZm9ubzp7dHlwZTpTdHJpbmcsbWF4bGVuZ3RoOiAyNTAsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgZW1haWw6e3R5cGU6U3RyaW5nLG1heGxlbmd0aDogMjUwLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIG5vdGE6e3R5cGU6U3RyaW5nLCByZXF1aXJlZDpmYWxzZX0sXHJcbn0se1xyXG4gICAgdGltZXN0YW1wczogdHJ1ZVxyXG59KTtcclxuXHJcbmNvbnN0IFNhbGVBZGRyZXNzID0gbW9uZ29vc2UubW9kZWwoXCJzYWxlX2FkZHJlc3NcIixTYWxlQWRkcmVzc1NjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IFNhbGVBZGRyZXNzOyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsU0FBQSxHQUFBQyx1QkFBQSxDQUFBQyxPQUFBO0FBQXlDLFNBQUFDLHlCQUFBQyxDQUFBLDZCQUFBQyxPQUFBLG1CQUFBQyxDQUFBLE9BQUFELE9BQUEsSUFBQUUsQ0FBQSxPQUFBRixPQUFBLFlBQUFGLHdCQUFBLFlBQUFBLENBQUFDLENBQUEsV0FBQUEsQ0FBQSxHQUFBRyxDQUFBLEdBQUFELENBQUEsS0FBQUYsQ0FBQTtBQUFBLFNBQUFILHdCQUFBRyxDQUFBLEVBQUFFLENBQUEsU0FBQUEsQ0FB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","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","SaleAddressSchema","Schema","sale","type","ObjectId","ref","required","name","String","maxlength","surname","pais","address","referencia","ciudad","region","telefono","email","nota","timestamps","SaleAddress","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\models\\","sources":["SaleAddress.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst SaleAddressSchema = new Schema({\r\n    sale:{type:Schema.ObjectId,ref: 'sale',required:true},\r\n    name:{type:String,maxlength : 250,required:true},\r\n    surname:{type:String,maxlength : 250,required:true},\r\n    pais:{type:String,maxlength: 250, required:true},\r\n    address:{type:String,maxlength: 250, required:true},\r\n    referencia:{type:String,maxlength: 250, required:false},\r\n    ciudad:{type:String,maxlength: 250, required:true},\r\n    region:{type:String,maxlength: 250, required:true},\r\n    telefono:{type:String,maxlength: 250, required:true},\r\n    email:{type:String,maxlength: 250, required:true},\r\n    nota:{type:String, required:false},\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst SaleAddress = mongoose.model(\"sale_address\",SaleAddressSchema);\r\nexport default SaleAddress;"],"mappings":"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","ignoreList":[]}},"mtime":1718038094014},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\models\\\\Review.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _mongoose = _interopRequireWildcard(require(\"mongoose\"));\nfunction _getRequireWildcardCache(e) { if (\"function\" != typeof WeakMap) return null; var r = new WeakMap(), t = new WeakMap(); return (_getRequireWildcardCache = function (e) { return e ? t : r; })(e); }\nfunction _interopRequireWildcard(e, r) { if (!r && e && e.__esModule) return e; if (null === e || \"object\" != typeof e && \"function\" != typeof e) return { default: e }; var t = _getRequireWildcardCache(r); if (t && t.has(e)) return t.get(e); var n = { __proto__: null }, a = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var u in e) if (\"default\" !== u && {}.hasOwnProperty.call(e, u)) { var i = a ? Object.getOwnPropertyDescriptor(e, u) : null; i && (i.get || i.set) ? Object.defineProperty(n, u, i) : n[u] = e[u]; } return n.default = e, t && t.set(e, n), n; }\nconst ReviewSchema = new _mongoose.Schema({\n  product: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'product',\n    required: true\n  },\n  sale_detail: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'sale_detail',\n    required: true\n  },\n  user: {\n    type: _mongoose.Schema.ObjectId,\n    ref: 'user',\n    required: true\n  },\n  cantidad: {\n    type: Number,\n    maxlength: 2,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  }\n}, {\n  timestamps: true\n});\nconst Review = _mongoose.default.model(\"review\", ReviewSchema);\nvar _default = exports.default = Review;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9uZ29vc2UiLCJfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZCIsInJlcXVpcmUiLCJfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUiLCJlIiwiV2Vha01hcCIsInIiLCJ0IiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJoYXMiLCJnZXQiLCJuIiwiX19wcm90b19fIiwiYSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwidSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImkiLCJzZXQiLCJSZXZpZXdTY2hlbWEiLCJTY2hlbWEiLCJwcm9kdWN0IiwidHlwZSIsIk9iamVjdElkIiwicmVmIiwicmVxdWlyZWQiLCJzYWxlX2RldGFpbCIsInVzZXIiLCJjYW50aWRhZCIsIk51bWJlciIsIm1heGxlbmd0aCIsImRlc2NyaXB0aW9uIiwiU3RyaW5nIiwidGltZXN0YW1wcyIsIlJldmlldyIsIm1vbmdvb3NlIiwibW9kZWwiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbndvcmxcXEVzY3JpdG9yaW9cXFByb2dyYW1hY2nDs25cXEVjb21tZXJjZVNvbGl0ZWtcXGFwaV9lY29tbWVyY2VcXG1vZGVsc1xcIiwic291cmNlcyI6WyJSZXZpZXcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlLHtTY2hlbWF9IGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuY29uc3QgUmV2aWV3U2NoZW1hID0gbmV3IFNjaGVtYSh7XHJcbiAgICBwcm9kdWN0Ont0eXBlOlNjaGVtYS5PYmplY3RJZCxyZWY6J3Byb2R1Y3QnLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgc2FsZV9kZXRhaWw6e3R5cGU6U2NoZW1hLk9iamVjdElkLHJlZjonc2FsZV9kZXRhaWwnLCByZXF1aXJlZDp0cnVlfSxcclxuICAgIHVzZXI6e3R5cGU6U2NoZW1hLk9iamVjdElkLHJlZjondXNlcicsIHJlcXVpcmVkOnRydWV9LFxyXG4gICAgY2FudGlkYWQ6e3R5cGU6TnVtYmVyLG1heGxlbmd0aDoyLHJlcXVpcmVkOnRydWV9LFxyXG4gICAgZGVzY3JpcHRpb246e3R5cGU6U3RyaW5nLHJlcXVpcmVkOnRydWV9LFxyXG59LHtcclxuICAgIHRpbWVzdGFtcHM6IHRydWVcclxufSk7XHJcblxyXG5jb25zdCBSZXZpZXcgPSBtb25nb29zZS5tb2RlbChcInJldmlld1wiLFJldmlld1NjaGVtYSk7XHJcbmV4cG9ydCBkZWZhdWx0IFJldmlldzsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFNBQUEsR0FBQUMsdUJBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBQyx5QkFBQUMsQ0FBQSw2QkFBQUMsT0FBQSxtQkFBQUMsQ0FBQSxPQUFBRCxPQUFBLElBQUFFLENBQUEsT0FBQUYsT0FBQSxZQUFBRix3QkFBQSxZQUFBQSxDQUFBQyxDQUFBLFdBQUFBLENBQUEsR0FBQUcsQ0FBQSxHQUFBRCxDQUFBLEtBQUFGLENBQUE7QUFBQSxTQUFBSCx3QkFBQUcsQ0FBQSxFQUFBRSxDQUFBLFNBQUFBLENBQUEsSUFBQUYsQ0FBQSxJQUFBQSxDQUFBLENBQUFJLFVBQUEsU0FBQUosQ0FBQSxlQUFBQSxDQUFBLHVCQUFBQSxDQUFBLHlCQUFBQSxDQUFBLFdBQUFLLE9BQUEsRUFBQUwsQ0FBQSxRQUFBRyxDQUFBLEdBQUFKLHdCQUFBLENBQUFHLENBQUEsT0FBQUMsQ0FBQSxJQUFBQSxDQUFBLENBQUFHLEdBQUEsQ0FBQU4sQ0FBQSxVQUFBRyxDQUFBLENBQUFJLEdBQUEsQ0FBQVAsQ0FBQSxPQUFBUSxDQUFBLEtBQUFDLFNBQUEsVUFBQUMsQ0FBQSxHQUFBQyxNQUFBLENBQUFDLGNBQUEsSUFBQUQsTUFBQSxDQUFBRSx3QkFBQSxXQUFBQyxDQUFBLElBQUFkLENBQUEsb0JBQUFjLENBQUEsT0FBQUMsY0FBQSxDQUFBQyxJQUFBLENBQUFoQixDQUFBLEVBQUFjLENBQUEsU0FBQUcsQ0FBQSxHQUFBUCxDQUFBLEdBQUFDLE1BQUEsQ0FBQUUsd0JBQUEsQ0FBQWIsQ0FBQSxFQUFBYyxDQUFBLFVBQUFHLENBQUEsS0FBQUEsQ0FBQSxDQUFBVixHQUFBLElBQUFVLENBQUEsQ0FBQUMsR0FBQSxJQUFBUCxNQUFBLENBQUFDLGNBQUEsQ0FBQUosQ0FBQSxFQUFBTSxDQUFBLEVBQUFHLENBQUEsSUFBQVQsQ0FBQSxDQUFBTSxDQUFBLElBQUFkLENBQUEsQ0FBQWMsQ0FBQSxZQUFBTixDQUFBLENBQUFILE9BQUEsR0FBQUwsQ0FBQSxFQUFBRyxDQUFBLElBQUFBLENBQUEsQ0FBQWUsR0FBQSxDQUFBbEIsQ0FBQSxFQUFBUSxDQUFBLEdBQUFBLENBQUE7QUFFekMsTUFBTVcsWUFBWSxHQUFHLElBQUlDLGdCQUFNLENBQUM7RUFDNUJDLE9BQU8sRUFBQztJQUFDQyxJQUFJLEVBQUNGLGdCQUFNLENBQUNHLFFBQVE7SUFBQ0MsR0FBRyxFQUFDLFNBQVM7SUFBQ0MsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUMxREMsV0FBVyxFQUFDO0lBQUNKLElBQUksRUFBQ0YsZ0JBQU0sQ0FBQ0csUUFBUTtJQUFDQyxHQUFHLEVBQUMsYUFBYTtJQUFFQyxRQUFRLEVBQUM7RUFBSSxDQUFDO0VBQ25FRSxJQUFJLEVBQUM7SUFBQ0wsSUFBSSxFQUFDRixnQkFBTSxDQUFDRyxRQUFRO0lBQUNDLEdBQUcsRUFBQyxNQUFNO0lBQUVDLFFBQVEsRUFBQztFQUFJLENBQUM7RUFDckRHLFFBQVEsRUFBQztJQUFDTixJQUFJLEVBQUNPLE1BQU07SUFBQ0MsU0FBUyxFQUFDLENBQUM7SUFBQ0wsUUFBUSxFQUFDO0VBQUksQ0FBQztFQUNoRE0sV0FBVyxFQUFDO0lBQUNULElBQUksRUFBQ1UsTUFBTTtJQUFDUCxRQUFRLEVBQUM7RUFBSTtBQUMxQyxDQUFDLEVBQUM7RUFDRVEsVUFBVSxFQUFFO0FBQ2hCLENBQUMsQ0FBQztBQUVGLE1BQU1DLE1BQU0sR0FBR0MsaUJBQVEsQ0FBQ0MsS0FBSyxDQUFDLFFBQVEsRUFBQ2pCLFlBQVksQ0FBQztBQUFDLElBQUFrQixRQUFBLEdBQUFDLE9BQUEsQ0FBQWpDLE9BQUEsR0FDdEM2QixNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_mongoose","_interopRequireWildcard","require","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","ReviewSchema","Schema","product","type","ObjectId","ref","required","sale_detail","user","cantidad","Number","maxlength","description","String","timestamps","Review","mongoose","model","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\models\\","sources":["Review.js"],"sourcesContent":["import mongoose,{Schema} from \"mongoose\";\r\n\r\nconst ReviewSchema = new Schema({\r\n    product:{type:Schema.ObjectId,ref:'product',required:true},\r\n    sale_detail:{type:Schema.ObjectId,ref:'sale_detail', required:true},\r\n    user:{type:Schema.ObjectId,ref:'user', required:true},\r\n    cantidad:{type:Number,maxlength:2,required:true},\r\n    description:{type:String,required:true},\r\n},{\r\n    timestamps: true\r\n});\r\n\r\nconst Review = mongoose.model(\"review\",ReviewSchema);\r\nexport default Review;"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,uBAAA,CAAAC,OAAA;AAAyC,SAAAC,yBAAAC,CAAA,6BAAAC,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,CAAA,WAAAA,CAAA,GAAAG,CAAA,GAAAD,CAAA,KAAAF,CAAA;AAAA,SAAAH,wBAAAG,CAAA,EAAAE,CAAA,SAAAA,CAAA,IAAAF,CAAA,IAAAA,CAAA,CAAAI,UAAA,SAAAJ,CAAA,eAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,WAAAK,OAAA,EAAAL,CAAA,QAAAG,CAAA,GAAAJ,wBAAA,CAAAG,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,UAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,OAAAQ,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAd,CAAA,oBAAAc,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,EAAAc,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,EAAAc,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAd,CAAA,CAAAc,CAAA,YAAAN,CAAA,CAAAH,OAAA,GAAAL,CAAA,EAAAG,CAAA,IAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,EAAAQ,CAAA,GAAAA,CAAA;AAEzC,MAAMW,YAAY,GAAG,IAAIC,gBAAM,CAAC;EAC5BC,OAAO,EAAC;IAACC,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,SAAS;IAACC,QAAQ,EAAC;EAAI,CAAC;EAC1DC,WAAW,EAAC;IAACJ,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,aAAa;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACnEE,IAAI,EAAC;IAACL,IAAI,EAACF,gBAAM,CAACG,QAAQ;IAACC,GAAG,EAAC,MAAM;IAAEC,QAAQ,EAAC;EAAI,CAAC;EACrDG,QAAQ,EAAC;IAACN,IAAI,EAACO,MAAM;IAACC,SAAS,EAAC,CAAC;IAACL,QAAQ,EAAC;EAAI,CAAC;EAChDM,WAAW,EAAC;IAACT,IAAI,EAACU,MAAM;IAACP,QAAQ,EAAC;EAAI;AAC1C,CAAC,EAAC;EACEQ,UAAU,EAAE;AAChB,CAAC,CAAC;AAEF,MAAMC,MAAM,GAAGC,iBAAQ,CAACC,KAAK,CAAC,QAAQ,EAACjB,YAAY,CAAC;AAAC,IAAAkB,QAAA,GAAAC,OAAA,CAAAjC,OAAA,GACtC6B,MAAM","ignoreList":[]}},"mtime":1718064485495},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\AddressClient.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _AddressClientController = _interopRequireDefault(require(\"../controllers/AddressClientController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", _auth.default.verifyEcommerce, _AddressClientController.default.register);\nrouter.put(\"/update\", _auth.default.verifyEcommerce, _AddressClientController.default.update);\nrouter.get(\"/list\", _auth.default.verifyEcommerce, _AddressClientController.default.list);\nrouter.delete(\"/delete/:id\", _auth.default.verifyEcommerce, _AddressClientController.default.remove);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9BZGRyZXNzQ2xpZW50Q29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlFY29tbWVyY2UiLCJBZGRyZXNzQ2xpZW50Q29udHJvbGxlciIsInJlZ2lzdGVyIiwicHV0IiwidXBkYXRlIiwiZ2V0IiwibGlzdCIsImRlbGV0ZSIsInJlbW92ZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxud29ybFxcRXNjcml0b3Jpb1xcUHJvZ3JhbWFjacOzblxcRWNvbW1lcmNlU29saXRla1xcYXBpX2Vjb21tZXJjZVxccm91dGVyXFwiLCJzb3VyY2VzIjpbIkFkZHJlc3NDbGllbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJvdXRlcnggZnJvbSAnZXhwcmVzcy1wcm9taXNlLXJvdXRlcidcclxuaW1wb3J0IEFkZHJlc3NDbGllbnRDb250cm9sbGVyIGZyb20gJy4uL2NvbnRyb2xsZXJzL0FkZHJlc3NDbGllbnRDb250cm9sbGVyJ1xyXG5pbXBvcnQgYXV0aCBmcm9tICcuLi9taWRkbGV3YXJlcy9hdXRoJ1xyXG5cclxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xyXG4vLyBodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3VzZXJzL3JlZ2lzdGVyXHJcblxyXG5yb3V0ZXIucG9zdChcIi9yZWdpc3RlclwiLGF1dGgudmVyaWZ5RWNvbW1lcmNlLEFkZHJlc3NDbGllbnRDb250cm9sbGVyLnJlZ2lzdGVyKTtcclxucm91dGVyLnB1dChcIi91cGRhdGVcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxBZGRyZXNzQ2xpZW50Q29udHJvbGxlci51cGRhdGUpO1xyXG5yb3V0ZXIuZ2V0KFwiL2xpc3RcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxBZGRyZXNzQ2xpZW50Q29udHJvbGxlci5saXN0KTtcclxucm91dGVyLmRlbGV0ZShcIi9kZWxldGUvOmlkXCIsYXV0aC52ZXJpZnlFY29tbWVyY2UsQWRkcmVzc0NsaWVudENvbnRyb2xsZXIucmVtb3ZlKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjsiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLHFCQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyx3QkFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQXNDLFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXRDLE1BQU1HLE1BQU0sR0FBRyxJQUFBQyw2QkFBTyxFQUFDLENBQUM7QUFDeEI7O0FBRUFELE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLFdBQVcsRUFBQ0MsYUFBSSxDQUFDQyxlQUFlLEVBQUNDLGdDQUF1QixDQUFDQyxRQUFRLENBQUM7QUFDOUVOLE1BQU0sQ0FBQ08sR0FBRyxDQUFDLFNBQVMsRUFBQ0osYUFBSSxDQUFDQyxlQUFlLEVBQUNDLGdDQUF1QixDQUFDRyxNQUFNLENBQUM7QUFDekVSLE1BQU0sQ0FBQ1MsR0FBRyxDQUFDLE9BQU8sRUFBQ04sYUFBSSxDQUFDQyxlQUFlLEVBQUNDLGdDQUF1QixDQUFDSyxJQUFJLENBQUM7QUFDckVWLE1BQU0sQ0FBQ1csTUFBTSxDQUFDLGFBQWEsRUFBQ1IsYUFBSSxDQUFDQyxlQUFlLEVBQUNDLGdDQUF1QixDQUFDTyxNQUFNLENBQUM7QUFBQyxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWYsT0FBQSxHQUVsRUMsTUFBTSIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_AddressClientController","_auth","obj","__esModule","default","router","routerx","post","auth","verifyEcommerce","AddressClientController","register","put","update","get","list","delete","remove","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\router\\","sources":["AddressClient.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport AddressClientController from '../controllers/AddressClientController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n// http://localhost:3000/api/users/register\r\n\r\nrouter.post(\"/register\",auth.verifyEcommerce,AddressClientController.register);\r\nrouter.put(\"/update\",auth.verifyEcommerce,AddressClientController.update);\r\nrouter.get(\"/list\",auth.verifyEcommerce,AddressClientController.list);\r\nrouter.delete(\"/delete/:id\",auth.verifyEcommerce,AddressClientController.remove);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,wBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,eAAe,EAACC,gCAAuB,CAACC,QAAQ,CAAC;AAC9EN,MAAM,CAACO,GAAG,CAAC,SAAS,EAACJ,aAAI,CAACC,eAAe,EAACC,gCAAuB,CAACG,MAAM,CAAC;AACzER,MAAM,CAACS,GAAG,CAAC,OAAO,EAACN,aAAI,CAACC,eAAe,EAACC,gCAAuB,CAACK,IAAI,CAAC;AACrEV,MAAM,CAACW,MAAM,CAAC,aAAa,EAACR,aAAI,CAACC,eAAe,EAACC,gCAAuB,CAACO,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAf,OAAA,GAElEC,MAAM","ignoreList":[]}},"mtime":1718029898301},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\AddressClientController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      const address_client = await _models.default.AddressClient.create(req.body);\n      res.status(200).json({\n        message: \"LA DIRECCIÓN DEL CLIENTE SE REGISTRO CORRECTAMENTE\",\n        address_client: address_client\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"HUBO UN ERROR\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      let data = req.body;\n      await _models.default.AddressClient.findByIdAndUpdate({\n        _id: req.body._id\n      }, data);\n      let AddressClient = await _models.default.AddressClient.findById({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"LA DIRECCIÓN DEL CLIENTE SE EDITO CORRECTAMENTE\",\n        address_client: AddressClient\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"HUBO UN ERROR\"\n      });\n    }\n  },\n  list: async (req, res) => {\n    try {\n      let ADDRESS_CLIENT = await _models.default.AddressClient.find({\n        user: req.query.user_id\n      }).sort({\n        'createdAt': -1\n      });\n      res.status(200).json({\n        address_client: ADDRESS_CLIENT\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"HUBO UN ERROR\"\n      });\n    }\n  },\n  remove: async (req, res) => {\n    try {\n      await _models.default.AddressClient.findByIdAndDelete({\n        _id: req.params._id\n      });\n      res.status(200).json({\n        message: \"LA DIRECCIÓN DEL CLIENTE SE ELIMINO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"HUBO UN ERROR\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwiYWRkcmVzc19jbGllbnQiLCJtb2RlbHMiLCJBZGRyZXNzQ2xpZW50IiwiY3JlYXRlIiwiYm9keSIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwic2VuZCIsInVwZGF0ZSIsImRhdGEiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIl9pZCIsImZpbmRCeUlkIiwibGlzdCIsIkFERFJFU1NfQ0xJRU5UIiwiZmluZCIsInVzZXIiLCJxdWVyeSIsInVzZXJfaWQiLCJzb3J0IiwicmVtb3ZlIiwiZmluZEJ5SWRBbmREZWxldGUiLCJwYXJhbXMiXSwic291cmNlUm9vdCI6IkM6XFxVc2Vyc1xcbndvcmxcXEVzY3JpdG9yaW9cXFByb2dyYW1hY2nDs25cXEVjb21tZXJjZVNvbGl0ZWtcXGFwaV9lY29tbWVyY2VcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIkFkZHJlc3NDbGllbnRDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbHMgZnJvbSBcIi4uL21vZGVsc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcmVnaXN0ZXI6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGFkZHJlc3NfY2xpZW50ID0gYXdhaXQgbW9kZWxzLkFkZHJlc3NDbGllbnQuY3JlYXRlKHJlcS5ib2R5KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJMQSBESVJFQ0NJw5NOIERFTCBDTElFTlRFIFNFIFJFR0lTVFJPIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgICAgIGFkZHJlc3NfY2xpZW50OiBhZGRyZXNzX2NsaWVudCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkhVQk8gVU4gRVJST1JcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHVwZGF0ZTphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGRhdGEgPSByZXEuYm9keTtcclxuICAgICAgICAgICAgYXdhaXQgbW9kZWxzLkFkZHJlc3NDbGllbnQuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogcmVxLmJvZHkuX2lkfSxkYXRhKTtcclxuICAgICAgICAgICAgbGV0IEFkZHJlc3NDbGllbnQgPSBhd2FpdCBtb2RlbHMuQWRkcmVzc0NsaWVudC5maW5kQnlJZCh7X2lkOiByZXEuYm9keS5faWR9KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJMQSBESVJFQ0NJw5NOIERFTCBDTElFTlRFIFNFIEVESVRPIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgICAgIGFkZHJlc3NfY2xpZW50OiBBZGRyZXNzQ2xpZW50LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiSFVCTyBVTiBFUlJPUlwiLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbGlzdDphc3luYyhyZXEscmVzKSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IEFERFJFU1NfQ0xJRU5UID0gYXdhaXQgbW9kZWxzLkFkZHJlc3NDbGllbnQuZmluZCh7dXNlcjogcmVxLnF1ZXJ5LnVzZXJfaWR9KS5zb3J0KHsnY3JlYXRlZEF0JzogLTF9KTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgYWRkcmVzc19jbGllbnQ6IEFERFJFU1NfQ0xJRU5UXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgcmVzLnN0YXR1cyg1MDApLnNlbmQoe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJIVUJPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICByZW1vdmU6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5BZGRyZXNzQ2xpZW50LmZpbmRCeUlkQW5kRGVsZXRlKHtfaWQ6IHJlcS5wYXJhbXMuX2lkfSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTEEgRElSRUNDScOTTiBERUwgQ0xJRU5URSBTRSBFTElNSU5PIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkhVQk8gVU4gRVJST1JcIixcclxuICAg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","map":{"version":3,"names":["_models","_interopRequireDefault","require","obj","__esModule","default","_default","exports","register","req","res","address_client","models","AddressClient","create","body","status","json","message","error","console","log","send","update","data","findByIdAndUpdate","_id","findById","list","ADDRESS_CLIENT","find","user","query","user_id","sort","remove","findByIdAndDelete","params"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\controllers\\","sources":["AddressClientController.js"],"sourcesContent":["import models from \"../models\";\r\n\r\nexport default {\r\n    register:async(req,res) => {\r\n        try {\r\n            const address_client = await models.AddressClient.create(req.body);\r\n            res.status(200).json({\r\n                message: \"LA DIRECCIÓN DEL CLIENTE SE REGISTRO CORRECTAMENTE\",\r\n                address_client: address_client,\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"HUBO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    update:async(req,res) => {\r\n        try {\r\n            let data = req.body;\r\n            await models.AddressClient.findByIdAndUpdate({_id: req.body._id},data);\r\n            let AddressClient = await models.AddressClient.findById({_id: req.body._id});\r\n            res.status(200).json({\r\n                message: \"LA DIRECCIÓN DEL CLIENTE SE EDITO CORRECTAMENTE\",\r\n                address_client: AddressClient,\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"HUBO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    list:async(req,res) => {\r\n        try {\r\n            let ADDRESS_CLIENT = await models.AddressClient.find({user: req.query.user_id}).sort({'createdAt': -1});\r\n            res.status(200).json({\r\n                address_client: ADDRESS_CLIENT\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"HUBO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    remove:async(req,res) => {\r\n        try {\r\n            await models.AddressClient.findByIdAndDelete({_id: req.params._id});\r\n            res.status(200).json({\r\n                message: \"LA DIRECCIÓN DEL CLIENTE SE ELIMINO CORRECTAMENTE\",\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"HUBO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1718030132335},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\Sale.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _SaleController = _interopRequireDefault(require(\"../controllers/SaleController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\n// http://localhost:3000/api/users/register\n\nrouter.post(\"/register\", _auth.default.verifyEcommerce, _SaleController.default.register);\n//router.get(\"/send_email/:id\",SaleController.send_email);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9TYWxlQ29udHJvbGxlciIsIl9hdXRoIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJyb3V0ZXIiLCJyb3V0ZXJ4IiwicG9zdCIsImF1dGgiLCJ2ZXJpZnlFY29tbWVyY2UiLCJTYWxlQ29udHJvbGxlciIsInJlZ2lzdGVyIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsiU2FsZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tICdleHByZXNzLXByb21pc2Utcm91dGVyJ1xyXG5pbXBvcnQgU2FsZUNvbnRyb2xsZXIgZnJvbSAnLi4vY29udHJvbGxlcnMvU2FsZUNvbnRyb2xsZXInXHJcbmltcG9ydCBhdXRoIGZyb20gJy4uL21pZGRsZXdhcmVzL2F1dGgnXHJcblxyXG5jb25zdCByb3V0ZXIgPSByb3V0ZXJ4KCk7XHJcbi8vIGh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlcnMvcmVnaXN0ZXJcclxuXHJcbnJvdXRlci5wb3N0KFwiL3JlZ2lzdGVyXCIsYXV0aC52ZXJpZnlFY29tbWVyY2UsU2FsZUNvbnRyb2xsZXIucmVnaXN0ZXIpO1xyXG4gLy9yb3V0ZXIuZ2V0KFwiL3NlbmRfZW1haWwvOmlkXCIsU2FsZUNvbnRyb2xsZXIuc2VuZF9lbWFpbCk7XHJcbmV4cG9ydCBkZWZhdWx0IHJvdXRlcjtcclxuXHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEscUJBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLGVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFzQyxTQUFBRCx1QkFBQUksR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUV0QyxNQUFNRyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDO0FBQ3hCOztBQUVBRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUNDLGFBQUksQ0FBQ0MsZUFBZSxFQUFDQyx1QkFBYyxDQUFDQyxRQUFRLENBQUM7QUFDcEU7QUFBQSxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQVQsT0FBQSxHQUNjQyxNQUFNIiwiaWdub3JlTGlzdCI6W119","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_SaleController","_auth","obj","__esModule","default","router","routerx","post","auth","verifyEcommerce","SaleController","register","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\router\\","sources":["Sale.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport SaleController from '../controllers/SaleController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n// http://localhost:3000/api/users/register\r\n\r\nrouter.post(\"/register\",auth.verifyEcommerce,SaleController.register);\r\n //router.get(\"/send_email/:id\",SaleController.send_email);\r\nexport default router;\r\n\r\n"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,eAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AACxB;;AAEAD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,eAAe,EAACC,uBAAc,CAACC,QAAQ,CAAC;AACpE;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAT,OAAA,GACcC,MAAM","ignoreList":[]}},"mtime":1718045460610},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\SaleController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _handlebars = _interopRequireDefault(require(\"handlebars\"));\nvar _ejs = _interopRequireDefault(require(\"ejs\"));\nvar _nodemailer = _interopRequireDefault(require(\"nodemailer\"));\nvar _nodemailerSmtpTransport = _interopRequireDefault(require(\"nodemailer-smtp-transport\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// async function send_email(sale_id) {\n//     try {\n//         var readHTMLFile = function(path, callback) {\n//             fs.readFile(path, {encoding: 'utf-8'}, function (err, html) {\n//                 if (err) {\n//                     throw err;\n//                     callback(err);\n//                 }\n//                 else {\n//                     callback(null, html);\n//                 }\n//             });\n//         };  \n\n//         let Order = await models.Sale.findById({_id: sale_id}).populate(\"user\");\n//         let OrderDetail = await models.SaleDetail.find({sale: Order._id}).populate(\"product\").populate(\"variedad\");\n//         let AddressSale = await models.SaleAddress.findOne({sale: Order._id});\n//         var transporter = nodemailer.createTransport(smtpTransport({\n//             service: 'gmail',\n//             host: 'smtp.gmail.com',\n//             auth: {\n//             user: 'echodeveloper960@gmail.com',\n//                 pass: 'bilcfvchcrscbseu'\n//             }\n//         }));\n\n//         readHTMLFile(process.cwd() + '/mails/email_sale.html', (err, html)=>{\n\n//             OrderDetail.map((detail) => {\n//                 detail.product.imgs = process.env.URL_BACKEND+'/api/products/uploads/product/'+detail.product.portada;\n//                 return detail;\n//             });\n\n//             let rest_html = ejs.render(html, {order: Order,address_sale: AddressSale,order_detail: OrderDetail});\n\n//             var template = handlebars.compile(rest_html);\n//             var htmlToSend = template({op:true});\n\n//             var mailOptions = {\n//                 from: 'echodeveloper960@gmail.com',\n//                 to: Order.user.email,\n//                 subject: 'Finaliza tu compra ' + Order._id,\n//                 html: htmlToSend\n//             };\n\n//             transporter.sendMail(mailOptions, function(error, info){\n//                 if (!error) {\n//                     console.log('Email sent: ' + info.response);\n//                 }\n//             });\n\n//         });\n\n//         // res.status(200).json({\n//         //     message: \"EL CORREO SE ENVIO CORRECTAMENTE\",\n//         // });\n//     } catch (error) {\n//         console.log(error);\n//         // res.status(500).send({\n//         //     menssage:\"OCURRIO UN ERROR\",\n//         // });\n//     }\n// }\n\nasync function send_email(sale_id) {\n  try {\n    var readHTMLFile = function (path, callback) {\n      _fs.default.readFile(path, {\n        encoding: 'utf-8'\n      }, function (err, html) {\n        if (err) {\n          throw err;\n          callback(err);\n        } else {\n          callback(null, html);\n        }\n      });\n    };\n    let Order = await _models.default.Sale.findById({\n      _id: sale_id\n    }).populate(\"user\");\n    let OrderDetail = await _models.default.SaleDetail.find({\n      sale: Order._id\n    }).populate(\"product\").populate(\"variedad\");\n    let AddressSale = await _models.default.SaleAddress.findOne({\n      sale: Order._id\n    });\n    var transporter = _nodemailer.default.createTransport((0, _nodemailerSmtpTransport.default)({\n      service: 'gmail',\n      host: 'smtp.gmail.com',\n      auth: {\n        user: 'suetyumbo@gmail.com',\n        //encargado de enviar correos\n        pass: 'hgxxhaoomxyxxtix'\n      }\n    }));\n    readHTMLFile(process.cwd() + '/mails/email_sale.html', (err, html) => {\n      let rest_html = _ejs.default.render(html, {\n        order: Order,\n        address_sale: AddressSale,\n        order_detail: OrderDetail\n      });\n      var template = _handlebars.default.compile(rest_html);\n      var htmlToSend = template({\n        op: true\n      });\n      var mailOptions = {\n        from: 'suetyumbo@gmail.com',\n        to: Order.user.email,\n        subject: 'Finaliza tu compra ' + Order._id,\n        html: htmlToSend\n      };\n      transporter.sendMail(mailOptions, function (error, info) {\n        if (!error) {\n          console.log('Email sent: ' + info.response);\n        }\n      });\n    });\n    // res.status(200).json({\n    //     message: \"El correo se envio correctamente\",\n    // })\n  } catch (error) {\n    console.log(error);\n    // res.status(500).send({\n    //     menssage: 'Ocurrio un problema',\n    // });\n  }\n}\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let sale_data = req.body.sale;\n      let sale_address_data = req.body.sale_address;\n      let SALE = await _models.default.Sale.create(sale_data);\n      sale_address_data.sale = SALE._id;\n      let SALE_ADDRESS = await _models.default.SaleAddress.create(sale_address_data);\n      let CARTS = await _models.default.Cart.find({\n        user: SALE.user\n      });\n      for (let CART of CARTS) {\n        CART = CART.toObject();\n        CART.sale = SALE._id;\n        //EL DESCUENTO DE INVENTARIO\n        if (CART.variedad) {\n          //MULTIPLE INVENTARIO\n          let VARIEDAD = await _models.default.Variedad.findById({\n            _id: CART.variedad\n          });\n          let new_stock = VARIEDAD.stock - CART.cantidad;\n          await _models.default.Variedad.findByIdAndUpdate({\n            _id: CART.variedad\n          }, {\n            stock: new_stock\n          });\n        } else {\n          //UNITARIO INVENTARIO\n          let PRODUCT = await _models.default.Product.findById({\n            _id: CART.product\n          });\n          let new_stock = PRODUCT.stock - CART.cantidad;\n          await _models.default.Product.findByIdAndUpdate({\n            _id: CART.product\n          }, {\n            stock: new_stock\n          });\n        }\n        // \n        await _models.default.SaleDetail.create(CART);\n        await _models.default.Cart.findByIdAndDelete({\n          _id: CART._id\n        });\n      }\n      await send_email(SALE._id);\n      res.status(200).json({\n        message: \"LA ORDEN DE GENERO CORRECTAMENTE\"\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"HUBO UN ERROR\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfZnMiLCJfaGFuZGxlYmFycyIsIl9lanMiLCJfbm9kZW1haWxlciIsIl9ub2RlbWFpbGVyU210cFRyYW5zcG9ydCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwic2VuZF9lbWFpbCIsInNhbGVfaWQiLCJyZWFkSFRNTEZpbGUiLCJwYXRoIiwiY2FsbGJhY2siLCJmcyIsInJlYWRGaWxlIiwiZW5jb2RpbmciLCJlcnIiLCJodG1sIiwiT3JkZXIiLCJtb2RlbHMiLCJTYWxlIiwiZmluZEJ5SWQiLCJfaWQiLCJwb3B1bGF0ZSIsIk9yZGVyRGV0YWlsIiwiU2FsZURldGFpbCIsImZpbmQiLCJzYWxlIiwiQWRkcmVzc1NhbGUiLCJTYWxlQWRkcmVzcyIsImZpbmRPbmUiLCJ0cmFuc3BvcnRlciIsIm5vZGVtYWlsZXIiLCJjcmVhdGVUcmFuc3BvcnQiLCJzbXRwVHJhbnNwb3J0Iiwic2VydmljZSIsImhvc3QiLCJhdXRoIiwidXNlciIsInBhc3MiLCJwcm9jZXNzIiwiY3dkIiwicmVzdF9odG1sIiwiZWpzIiwicmVuZGVyIiwib3JkZXIiLCJhZGRyZXNzX3NhbGUiLCJvcmRlcl9kZXRhaWwiLCJ0ZW1wbGF0ZSIsImhhbmRsZWJhcnMiLCJjb21waWxlIiwiaHRtbFRvU2VuZCIsIm9wIiwibWFpbE9wdGlvbnMiLCJmcm9tIiwidG8iLCJlbWFpbCIsInN1YmplY3QiLCJzZW5kTWFpbCIsImVycm9yIiwiaW5mbyIsImNvbnNvbGUiLCJsb2ciLCJyZXNwb25zZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwic2FsZV9kYXRhIiwiYm9keSIsInNhbGVfYWRkcmVzc19kYXRhIiwic2FsZV9hZGRyZXNzIiwiU0FMRSIsImNyZWF0ZSIsIlNBTEVfQUREUkVTUyIsIkNBUlRTIiwiQ2FydCIsIkNBUlQiLCJ0b09iamVjdCIsInZhcmllZGFkIiwiVkFSSUVEQUQiLCJWYXJpZWRhZCIsIm5ld19zdG9jayIsInN0b2NrIiwiY2FudGlkYWQiLCJmaW5kQnlJZEFuZFVwZGF0ZSIsIlBST0RVQ1QiLCJQcm9kdWN0IiwicHJvZHVjdCIsImZpbmRCeUlkQW5kRGVsZXRlIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJzZW5kIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJTYWxlQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9kZWxzIGZyb20gJy4uL21vZGVscyc7XHJcblxyXG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xyXG5pbXBvcnQgaGFuZGxlYmFycyBmcm9tICdoYW5kbGViYXJzJztcclxuaW1wb3J0IGVqcyBmcm9tICdlanMnO1xyXG5pbXBvcnQgbm9kZW1haWxlciBmcm9tICdub2RlbWFpbGVyJztcclxuaW1wb3J0IHNtdHBUcmFuc3BvcnQgZnJvbSAnbm9kZW1haWxlci1zbXRwLXRyYW5zcG9ydCc7XHJcblxyXG4vLyBhc3luYyBmdW5jdGlvbiBzZW5kX2VtYWlsKHNhbGVfaWQpIHtcclxuLy8gICAgIHRyeSB7XHJcbi8vICAgICAgICAgdmFyIHJlYWRIVE1MRmlsZSA9IGZ1bmN0aW9uKHBhdGgsIGNhbGxiYWNrKSB7XHJcbi8vICAgICAgICAgICAgIGZzLnJlYWRGaWxlKHBhdGgsIHtlbmNvZGluZzogJ3V0Zi04J30sIGZ1bmN0aW9uIChlcnIsIGh0bWwpIHtcclxuLy8gICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XHJcbi8vICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcclxuLy8gICAgICAgICAgICAgICAgIH1cclxuLy8gICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4vLyAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIGh0bWwpO1xyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9KTtcclxuLy8gICAgICAgICB9OyAgXHJcbiAgICAgICAgXHJcbi8vICAgICAgICAgbGV0IE9yZGVyID0gYXdhaXQgbW9kZWxzLlNhbGUuZmluZEJ5SWQoe19pZDogc2FsZV9pZH0pLnBvcHVsYXRlKFwidXNlclwiKTtcclxuLy8gICAgICAgICBsZXQgT3JkZXJEZXRhaWwgPSBhd2FpdCBtb2RlbHMuU2FsZURldGFpbC5maW5kKHtzYWxlOiBPcmRlci5faWR9KS5wb3B1bGF0ZShcInByb2R1Y3RcIikucG9wdWxhdGUoXCJ2YXJpZWRhZFwiKTtcclxuLy8gICAgICAgICBsZXQgQWRkcmVzc1NhbGUgPSBhd2FpdCBtb2RlbHMuU2FsZUFkZHJlc3MuZmluZE9uZSh7c2FsZTogT3JkZXIuX2lkfSk7XHJcbi8vICAgICAgICAgdmFyIHRyYW5zcG9ydGVyID0gbm9kZW1haWxlci5jcmVhdGVUcmFuc3BvcnQoc210cFRyYW5zcG9ydCh7XHJcbi8vICAgICAgICAgICAgIHNlcnZpY2U6ICdnbWFpbCcsXHJcbi8vICAgICAgICAgICAgIGhvc3Q6ICdzbXRwLmdtYWlsLmNvbScsXHJcbi8vICAgICAgICAgICAgIGF1dGg6IHtcclxuLy8gICAgICAgICAgICAgdXNlcjogJ2VjaG9kZXZlbG9wZXI5NjBAZ21haWwuY29tJyxcclxuLy8gICAgICAgICAgICAgICAgIHBhc3M6ICdiaWxjZnZjaGNyc2Nic2V1J1xyXG4vLyAgICAgICAgICAgICB9XHJcbi8vICAgICAgICAgfSkpO1xyXG5cclxuLy8gICAgICAgICByZWFkSFRNTEZpbGUocHJvY2Vzcy5jd2QoKSArICcvbWFpbHMvZW1haWxfc2FsZS5odG1sJywgKGVyciwgaHRtbCk9PntcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4vLyAgICAgICAgICAgICBPcmRlckRldGFpbC5tYXAoKGRldGFpbCkgPT4ge1xyXG4vLyAgICAgICAgICAgICAgICAgZGV0YWlsLnByb2R1Y3QuaW1ncyA9IHByb2Nlc3MuZW52LlVSTF9CQUNLRU5EKycvYXBpL3Byb2R1Y3RzL3VwbG9hZHMvcHJvZHVjdC8nK2RldGFpbC5wcm9kdWN0LnBvcnRhZGE7XHJcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gZGV0YWlsO1xyXG4vLyAgICAgICAgICAgICB9KTtcclxuXHJcbi8vICAgICAgICAgICAgIGxldCByZXN0X2h0bWwgPSBlanMucmVuZGVyKGh0bWwsIHtvcmRlcjogT3JkZXIsYWRkcmVzc19zYWxlOiBBZGRyZXNzU2FsZSxvcmRlcl9kZXRhaWw6IE9yZGVyRGV0YWlsfSk7XHJcbiAgICBcclxuLy8gICAgICAgICAgICAgdmFyIHRlbXBsYXRlID0gaGFuZGxlYmFycy5jb21waWxlKHJlc3RfaHRtbCk7XHJcbi8vICAgICAgICAgICAgIHZhciBodG1sVG9TZW5kID0gdGVtcGxhdGUoe29wOnRydWV9KTtcclxuICAgIFxyXG4vLyAgICAgICAgICAgICB2YXIgbWFpbE9wdGlvbnMgPSB7XHJcbi8vICAgICAgICAgICAgICAgICBmcm9tOiAnZWNob2RldmVsb3Blcjk2MEBnbWFpbC5jb20nLFxyXG4vLyAgICAgICAgICAgICAgICAgdG86IE9yZGVyLnVzZXIuZW1haWwsXHJcbi8vICAgICAgICAgICAgICAgICBzdWJqZWN0OiAnRmluYWxpemEgdHUgY29tcHJhICcgKyBPcmRlci5faWQsXHJcbi8vICAgICAgICAgICAgICAgICBodG1sOiBodG1sVG9TZW5kXHJcbi8vICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICBcclxuLy8gICAgICAgICAgICAgdHJhbnNwb3J0ZXIuc2VuZE1haWwobWFpbE9wdGlvbnMsIGZ1bmN0aW9uKGVycm9yLCBpbmZvKXtcclxuLy8gICAgICAgICAgICAgICAgIGlmICghZXJyb3IpIHtcclxuLy8gICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRW1haWwgc2VudDogJyArIGluZm8ucmVzcG9uc2UpO1xyXG4vLyAgICAgICAgICAgICAgICAgfVxyXG4vLyAgICAgICAgICAgICB9KTtcclxuICAgICAgICBcclxuLy8gICAgICAgICB9KTtcclxuICAgICAgICBcclxuLy8gICAgICAgICAvLyByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbi8vICAgICAgICAgLy8gICAgIG1lc3NhZ2U6IFwiRUwgQ09SUkVPIFNFIEVOVklPIENPUlJFQ1RBTUVOVEVcIixcclxuLy8gICAgICAgICAvLyB9KTtcclxuLy8gICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbi8vICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4vLyAgICAgICAgIC8vIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuLy8gICAgICAgICAvLyAgICAgbWVuc3NhZ2U6XCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbi8vICAgICAgICAgLy8gfSk7XHJcbi8vICAgICB9XHJcbi8vIH1cclxuXHJcbmFzeW5jICBmdW5jdGlvbiBzZW5kX2VtYWlsKHNhbGVfaWQpe1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB2YXIgcmVhZEhUTUxGaWxlID0gZnVuY3Rpb24ocGF0aCwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgZnMucmVhZEZpbGUocGF0aCwge2VuY29kaW5nOiAndXRmLTgnfSwgZnVuY3Rpb24gKGVyciwgaHRtbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgaHRtbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGxldCBPcmRlciA9IGF3YWl0IG1vZGVscy5TYWxlLmZpbmRCeUlkKHtfaWQ6IHNhbGVfaWR9KS5wb3B1bGF0ZShcInVzZXJcIik7XHJcbiAgICAgICAgbGV0IE9yZGVyRGV0YWlsID0gYXdhaXQgbW9kZWxzLlNhbGVEZXRhaWwuZmluZCh7c2FsZTogT3JkZXIuX2lkfSkucG9wdWxhdGUoXCJwcm9kdWN0XCIpLnBvcHVsYXRlKFwidmFyaWVkYWRcIik7XHJcbiAgICAgICAgbGV0IEFkZHJlc3NTYWxlID0gYXdhaXQgbW9kZWxzLlNhbGVBZGRyZXNzLmZpbmRPbmUoe3NhbGU6IE9yZGVyLl9pZH0pO1xyXG5cclxuICAgICAgICB2YXIgdHJhbnNwb3J0ZXIgPSBub2RlbWFpbGVyLmNyZWF0ZVRyYW5zcG9ydChzbXRwVHJhbnNwb3J0KHtcclxuICAgICAgICAgICAgc2VydmljZTogJ2dtYWlsJyxcclxuICAgICAgICAgICAgaG9zdDogJ3NtdHAuZ21haWwuY29tJyxcclxuICAgICAgICAgICAgYXV0aDoge1xyXG4gICAgICAgICAgICB1c2VyOiAnc3VldHl1bWJvQGdtYWlsLmNvbScsLy9lbmNhcmdhZG8gZGUgZW52aWFyIGNvcnJlb3NcclxuICAgICAgICAgICAgcGFzczogJ2hneHhoYW9vbXh5eHh0aXgnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgcmVhZEhUTUxGaWxlKHByb2Nlc3MuY3dkKCkgKyAnL21haWxzL2VtYWlsX3NhbGUuaHRtbCcsIChlcnIsIGh0bWwpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCByZXN0X2h0bWwgPSBlanMucmVuZGVyKGh0bWwsIHtvcmRlcjogT3JkZXIsYWRkcmVzc19zYWxlOkFkZHJlc3NTYWxlLG9yZGVyX2RldGFpbDpPcmRlckRldGFpbH0pO1xyXG4gICAgXHJcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZSA9IGhhbmRsZWJhcnMuY29tcGlsZShyZXN0X2h0bWwpO1xyXG4gICAgICAgICAgICB2YXIgaHRtbFRvU2VuZCA9IHRlbXBsYXRlKHtvcDp0cnVlfSk7XHJcbiAgICBcclxuICAgICAgICAgICAgdmFyIG1haWxPcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgZnJvbTogJ3N1ZXR5dW1ib0BnbWFpbC5jb20nLFxyXG4gICAgICAgICAgICAgICAgdG86IE9yZGVyLnVzZXIuZW1haWwsXHJcbiAgICAgICAgICAgICAgICBzdWJqZWN0OiAnRmluYWxpemEgdHUgY29tcHJhICcgKyBPcmRlci5faWQsXHJcbiAgICAgICAgICAgICAgICBodG1sOiBodG1sVG9TZW5kXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICBcclxuICAgICAgICAgICAgdHJhbnNwb3J0ZXIuc2VuZE1haWwobWFpbE9wdGlvbnMsIGZ1bmN0aW9uKGVycm9yLCBpbmZvKXtcclxuICAgICAgICAgICAgICAgIGlmICghZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRW1haWwgc2VudDogJyArIGluZm8ucmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgLy8gICAgIG1lc3NhZ2U6IFwiRWwgY29ycmVvIHNlIGVudmlvIGNvcnJlY3RhbWVudGVcIixcclxuICAgICAgICAvLyB9KVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgIC8vIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAvLyAgICAgbWVuc3NhZ2U6ICdPY3VycmlvIHVuIHByb2JsZW1hJyxcclxuICAgICAgICAvLyB9KTtcclxuICAgIH1cclxuICAgXHJcblxyXG5cclxuXHJcbn1cclxuXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcmVnaXN0ZXI6IGFzeW5jKHJlcSxyZXMpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgc2FsZV9kYXRhID0gcmVxLmJvZHkuc2FsZTtcclxuICAgICAgICAgICAgbGV0IHNhbGVfYWRkcmVzc19kYXRhID0gcmVxLmJvZHkuc2FsZV9hZGRyZXNzO1xyXG5cclxuICAgICAgICAgICAgbGV0IFNBTEUgPSBhd2FpdCBtb2RlbHMuU2FsZS5jcmVhdGUoc2FsZV9kYXRhKTtcclxuXHJcbiAgICAgICAgICAgIHNhbGVfYWRkcmVzc19kYXRhLnNhbGUgPSBTQUxFLl9pZDtcclxuXHJcbiAgICAgICAgICAgIGxldCBTQUxFX0FERFJFU1MgPSBhd2FpdCBtb2RlbHMuU2FsZUFkZHJlc3MuY3JlYXRlKHNhbGVfYWRkcmVzc19kYXRhKTtcclxuXHJcbiAgICAgICAgICAgIGxldCBDQVJUUyA9IGF3YWl0IG1vZGVscy5DYXJ0LmZpbmQoe3VzZXI6IFNBTEUudXNlcn0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZm9yIChsZXQgQ0FSVCBvZiBDQVJUUykge1xyXG4gICAgICAgICAgICAgICAgQ0FSVCA9IENBUlQudG9PYmplY3QoKTtcclxuICAgICAgICAgICAgICAgIENBUlQuc2FsZSA9IFNBTEUuX2lkO1xyXG4gICAgICAgICAgICAgICAgLy9FTCBERVNDVUVOVE8gREUgSU5WRU5UQVJJT1xyXG4gICAgICAgICAgICAgICAgaWYoQ0FSVC52YXJpZWRhZCl7Ly9NVUxUSVBMRSBJTlZFTlRBUklPXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IFZBUklFREFEID0gYXdhaXQgbW9kZWxzLlZhcmllZGFkLmZpbmRCeUlkKHtfaWQ6IENBUlQudmFyaWVkYWR9KTtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbmV3X3N0b2NrID0gVkFSSUVEQUQuc3RvY2sgLSBDQVJULmNhbnRpZGFkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBtb2RlbHMuVmFyaWVkYWQuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogQ0FSVC52YXJpZWRhZH0se1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9jazogbmV3X3N0b2NrLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9ZWxzZXsvL1VOSVRBUklPIElOVkVOVEFSSU9cclxuICAgICAgICAgICAgICAgICAgICBsZXQgUFJPRFVDVCA9IGF3YWl0IG1vZGVscy5Qcm9kdWN0LmZpbmRCeUlkKHtfaWQ6IENBUlQucHJvZHVjdH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXdfc3RvY2sgPSBQUk9EVUNULnN0b2NrIC0gQ0FSVC5jYW50aWRhZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlByb2R1Y3QuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogQ0FSVC5wcm9kdWN0fSx7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b2NrOm5ld19zdG9jayxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICAgICAgYXdhaXQgbW9kZWxzLlNhbGVEZXRhaWwuY3JlYXRlKENBUlQpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgbW9kZWxzLkNhcnQuZmluZEJ5SWRBbmREZWxldGUoe19pZDogQ0FSVC5faWR9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYXdhaXQgc2VuZF9lbWFpbChTQUxFLl9pZCk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkxBIE9SREVOIERFIEdFTkVSTyBDT1JSRUNUQU1FTlRFXCIsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkhVQk8gVU4gRVJST1JcIixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBcclxufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsT0FBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBQUMsR0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsV0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsSUFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksV0FBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUssd0JBQUEsR0FBQU4sc0JBQUEsQ0FBQUMsT0FBQTtBQUFzRCxTQUFBRCx1QkFBQU8sR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUV0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZUFBZ0JHLFVBQVVBLENBQUNDLE9BQU8sRUFBQztFQUMvQixJQUFJO0lBQ0EsSUFBSUMsWUFBWSxHQUFHLFNBQUFBLENBQVNDLElBQUksRUFBRUMsUUFBUSxFQUFFO01BQ3hDQyxXQUFFLENBQUNDLFFBQVEsQ0FBQ0gsSUFBSSxF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","map":{"version":3,"names":["_models","_interopRequireDefault","require","_fs","_handlebars","_ejs","_nodemailer","_nodemailerSmtpTransport","obj","__esModule","default","send_email","sale_id","readHTMLFile","path","callback","fs","readFile","encoding","err","html","Order","models","Sale","findById","_id","populate","OrderDetail","SaleDetail","find","sale","AddressSale","SaleAddress","findOne","transporter","nodemailer","createTransport","smtpTransport","service","host","auth","user","pass","process","cwd","rest_html","ejs","render","order","address_sale","order_detail","template","handlebars","compile","htmlToSend","op","mailOptions","from","to","email","subject","sendMail","error","info","console","log","response","_default","exports","register","req","res","sale_data","body","sale_address_data","sale_address","SALE","create","SALE_ADDRESS","CARTS","Cart","CART","toObject","variedad","VARIEDAD","Variedad","new_stock","stock","cantidad","findByIdAndUpdate","PRODUCT","Product","product","findByIdAndDelete","status","json","message","send"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\controllers\\","sources":["SaleController.js"],"sourcesContent":["import models from '../models';\r\n\r\nimport fs from 'fs';\r\nimport handlebars from 'handlebars';\r\nimport ejs from 'ejs';\r\nimport nodemailer from 'nodemailer';\r\nimport smtpTransport from 'nodemailer-smtp-transport';\r\n\r\n// async function send_email(sale_id) {\r\n//     try {\r\n//         var readHTMLFile = function(path, callback) {\r\n//             fs.readFile(path, {encoding: 'utf-8'}, function (err, html) {\r\n//                 if (err) {\r\n//                     throw err;\r\n//                     callback(err);\r\n//                 }\r\n//                 else {\r\n//                     callback(null, html);\r\n//                 }\r\n//             });\r\n//         };  \r\n        \r\n//         let Order = await models.Sale.findById({_id: sale_id}).populate(\"user\");\r\n//         let OrderDetail = await models.SaleDetail.find({sale: Order._id}).populate(\"product\").populate(\"variedad\");\r\n//         let AddressSale = await models.SaleAddress.findOne({sale: Order._id});\r\n//         var transporter = nodemailer.createTransport(smtpTransport({\r\n//             service: 'gmail',\r\n//             host: 'smtp.gmail.com',\r\n//             auth: {\r\n//             user: 'echodeveloper960@gmail.com',\r\n//                 pass: 'bilcfvchcrscbseu'\r\n//             }\r\n//         }));\r\n\r\n//         readHTMLFile(process.cwd() + '/mails/email_sale.html', (err, html)=>{\r\n                            \r\n//             OrderDetail.map((detail) => {\r\n//                 detail.product.imgs = process.env.URL_BACKEND+'/api/products/uploads/product/'+detail.product.portada;\r\n//                 return detail;\r\n//             });\r\n\r\n//             let rest_html = ejs.render(html, {order: Order,address_sale: AddressSale,order_detail: OrderDetail});\r\n    \r\n//             var template = handlebars.compile(rest_html);\r\n//             var htmlToSend = template({op:true});\r\n    \r\n//             var mailOptions = {\r\n//                 from: 'echodeveloper960@gmail.com',\r\n//                 to: Order.user.email,\r\n//                 subject: 'Finaliza tu compra ' + Order._id,\r\n//                 html: htmlToSend\r\n//             };\r\n          \r\n//             transporter.sendMail(mailOptions, function(error, info){\r\n//                 if (!error) {\r\n//                     console.log('Email sent: ' + info.response);\r\n//                 }\r\n//             });\r\n        \r\n//         });\r\n        \r\n//         // res.status(200).json({\r\n//         //     message: \"EL CORREO SE ENVIO CORRECTAMENTE\",\r\n//         // });\r\n//     } catch (error) {\r\n//         console.log(error);\r\n//         // res.status(500).send({\r\n//         //     menssage:\"OCURRIO UN ERROR\",\r\n//         // });\r\n//     }\r\n// }\r\n\r\nasync  function send_email(sale_id){\r\n    try {\r\n        var readHTMLFile = function(path, callback) {\r\n            fs.readFile(path, {encoding: 'utf-8'}, function (err, html) {\r\n                if (err) {\r\n                    throw err;\r\n                    callback(err);\r\n                }\r\n                else {\r\n                    callback(null, html);\r\n                }\r\n            });\r\n        };\r\n\r\n        let Order = await models.Sale.findById({_id: sale_id}).populate(\"user\");\r\n        let OrderDetail = await models.SaleDetail.find({sale: Order._id}).populate(\"product\").populate(\"variedad\");\r\n        let AddressSale = await models.SaleAddress.findOne({sale: Order._id});\r\n\r\n        var transporter = nodemailer.createTransport(smtpTransport({\r\n            service: 'gmail',\r\n            host: 'smtp.gmail.com',\r\n            auth: {\r\n            user: 'suetyumbo@gmail.com',//encargado de enviar correos\r\n            pass: 'hgxxhaoomxyxxtix'\r\n            }\r\n        }));\r\n        readHTMLFile(process.cwd() + '/mails/email_sale.html', (err, html)=>{\r\n                                \r\n            let rest_html = ejs.render(html, {order: Order,address_sale:AddressSale,order_detail:OrderDetail});\r\n    \r\n            var template = handlebars.compile(rest_html);\r\n            var htmlToSend = template({op:true});\r\n    \r\n            var mailOptions = {\r\n                from: 'suetyumbo@gmail.com',\r\n                to: Order.user.email,\r\n                subject: 'Finaliza tu compra ' + Order._id,\r\n                html: htmlToSend\r\n            };\r\n          \r\n            transporter.sendMail(mailOptions, function(error, info){\r\n                if (!error) {\r\n                    console.log('Email sent: ' + info.response);\r\n                }\r\n            });\r\n        \r\n        });\r\n        // res.status(200).json({\r\n        //     message: \"El correo se envio correctamente\",\r\n        // })\r\n    } catch (error) {\r\n         console.log(error);\r\n        // res.status(500).send({\r\n        //     menssage: 'Ocurrio un problema',\r\n        // });\r\n    }\r\n   \r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\nexport default {\r\n    register: async(req,res) => {\r\n        try {\r\n            let sale_data = req.body.sale;\r\n            let sale_address_data = req.body.sale_address;\r\n\r\n            let SALE = await models.Sale.create(sale_data);\r\n\r\n            sale_address_data.sale = SALE._id;\r\n\r\n            let SALE_ADDRESS = await models.SaleAddress.create(sale_address_data);\r\n\r\n            let CARTS = await models.Cart.find({user: SALE.user});\r\n            \r\n            for (let CART of CARTS) {\r\n                CART = CART.toObject();\r\n                CART.sale = SALE._id;\r\n                //EL DESCUENTO DE INVENTARIO\r\n                if(CART.variedad){//MULTIPLE INVENTARIO\r\n                    let VARIEDAD = await models.Variedad.findById({_id: CART.variedad});\r\n                    let new_stock = VARIEDAD.stock - CART.cantidad;\r\n\r\n                    await models.Variedad.findByIdAndUpdate({_id: CART.variedad},{\r\n                        stock: new_stock,\r\n                    })\r\n                }else{//UNITARIO INVENTARIO\r\n                    let PRODUCT = await models.Product.findById({_id: CART.product});\r\n                    let new_stock = PRODUCT.stock - CART.cantidad;\r\n\r\n                    await models.Product.findByIdAndUpdate({_id: CART.product},{\r\n                        stock:new_stock,\r\n                    });\r\n                }\r\n                // \r\n                await models.SaleDetail.create(CART);\r\n                await models.Cart.findByIdAndDelete({_id: CART._id});\r\n            }\r\n\r\n            await send_email(SALE._id);\r\n\r\n            res.status(200).json({\r\n                message: \"LA ORDEN DE GENERO CORRECTAMENTE\",\r\n            })\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message: \"HUBO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n\r\n    \r\n}"],"mappings":"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","ignoreList":[]}},"mtime":1718060778984},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\router\\\\Review.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _expressPromiseRouter = _interopRequireDefault(require(\"express-promise-router\"));\nvar _ReviewClientController = _interopRequireDefault(require(\"../controllers/ReviewClientController\"));\nvar _auth = _interopRequireDefault(require(\"../middlewares/auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst router = (0, _expressPromiseRouter.default)();\nrouter.post(\"/register\", _auth.default.verifyEcommerce, _ReviewClientController.default.register);\nrouter.put(\"/update\", _auth.default.verifyEcommerce, _ReviewClientController.default.update);\nvar _default = exports.default = router;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzc1Byb21pc2VSb3V0ZXIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9SZXZpZXdDbGllbnRDb250cm9sbGVyIiwiX2F1dGgiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsInJvdXRlciIsInJvdXRlcngiLCJwb3N0IiwiYXV0aCIsInZlcmlmeUVjb21tZXJjZSIsIlJldmlld0NsaWVudENvbnRyb2xsZXIiLCJyZWdpc3RlciIsInB1dCIsInVwZGF0ZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiQzpcXFVzZXJzXFxud29ybFxcRXNjcml0b3Jpb1xcUHJvZ3JhbWFjacOzblxcRWNvbW1lcmNlU29saXRla1xcYXBpX2Vjb21tZXJjZVxccm91dGVyXFwiLCJzb3VyY2VzIjpbIlJldmlldy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcm91dGVyeCBmcm9tICdleHByZXNzLXByb21pc2Utcm91dGVyJ1xyXG5pbXBvcnQgUmV2aWV3Q2xpZW50Q29udHJvbGxlciBmcm9tICcuLi9jb250cm9sbGVycy9SZXZpZXdDbGllbnRDb250cm9sbGVyJ1xyXG5pbXBvcnQgYXV0aCBmcm9tICcuLi9taWRkbGV3YXJlcy9hdXRoJ1xyXG5cclxuY29uc3Qgcm91dGVyID0gcm91dGVyeCgpO1xyXG5cclxucm91dGVyLnBvc3QoXCIvcmVnaXN0ZXJcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxSZXZpZXdDbGllbnRDb250cm9sbGVyLnJlZ2lzdGVyKTtcclxucm91dGVyLnB1dChcIi91cGRhdGVcIixhdXRoLnZlcmlmeUVjb21tZXJjZSxSZXZpZXdDbGllbnRDb250cm9sbGVyLnVwZGF0ZSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCByb3V0ZXI7Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxxQkFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsdUJBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUFzQyxTQUFBRCx1QkFBQUksR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUV0QyxNQUFNRyxNQUFNLEdBQUcsSUFBQUMsNkJBQU8sRUFBQyxDQUFDO0FBRXhCRCxNQUFNLENBQUNFLElBQUksQ0FBQyxXQUFXLEVBQUNDLGFBQUksQ0FBQ0MsZUFBZSxFQUFDQywrQkFBc0IsQ0FBQ0MsUUFBUSxDQUFDO0FBQzdFTixNQUFNLENBQUNPLEdBQUcsQ0FBQyxTQUFTLEVBQUNKLGFBQUksQ0FBQ0MsZUFBZSxFQUFDQywrQkFBc0IsQ0FBQ0csTUFBTSxDQUFDO0FBQUMsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFYLE9BQUEsR0FFMURDLE1BQU0iLCJpZ25vcmVMaXN0IjpbXX0=","map":{"version":3,"names":["_expressPromiseRouter","_interopRequireDefault","require","_ReviewClientController","_auth","obj","__esModule","default","router","routerx","post","auth","verifyEcommerce","ReviewClientController","register","put","update","_default","exports"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\router\\","sources":["Review.js"],"sourcesContent":["import routerx from 'express-promise-router'\r\nimport ReviewClientController from '../controllers/ReviewClientController'\r\nimport auth from '../middlewares/auth'\r\n\r\nconst router = routerx();\r\n\r\nrouter.post(\"/register\",auth.verifyEcommerce,ReviewClientController.register);\r\nrouter.put(\"/update\",auth.verifyEcommerce,ReviewClientController.update);\r\n\r\nexport default router;"],"mappings":";;;;;;AAAA,IAAAA,qBAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,uBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAsC,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEtC,MAAMG,MAAM,GAAG,IAAAC,6BAAO,EAAC,CAAC;AAExBD,MAAM,CAACE,IAAI,CAAC,WAAW,EAACC,aAAI,CAACC,eAAe,EAACC,+BAAsB,CAACC,QAAQ,CAAC;AAC7EN,MAAM,CAACO,GAAG,CAAC,SAAS,EAACJ,aAAI,CAACC,eAAe,EAACC,+BAAsB,CAACG,MAAM,CAAC;AAAC,IAAAC,QAAA,GAAAC,OAAA,CAAAX,OAAA,GAE1DC,MAAM","ignoreList":[]}},"mtime":1718064492514},"{\"assumptions\":{},\"sourceRoot\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"filename\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\\\\controllers\\\\ReviewClientController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"C:\\\\Users\\\\nworl\\\\Escritorio\\\\Programación\\\\EcommerceSolitek\\\\api_ecommerce\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"syntax-class-static-block\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-private-property-in-object\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-class-properties\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-nullish-coalescing-operator\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-chaining\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.24.5:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _models = _interopRequireDefault(require(\"../models\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nvar _default = exports.default = {\n  register: async (req, res) => {\n    try {\n      let review = await _models.default.Review.create(req.body);\n      res.status(200).json({\n        message: \"LA RESEÑA HA SIDO REGISTRADA CORRECTAMENTE\",\n        review: review\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  },\n  update: async (req, res) => {\n    try {\n      await _models.default.Review.findByIdAndUpdate({\n        _id: req.body._id\n      }, req.body);\n      let reviewD = await _models.default.Review.findById({\n        _id: req.body._id\n      });\n      res.status(200).json({\n        message: \"LA RESEÑA HA MODIFICADO CORRECTAMENTE\",\n        review: reviewD\n      });\n    } catch (error) {\n      console.log(error);\n      res.status(500).send({\n        message: \"OCURRIO UN ERROR\"\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfbW9kZWxzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIl9kZWZhdWx0IiwiZXhwb3J0cyIsInJlZ2lzdGVyIiwicmVxIiwicmVzIiwicmV2aWV3IiwibW9kZWxzIiwiUmV2aWV3IiwiY3JlYXRlIiwiYm9keSIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIiwic2VuZCIsInVwZGF0ZSIsImZpbmRCeUlkQW5kVXBkYXRlIiwiX2lkIiwicmV2aWV3RCIsImZpbmRCeUlkIl0sInNvdXJjZVJvb3QiOiJDOlxcVXNlcnNcXG53b3JsXFxFc2NyaXRvcmlvXFxQcm9ncmFtYWNpw7NuXFxFY29tbWVyY2VTb2xpdGVrXFxhcGlfZWNvbW1lcmNlXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJSZXZpZXdDbGllbnRDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb2RlbHMgZnJvbSBcIi4uL21vZGVsc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gICAgcmVnaXN0ZXI6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCByZXZpZXcgPSBhd2FpdCBtb2RlbHMuUmV2aWV3LmNyZWF0ZShyZXEuYm9keSk7XHJcblxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkxBIFJFU0XDkUEgSEEgU0lETyBSRUdJU1RSQURBIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgICAgIHJldmlldzogcmV2aWV3LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6XCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB1cGRhdGU6YXN5bmMocmVxLHJlcykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGF3YWl0IG1vZGVscy5SZXZpZXcuZmluZEJ5SWRBbmRVcGRhdGUoe19pZDogcmVxLmJvZHkuX2lkfSxyZXEuYm9keSk7XHJcblxyXG4gICAgICAgICAgICBsZXQgcmV2aWV3RCA9IGF3YWl0IG1vZGVscy5SZXZpZXcuZmluZEJ5SWQoe19pZDogcmVxLmJvZHkuX2lkfSk7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTEEgUkVTRcORQSBIQSBNT0RJRklDQURPIENPUlJFQ1RBTUVOVEVcIixcclxuICAgICAgICAgICAgICAgIHJldmlldzogcmV2aWV3RFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoNTAwKS5zZW5kKHtcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6XCJPQ1VSUklPIFVOIEVSUk9SXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbn0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLE9BQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUErQixTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUFBLElBQUFHLFFBQUEsR0FBQUMsT0FBQSxDQUFBRixPQUFBLEdBRWhCO0VBQ1hHLFFBQVEsRUFBQyxNQUFBQSxDQUFNQyxHQUFHLEVBQUNDLEdBQUcsS0FBSztJQUN2QixJQUFJO01BQ0EsSUFBSUMsTUFBTSxHQUFHLE1BQU1DLGVBQU0sQ0FBQ0MsTUFBTSxDQUFDQyxNQUFNLENBQUNMLEdBQUcsQ0FBQ00sSUFBSSxDQUFDO01BRWpETCxHQUFHLENBQUNNLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUUsNENBQTRDO1FBQ3JEUCxNQUFNLEVBQUVBO01BQ1osQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDLE9BQU9RLEtBQUssRUFBRTtNQUNaQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsS0FBSyxDQUFDO01BQ2xCVCxHQUFHLENBQUNNLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ00sSUFBSSxDQUFDO1FBQ2pCSixPQUFPLEVBQUM7TUFDWixDQUFDLENBQUM7SUFDTjtFQUNKLENBQUM7RUFDREssTUFBTSxFQUFDLE1BQUFBLENBQU1kLEdBQUcsRUFBQ0MsR0FBRyxLQUFLO0lBQ3JCLElBQUk7TUFDQSxNQUFNRSxlQUFNLENBQUNDLE1BQU0sQ0FBQ1csaUJBQWlCLENBQUM7UUFBQ0MsR0FBRyxFQUFFaEIsR0FBRyxDQUFDTSxJQUFJLENBQUNVO01BQUcsQ0FBQyxFQUFDaEIsR0FBRyxDQUFDTSxJQUFJLENBQUM7TUFFbkUsSUFBSVcsT0FBTyxHQUFHLE1BQU1kLGVBQU0sQ0FBQ0MsTUFBTSxDQUFDYyxRQUFRLENBQUM7UUFBQ0YsR0FBRyxFQUFFaEIsR0FBRyxDQUFDTSxJQUFJLENBQUNVO01BQUcsQ0FBQyxDQUFDO01BQy9EZixHQUFHLENBQUNNLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1FBQ2pCQyxPQUFPLEVBQUUsdUNBQXVDO1FBQ2hEUCxNQUFNLEVBQUVlO01BQ1osQ0FBQyxDQUFDO0lBQ04sQ0FBQyxDQUFDLE9BQU9QLEtBQUssRUFBRTtNQUNaQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsS0FBSyxDQUFDO01BQ2xCVCxHQUFHLENBQUNNLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ00sSUFBSSxDQUFDO1FBQ2pCSixPQUFPLEVBQUM7TUFDWixDQUFDLENBQUM7SUFDTjtFQUNKO0FBQ0osQ0FBQyIsImlnbm9yZUxpc3QiOltdfQ==","map":{"version":3,"names":["_models","_interopRequireDefault","require","obj","__esModule","default","_default","exports","register","req","res","review","models","Review","create","body","status","json","message","error","console","log","send","update","findByIdAndUpdate","_id","reviewD","findById"],"sourceRoot":"C:\\Users\\nworl\\Escritorio\\Programación\\EcommerceSolitek\\api_ecommerce\\controllers\\","sources":["ReviewClientController.js"],"sourcesContent":["import models from \"../models\";\r\n\r\nexport default {\r\n    register:async(req,res) => {\r\n        try {\r\n            let review = await models.Review.create(req.body);\r\n\r\n            res.status(200).json({\r\n                message: \"LA RESEÑA HA SIDO REGISTRADA CORRECTAMENTE\",\r\n                review: review,\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n    update:async(req,res) => {\r\n        try {\r\n            await models.Review.findByIdAndUpdate({_id: req.body._id},req.body);\r\n\r\n            let reviewD = await models.Review.findById({_id: req.body._id});\r\n            res.status(200).json({\r\n                message: \"LA RESEÑA HA MODIFICADO CORRECTAMENTE\",\r\n                review: reviewD\r\n            });\r\n        } catch (error) {\r\n            console.log(error);\r\n            res.status(500).send({\r\n                message:\"OCURRIO UN ERROR\",\r\n            });\r\n        }\r\n    },\r\n}"],"mappings":";;;;;;AAAA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA+B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAF,OAAA,GAEhB;EACXG,QAAQ,EAAC,MAAAA,CAAMC,GAAG,EAACC,GAAG,KAAK;IACvB,IAAI;MACA,IAAIC,MAAM,GAAG,MAAMC,eAAM,CAACC,MAAM,CAACC,MAAM,CAACL,GAAG,CAACM,IAAI,CAAC;MAEjDL,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE,4CAA4C;QACrDP,MAAM,EAAEA;MACZ,CAAC,CAAC;IACN,CAAC,CAAC,OAAOQ,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClBT,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACM,IAAI,CAAC;QACjBJ,OAAO,EAAC;MACZ,CAAC,CAAC;IACN;EACJ,CAAC;EACDK,MAAM,EAAC,MAAAA,CAAMd,GAAG,EAACC,GAAG,KAAK;IACrB,IAAI;MACA,MAAME,eAAM,CAACC,MAAM,CAACW,iBAAiB,CAAC;QAACC,GAAG,EAAEhB,GAAG,CAACM,IAAI,CAACU;MAAG,CAAC,EAAChB,GAAG,CAACM,IAAI,CAAC;MAEnE,IAAIW,OAAO,GAAG,MAAMd,eAAM,CAACC,MAAM,CAACc,QAAQ,CAAC;QAACF,GAAG,EAAEhB,GAAG,CAACM,IAAI,CAACU;MAAG,CAAC,CAAC;MAC/Df,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;QACjBC,OAAO,EAAE,uCAAuC;QAChDP,MAAM,EAAEe;MACZ,CAAC,CAAC;IACN,CAAC,CAAC,OAAOP,KAAK,EAAE;MACZC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClBT,GAAG,CAACM,MAAM,CAAC,GAAG,CAAC,CAACM,IAAI,CAAC;QACjBJ,OAAO,EAAC;MACZ,CAAC,CAAC;IACN;EACJ;AACJ,CAAC","ignoreList":[]}},"mtime":1718064634793}}